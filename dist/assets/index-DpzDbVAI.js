(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ng(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ch={exports:{}},Aa={},Th={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),sg=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),cg=Symbol.for("react.context"),ug=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),hg=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),Lu=Symbol.iterator;function fg(t){return t===null||typeof t!="object"?null:(t=Lu&&t[Lu]||t["@@iterator"],typeof t=="function"?t:null)}var Ah={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ih=Object.assign,Mh={};function Hn(t,e,r){this.props=t,this.context=e,this.refs=Mh,this.updater=r||Ah}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lh(){}Lh.prototype=Hn.prototype;function ac(t,e,r){this.props=t,this.context=e,this.refs=Mh,this.updater=r||Ah}var lc=ac.prototype=new Lh;lc.constructor=ac;Ih(lc,Hn.prototype);lc.isPureReactComponent=!0;var Ru=Array.isArray,Rh=Object.prototype.hasOwnProperty,oc={current:null},Dh={key:!0,ref:!0,__self:!0,__source:!0};function $h(t,e,r){var n,i={},a=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)Rh.call(e,n)&&!Dh.hasOwnProperty(n)&&(i[n]=e[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:Xs,type:t,key:a,ref:l,props:i,_owner:oc.current}}function pg(t,e){return{$$typeof:Xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xs}function gg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Du=/\/+/g;function ol(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gg(""+t.key):e.toString(36)}function Oi(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Xs:case sg:l=!0}}if(l)return l=t,i=i(l),t=n===""?"."+ol(l,0):n,Ru(i)?(r="",t!=null&&(r=t.replace(Du,"$&/")+"/"),Oi(i,e,r,"",function(u){return u})):i!=null&&(cc(i)&&(i=pg(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Du,"$&/")+"/")+t)),e.push(i)),1;if(l=0,n=n===""?".":n+":",Ru(t))for(var c=0;c<t.length;c++){a=t[c];var o=n+ol(a,c);l+=Oi(a,e,r,o,i)}else if(o=fg(t),typeof o=="function")for(t=o.call(t),c=0;!(a=t.next()).done;)a=a.value,o=n+ol(a,c++),l+=Oi(a,e,r,o,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function mi(t,e,r){if(t==null)return t;var n=[],i=0;return Oi(t,n,"","",function(a){return e.call(r,a,i++)}),n}function xg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},zi={transition:null},yg={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:zi,ReactCurrentOwner:oc};function Oh(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:mi,forEach:function(t,e,r){mi(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return mi(t,function(){e++}),e},toArray:function(t){return mi(t,function(e){return e})||[]},only:function(t){if(!cc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=Hn;Y.Fragment=ig;Y.Profiler=lg;Y.PureComponent=ac;Y.StrictMode=ag;Y.Suspense=dg;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;Y.act=Oh;Y.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ih({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=oc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(o in e)Rh.call(e,o)&&!Dh.hasOwnProperty(o)&&(n[o]=e[o]===void 0&&c!==void 0?c[o]:e[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Xs,type:t.type,key:i,ref:a,props:n,_owner:l}};Y.createContext=function(t){return t={$$typeof:cg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:og,_context:t},t.Consumer=t};Y.createElement=$h;Y.createFactory=function(t){var e=$h.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:ug,render:t}};Y.isValidElement=cc;Y.lazy=function(t){return{$$typeof:mg,_payload:{_status:-1,_result:t},_init:xg}};Y.memo=function(t,e){return{$$typeof:hg,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=zi.transition;zi.transition={};try{t()}finally{zi.transition=e}};Y.unstable_act=Oh;Y.useCallback=function(t,e){return ze.current.useCallback(t,e)};Y.useContext=function(t){return ze.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};Y.useEffect=function(t,e){return ze.current.useEffect(t,e)};Y.useId=function(){return ze.current.useId()};Y.useImperativeHandle=function(t,e,r){return ze.current.useImperativeHandle(t,e,r)};Y.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return ze.current.useMemo(t,e)};Y.useReducer=function(t,e,r){return ze.current.useReducer(t,e,r)};Y.useRef=function(t){return ze.current.useRef(t)};Y.useState=function(t){return ze.current.useState(t)};Y.useSyncExternalStore=function(t,e,r){return ze.current.useSyncExternalStore(t,e,r)};Y.useTransition=function(){return ze.current.useTransition()};Y.version="18.3.1";Th.exports=Y;var v=Th.exports;const q=Eh(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=v,bg=Symbol.for("react.element"),wg=Symbol.for("react.fragment"),jg=Object.prototype.hasOwnProperty,Ng=vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kg={key:!0,ref:!0,__self:!0,__source:!0};function zh(t,e,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)jg.call(e,n)&&!kg.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:bg,type:t,key:a,ref:l,props:i,_owner:Ng.current}}Aa.Fragment=wg;Aa.jsx=zh;Aa.jsxs=zh;Ch.exports=Aa;var s=Ch.exports,Uh={exports:{}},rt={},Wh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,R){var $=E.length;E.push(R);e:for(;0<$;){var T=$-1>>>1,S=E[T];if(0<i(S,R))E[T]=R,E[$]=S,$=T;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var R=E[0],$=E.pop();if($!==R){E[0]=$;e:for(var T=0,S=E.length,ce=S>>>1;T<ce;){var A=2*(T+1)-1,U=E[A],F=A+1,ue=E[F];if(0>i(U,$))F<S&&0>i(ue,U)?(E[T]=ue,E[F]=$,T=F):(E[T]=U,E[A]=$,T=A);else if(F<S&&0>i(ue,$))E[T]=ue,E[F]=$,T=F;else break e}}return R}function i(E,R){var $=E.sortIndex-R.sortIndex;return $!==0?$:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var o=[],u=[],h=1,m=null,d=3,x=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=E)n(u),R.sortIndex=R.expirationTime,e(o,R);else break;R=r(u)}}function j(E){if(w=!1,g(E),!b)if(r(o)!==null)b=!0,re(N);else{var R=r(u);R!==null&&k(j,R.startTime-E)}}function N(E,R){b=!1,w&&(w=!1,p(I),I=-1),x=!0;var $=d;try{for(g(R),m=r(o);m!==null&&(!(m.expirationTime>R)||E&&!J());){var T=m.callback;if(typeof T=="function"){m.callback=null,d=m.priorityLevel;var S=T(m.expirationTime<=R);R=t.unstable_now(),typeof S=="function"?m.callback=S:m===r(o)&&n(o),g(R)}else n(o);m=r(o)}if(m!==null)var ce=!0;else{var A=r(u);A!==null&&k(j,A.startTime-R),ce=!1}return ce}finally{m=null,d=$,x=!1}}var P=!1,C=null,I=-1,D=5,O=-1;function J(){return!(t.unstable_now()-O<D)}function V(){if(C!==null){var E=t.unstable_now();O=E;var R=!0;try{R=C(!0,E)}finally{R?G():(P=!1,C=null)}}else P=!1}var G;if(typeof f=="function")G=function(){f(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Z=se.port2;se.port1.onmessage=V,G=function(){Z.postMessage(null)}}else G=function(){y(V,0)};function re(E){C=E,P||(P=!0,G())}function k(E,R){I=y(function(){E(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,re(N))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(o)},t.unstable_next=function(E){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var $=d;d=R;try{return E()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var $=d;d=E;try{return R()}finally{d=$}},t.unstable_scheduleCallback=function(E,R,$){var T=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?T+$:T):$=T,E){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=$+S,E={id:h++,callback:R,priorityLevel:E,startTime:$,expirationTime:S,sortIndex:-1},$>T?(E.sortIndex=$,e(u,E),r(o)===null&&E===r(u)&&(w?(p(I),I=-1):w=!0,k(j,$-T))):(E.sortIndex=S,e(o,E),b||x||(b=!0,re(N))),E},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(E){var R=d;return function(){var $=d;d=R;try{return E.apply(this,arguments)}finally{d=$}}}})(Fh);Wh.exports=Fh;var Sg=Wh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=v,tt=Sg;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bh=new Set,Ts={};function Qr(t,e){An(t,e),An(t+"Capture",e)}function An(t,e){for(Ts[t]=e,t=0;t<e.length;t++)Bh.add(e[t])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=Object.prototype.hasOwnProperty,Pg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$u={},Ou={};function Eg(t){return Zl.call(Ou,t)?!0:Zl.call($u,t)?!1:Pg.test(t)?Ou[t]=!0:($u[t]=!0,!1)}function Cg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tg(t,e,r,n){if(e===null||typeof e>"u"||Cg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,r,n,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var uc=/[\-:]([a-z])/g;function dc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uc,dc);Ae[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uc,dc);Ae[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uc,dc);Ae[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function hc(t,e,r,n){var i=Ae.hasOwnProperty(e)?Ae[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tg(e,r,i,n)&&(r=null),n||i===null?Eg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var rr=_g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fi=Symbol.for("react.element"),un=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Ql=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Vh=Symbol.for("react.context"),fc=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),Kh=Symbol.for("react.offscreen"),zu=Symbol.iterator;function Yn(t){return t===null||typeof t!="object"?null:(t=zu&&t[zu]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,cl;function us(t){if(cl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);cl=e&&e[1]||""}return`
`+cl+t}var ul=!1;function dl(t,e){if(!t||ul)return"";ul=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,c=a.length-1;1<=l&&0<=c&&i[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==a[c]){var o=`
`+i[l].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=l&&0<=c);break}}}finally{ul=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?us(t):""}function Ag(t){switch(t.tag){case 5:return us(t.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return t=dl(t.type,!1),t;case 11:return t=dl(t.type.render,!1),t;case 1:return t=dl(t.type,!0),t;default:return""}}function eo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dn:return"Fragment";case un:return"Portal";case Ql:return"Profiler";case mc:return"StrictMode";case Yl:return"Suspense";case Xl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vh:return(t.displayName||"Context")+".Consumer";case Hh:return(t._context.displayName||"Context")+".Provider";case fc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pc:return e=t.displayName||null,e!==null?e:eo(t.type)||"Memo";case lr:e=t._payload,t=t._init;try{return eo(t(e))}catch{}}return null}function Ig(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eo(e);case 8:return e===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mg(t){var e=Gh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pi(t){t._valueTracker||(t._valueTracker=Mg(t))}function qh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Gh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ea(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function to(t,e){var r=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Uu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Nr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jh(t,e){e=e.checked,e!=null&&hc(t,"checked",e,!1)}function ro(t,e){Jh(t,e);var r=Nr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?no(t,e.type,r):e.hasOwnProperty("defaultValue")&&no(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function no(t,e,r){(e!=="number"||ea(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ds=Array.isArray;function Nn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Nr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function so(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(M(92));if(ds(r)){if(1<r.length)throw Error(M(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Nr(r)}}function Zh(t,e){var r=Nr(e.value),n=Nr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Bu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gi,Yh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function As(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lg=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(t){Lg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xs[e]=xs[t]})});function Xh(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xs.hasOwnProperty(t)&&xs[t]?(""+e).trim():e+"px"}function em(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Xh(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Rg=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(t,e){if(e){if(Rg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function lo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=null;function gc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var co=null,kn=null,Sn=null;function Hu(t){if(t=ri(t)){if(typeof co!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Da(e),co(t.stateNode,t.type,e))}}function tm(t){kn?Sn?Sn.push(t):Sn=[t]:kn=t}function rm(){if(kn){var t=kn,e=Sn;if(Sn=kn=null,Hu(t),e)for(t=0;t<e.length;t++)Hu(e[t])}}function nm(t,e){return t(e)}function sm(){}var hl=!1;function im(t,e,r){if(hl)return t(e,r);hl=!0;try{return nm(t,e,r)}finally{hl=!1,(kn!==null||Sn!==null)&&(sm(),rm())}}function Is(t,e){var r=t.stateNode;if(r===null)return null;var n=Da(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(M(231,e,typeof r));return r}var uo=!1;if(Qt)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{uo=!1}function Dg(t,e,r,n,i,a,l,c,o){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var ys=!1,ta=null,ra=!1,ho=null,$g={onError:function(t){ys=!0,ta=t}};function Og(t,e,r,n,i,a,l,c,o){ys=!1,ta=null,Dg.apply($g,arguments)}function zg(t,e,r,n,i,a,l,c,o){if(Og.apply(this,arguments),ys){if(ys){var u=ta;ys=!1,ta=null}else throw Error(M(198));ra||(ra=!0,ho=u)}}function Yr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function am(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vu(t){if(Yr(t)!==t)throw Error(M(188))}function Ug(t){var e=t.alternate;if(!e){if(e=Yr(t),e===null)throw Error(M(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Vu(i),t;if(a===n)return Vu(i),e;a=a.sibling}throw Error(M(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,n=a;break}if(c===n){l=!0,n=i,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,n=i;break}if(c===n){l=!0,n=a,r=i;break}c=c.sibling}if(!l)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?t:e}function lm(t){return t=Ug(t),t!==null?om(t):null}function om(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=om(t);if(e!==null)return e;t=t.sibling}return null}var cm=tt.unstable_scheduleCallback,Ku=tt.unstable_cancelCallback,Wg=tt.unstable_shouldYield,Fg=tt.unstable_requestPaint,ye=tt.unstable_now,Bg=tt.unstable_getCurrentPriorityLevel,xc=tt.unstable_ImmediatePriority,um=tt.unstable_UserBlockingPriority,na=tt.unstable_NormalPriority,Hg=tt.unstable_LowPriority,dm=tt.unstable_IdlePriority,Ia=null,Rt=null;function Vg(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:qg,Kg=Math.log,Gg=Math.LN2;function qg(t){return t>>>=0,t===0?32:31-(Kg(t)/Gg|0)|0}var xi=64,yi=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?n=hs(c):(a&=l,a!==0&&(n=hs(a)))}else l=r&~i,l!==0?n=hs(l):a!==0&&(n=hs(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-St(e),i=1<<r,n|=t[r],e&=~i;return n}function Jg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zg(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-St(a),c=1<<l,o=i[l];o===-1?(!(c&r)||c&n)&&(i[l]=Jg(c,e)):o<=e&&(t.expiredLanes|=c),a&=~c}}function mo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hm(){var t=xi;return xi<<=1,!(xi&4194240)&&(xi=64),t}function ml(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ei(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=r}function Qg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-St(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function yc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-St(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ne=0;function mm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fm,vc,pm,gm,xm,fo=!1,vi=[],pr=null,gr=null,xr=null,Ms=new Map,Ls=new Map,cr=[],Yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(t,e){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(e.pointerId)}}function es(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ri(e),e!==null&&vc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xg(t,e,r,n,i){switch(e){case"focusin":return pr=es(pr,t,e,r,n,i),!0;case"dragenter":return gr=es(gr,t,e,r,n,i),!0;case"mouseover":return xr=es(xr,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ms.set(a,es(Ms.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ls.set(a,es(Ls.get(a)||null,t,e,r,n,i)),!0}return!1}function ym(t){var e=Ur(t.target);if(e!==null){var r=Yr(e);if(r!==null){if(e=r.tag,e===13){if(e=am(r),e!==null){t.blockedOn=e,xm(t.priority,function(){pm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ui(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=po(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);oo=n,r.target.dispatchEvent(n),oo=null}else return e=ri(r),e!==null&&vc(e),t.blockedOn=r,!1;e.shift()}return!0}function qu(t,e,r){Ui(t)&&r.delete(e)}function e0(){fo=!1,pr!==null&&Ui(pr)&&(pr=null),gr!==null&&Ui(gr)&&(gr=null),xr!==null&&Ui(xr)&&(xr=null),Ms.forEach(qu),Ls.forEach(qu)}function ts(t,e){t.blockedOn===e&&(t.blockedOn=null,fo||(fo=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,e0)))}function Rs(t){function e(i){return ts(i,t)}if(0<vi.length){ts(vi[0],t);for(var r=1;r<vi.length;r++){var n=vi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(pr!==null&&ts(pr,t),gr!==null&&ts(gr,t),xr!==null&&ts(xr,t),Ms.forEach(e),Ls.forEach(e),r=0;r<cr.length;r++)n=cr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)ym(r),r.blockedOn===null&&cr.shift()}var _n=rr.ReactCurrentBatchConfig,ia=!0;function t0(t,e,r,n){var i=ne,a=_n.transition;_n.transition=null;try{ne=1,bc(t,e,r,n)}finally{ne=i,_n.transition=a}}function r0(t,e,r,n){var i=ne,a=_n.transition;_n.transition=null;try{ne=4,bc(t,e,r,n)}finally{ne=i,_n.transition=a}}function bc(t,e,r,n){if(ia){var i=po(t,e,r,n);if(i===null)Nl(t,e,n,aa,r),Gu(t,n);else if(Xg(i,t,e,r,n))n.stopPropagation();else if(Gu(t,n),e&4&&-1<Yg.indexOf(t)){for(;i!==null;){var a=ri(i);if(a!==null&&fm(a),a=po(t,e,r,n),a===null&&Nl(t,e,n,aa,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Nl(t,e,n,null,r)}}var aa=null;function po(t,e,r,n){if(aa=null,t=gc(n),t=Ur(t),t!==null)if(e=Yr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=am(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aa=t,null}function vm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bg()){case xc:return 1;case um:return 4;case na:case Hg:return 16;case dm:return 536870912;default:return 16}default:return 16}}var mr=null,wc=null,Wi=null;function bm(){if(Wi)return Wi;var t,e=wc,r=e.length,n,i="value"in mr?mr.value:mr.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===i[a-n];n++);return Wi=i.slice(t,1<n?1-n:void 0)}function Fi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function Ju(){return!1}function nt(t){function e(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bi:Ju,this.isPropagationStopped=Ju,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),e}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=nt(Vn),ti=ge({},Vn,{view:0,detail:0}),n0=nt(ti),fl,pl,rs,Ma=ge({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rs&&(rs&&t.type==="mousemove"?(fl=t.screenX-rs.screenX,pl=t.screenY-rs.screenY):pl=fl=0,rs=t),fl)},movementY:function(t){return"movementY"in t?t.movementY:pl}}),Zu=nt(Ma),s0=ge({},Ma,{dataTransfer:0}),i0=nt(s0),a0=ge({},ti,{relatedTarget:0}),gl=nt(a0),l0=ge({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=nt(l0),c0=ge({},Vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u0=nt(c0),d0=ge({},Vn,{data:0}),Qu=nt(d0),h0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f0[t])?!!e[t]:!1}function Nc(){return p0}var g0=ge({},ti,{key:function(t){if(t.key){var e=h0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(t){return t.type==="keypress"?Fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x0=nt(g0),y0=ge({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=nt(y0),v0=ge({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),b0=nt(v0),w0=ge({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),j0=nt(w0),N0=ge({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=nt(N0),S0=[9,13,27,32],kc=Qt&&"CompositionEvent"in window,vs=null;Qt&&"documentMode"in document&&(vs=document.documentMode);var _0=Qt&&"TextEvent"in window&&!vs,wm=Qt&&(!kc||vs&&8<vs&&11>=vs),Xu=" ",ed=!1;function jm(t,e){switch(t){case"keyup":return S0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function P0(t,e){switch(t){case"compositionend":return Nm(e);case"keypress":return e.which!==32?null:(ed=!0,Xu);case"textInput":return t=e.data,t===Xu&&ed?null:t;default:return null}}function E0(t,e){if(hn)return t==="compositionend"||!kc&&jm(t,e)?(t=bm(),Wi=wc=mr=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wm&&e.locale!=="ko"?null:e.data;default:return null}}var C0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!C0[t.type]:e==="textarea"}function km(t,e,r,n){tm(n),e=la(e,"onChange"),0<e.length&&(r=new jc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var bs=null,Ds=null;function T0(t){Rm(t,0)}function La(t){var e=pn(t);if(qh(e))return t}function A0(t,e){if(t==="change")return e}var Sm=!1;if(Qt){var xl;if(Qt){var yl="oninput"in document;if(!yl){var rd=document.createElement("div");rd.setAttribute("oninput","return;"),yl=typeof rd.oninput=="function"}xl=yl}else xl=!1;Sm=xl&&(!document.documentMode||9<document.documentMode)}function nd(){bs&&(bs.detachEvent("onpropertychange",_m),Ds=bs=null)}function _m(t){if(t.propertyName==="value"&&La(Ds)){var e=[];km(e,Ds,t,gc(t)),im(T0,e)}}function I0(t,e,r){t==="focusin"?(nd(),bs=e,Ds=r,bs.attachEvent("onpropertychange",_m)):t==="focusout"&&nd()}function M0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return La(Ds)}function L0(t,e){if(t==="click")return La(e)}function R0(t,e){if(t==="input"||t==="change")return La(e)}function D0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pt=typeof Object.is=="function"?Object.is:D0;function $s(t,e){if(Pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Zl.call(e,i)||!Pt(t[i],e[i]))return!1}return!0}function sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function id(t,e){var r=sd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sd(r)}}function Pm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Em(){for(var t=window,e=ea();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ea(t.document)}return e}function Sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $0(t){var e=Em(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Pm(r.ownerDocument.documentElement,r)){if(n!==null&&Sc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=id(r,a);var l=id(r,n);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O0=Qt&&"documentMode"in document&&11>=document.documentMode,mn=null,go=null,ws=null,xo=!1;function ad(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xo||mn==null||mn!==ea(n)||(n=mn,"selectionStart"in n&&Sc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ws&&$s(ws,n)||(ws=n,n=la(go,"onSelect"),0<n.length&&(e=new jc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mn)))}function wi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fn={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},vl={},Cm={};Qt&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function Ra(t){if(vl[t])return vl[t];if(!fn[t])return t;var e=fn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Cm)return vl[t]=e[r];return t}var Tm=Ra("animationend"),Am=Ra("animationiteration"),Im=Ra("animationstart"),Mm=Ra("transitionend"),Lm=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){Lm.set(t,e),Qr(e,[t])}for(var bl=0;bl<ld.length;bl++){var wl=ld[bl],z0=wl.toLowerCase(),U0=wl[0].toUpperCase()+wl.slice(1);_r(z0,"on"+U0)}_r(Tm,"onAnimationEnd");_r(Am,"onAnimationIteration");_r(Im,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Mm,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function od(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zg(n,e,void 0,t),t.currentTarget=null}function Rm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&i.isPropagationStopped())break e;od(i,c,u),a=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&i.isPropagationStopped())break e;od(i,c,u),a=o}}}if(ra)throw t=ho,ra=!1,ho=null,t}function le(t,e){var r=e[jo];r===void 0&&(r=e[jo]=new Set);var n=t+"__bubble";r.has(n)||(Dm(e,t,2,!1),r.add(n))}function jl(t,e,r){var n=0;e&&(n|=4),Dm(r,t,n,e)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Os(t){if(!t[ji]){t[ji]=!0,Bh.forEach(function(r){r!=="selectionchange"&&(W0.has(r)||jl(r,!1,t),jl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ji]||(e[ji]=!0,jl("selectionchange",!1,e))}}function Dm(t,e,r,n){switch(vm(e)){case 1:var i=t0;break;case 4:i=r0;break;default:i=bc}r=i.bind(null,e,r,t),i=void 0,!uo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Nl(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;l=l.return}for(;c!==null;){if(l=Ur(c),l===null)return;if(o=l.tag,o===5||o===6){n=a=l;continue e}c=c.parentNode}}n=n.return}im(function(){var u=a,h=gc(r),m=[];e:{var d=Lm.get(t);if(d!==void 0){var x=jc,b=t;switch(t){case"keypress":if(Fi(r)===0)break e;case"keydown":case"keyup":x=x0;break;case"focusin":b="focus",x=gl;break;case"focusout":b="blur",x=gl;break;case"beforeblur":case"afterblur":x=gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=i0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=b0;break;case Tm:case Am:case Im:x=o0;break;case Mm:x=j0;break;case"scroll":x=n0;break;case"wheel":x=k0;break;case"copy":case"cut":case"paste":x=u0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Yu}var w=(e&4)!==0,y=!w&&t==="scroll",p=w?d!==null?d+"Capture":null:d;w=[];for(var f=u,g;f!==null;){g=f;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,p!==null&&(j=Is(f,p),j!=null&&w.push(zs(f,j,g)))),y)break;f=f.return}0<w.length&&(d=new x(d,b,null,r,h),m.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",d&&r!==oo&&(b=r.relatedTarget||r.fromElement)&&(Ur(b)||b[Yt]))break e;if((x||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=u,b=b?Ur(b):null,b!==null&&(y=Yr(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(w=Zu,j="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=Yu,j="onPointerLeave",p="onPointerEnter",f="pointer"),y=x==null?d:pn(x),g=b==null?d:pn(b),d=new w(j,f+"leave",x,r,h),d.target=y,d.relatedTarget=g,j=null,Ur(h)===u&&(w=new w(p,f+"enter",b,r,h),w.target=g,w.relatedTarget=y,j=w),y=j,x&&b)t:{for(w=x,p=b,f=0,g=w;g;g=tn(g))f++;for(g=0,j=p;j;j=tn(j))g++;for(;0<f-g;)w=tn(w),f--;for(;0<g-f;)p=tn(p),g--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=tn(w),p=tn(p)}w=null}else w=null;x!==null&&cd(m,d,x,w,!1),b!==null&&y!==null&&cd(m,y,b,w,!0)}}e:{if(d=u?pn(u):window,x=d.nodeName&&d.nodeName.toLowerCase(),x==="select"||x==="input"&&d.type==="file")var N=A0;else if(td(d))if(Sm)N=R0;else{N=M0;var P=I0}else(x=d.nodeName)&&x.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=L0);if(N&&(N=N(t,u))){km(m,N,r,h);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&no(d,"number",d.value)}switch(P=u?pn(u):window,t){case"focusin":(td(P)||P.contentEditable==="true")&&(mn=P,go=u,ws=null);break;case"focusout":ws=go=mn=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,ad(m,r,h);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":ad(m,r,h)}var C;if(kc)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else hn?jm(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(wm&&r.locale!=="ko"&&(hn||I!=="onCompositionStart"?I==="onCompositionEnd"&&hn&&(C=bm()):(mr=h,wc="value"in mr?mr.value:mr.textContent,hn=!0)),P=la(u,I),0<P.length&&(I=new Qu(I,t,null,r,h),m.push({event:I,listeners:P}),C?I.data=C:(C=Nm(r),C!==null&&(I.data=C)))),(C=_0?P0(t,r):E0(t,r))&&(u=la(u,"onBeforeInput"),0<u.length&&(h=new Qu("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=C))}Rm(m,e)})}function zs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function la(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Is(t,r),a!=null&&n.unshift(zs(t,a,i)),a=Is(t,e),a!=null&&n.push(zs(t,a,i))),t=t.return}return n}function tn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cd(t,e,r,n,i){for(var a=e._reactName,l=[];r!==null&&r!==n;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&u!==null&&(c=u,i?(o=Is(r,a),o!=null&&l.unshift(zs(r,o,c))):i||(o=Is(r,a),o!=null&&l.push(zs(r,o,c)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var F0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function ud(t){return(typeof t=="string"?t:""+t).replace(F0,`
`).replace(B0,"")}function Ni(t,e,r){if(e=ud(e),ud(t)!==e&&r)throw Error(M(425))}function oa(){}var yo=null,vo=null;function bo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(t){return dd.resolve(null).then(t).catch(K0)}:wo;function K0(t){setTimeout(function(){throw t})}function kl(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Rs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rs(e)}function yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Kn,Us="__reactProps$"+Kn,Yt="__reactContainer$"+Kn,jo="__reactEvents$"+Kn,G0="__reactListeners$"+Kn,q0="__reactHandles$"+Kn;function Ur(t){var e=t[Lt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yt]||r[Lt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hd(t);t!==null;){if(r=t[Lt])return r;t=hd(t)}return e}t=r,r=t.parentNode}return null}function ri(t){return t=t[Lt]||t[Yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Da(t){return t[Us]||null}var No=[],gn=-1;function Pr(t){return{current:t}}function oe(t){0>gn||(t.current=No[gn],No[gn]=null,gn--)}function ae(t,e){gn++,No[gn]=t.current,t.current=e}var kr={},Re=Pr(kr),Ge=Pr(!1),Kr=kr;function In(t,e){var r=t.type.contextTypes;if(!r)return kr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qe(t){return t=t.childContextTypes,t!=null}function ca(){oe(Ge),oe(Re)}function md(t,e,r){if(Re.current!==kr)throw Error(M(168));ae(Re,e),ae(Ge,r)}function $m(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(M(108,Ig(t)||"Unknown",i));return ge({},r,n)}function ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,Kr=Re.current,ae(Re,t),ae(Ge,Ge.current),!0}function fd(t,e,r){var n=t.stateNode;if(!n)throw Error(M(169));r?(t=$m(t,e,Kr),n.__reactInternalMemoizedMergedChildContext=t,oe(Ge),oe(Re),ae(Re,t)):oe(Ge),ae(Ge,r)}var Vt=null,$a=!1,Sl=!1;function Om(t){Vt===null?Vt=[t]:Vt.push(t)}function J0(t){$a=!0,Om(t)}function Er(){if(!Sl&&Vt!==null){Sl=!0;var t=0,e=ne;try{var r=Vt;for(ne=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vt=null,$a=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(t+1)),cm(xc,Er),i}finally{ne=e,Sl=!1}}return null}var xn=[],yn=0,da=null,ha=0,ot=[],ct=0,Gr=null,Kt=1,Gt="";function Lr(t,e){xn[yn++]=ha,xn[yn++]=da,da=t,ha=e}function zm(t,e,r){ot[ct++]=Kt,ot[ct++]=Gt,ot[ct++]=Gr,Gr=t;var n=Kt;t=Gt;var i=32-St(n)-1;n&=~(1<<i),r+=1;var a=32-St(e)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Kt=1<<32-St(e)+i|r<<i|n,Gt=a+t}else Kt=1<<a|r<<i|n,Gt=t}function _c(t){t.return!==null&&(Lr(t,1),zm(t,1,0))}function Pc(t){for(;t===da;)da=xn[--yn],xn[yn]=null,ha=xn[--yn],xn[yn]=null;for(;t===Gr;)Gr=ot[--ct],ot[ct]=null,Gt=ot[--ct],ot[ct]=null,Kt=ot[--ct],ot[ct]=null}var et=null,Xe=null,de=!1,kt=null;function Um(t,e){var r=dt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pd(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,et=t,Xe=yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,et=t,Xe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Gr!==null?{id:Kt,overflow:Gt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=dt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,et=t,Xe=null,!0):!1;default:return!1}}function ko(t){return(t.mode&1)!==0&&(t.flags&128)===0}function So(t){if(de){var e=Xe;if(e){var r=e;if(!pd(t,e)){if(ko(t))throw Error(M(418));e=yr(r.nextSibling);var n=et;e&&pd(t,e)?Um(n,r):(t.flags=t.flags&-4097|2,de=!1,et=t)}}else{if(ko(t))throw Error(M(418));t.flags=t.flags&-4097|2,de=!1,et=t}}}function gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;et=t}function ki(t){if(t!==et)return!1;if(!de)return gd(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bo(t.type,t.memoizedProps)),e&&(e=Xe)){if(ko(t))throw Wm(),Error(M(418));for(;e;)Um(t,e),e=yr(e.nextSibling)}if(gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xe=yr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xe=null}}else Xe=et?yr(t.stateNode.nextSibling):null;return!0}function Wm(){for(var t=Xe;t;)t=yr(t.nextSibling)}function Mn(){Xe=et=null,de=!1}function Ec(t){kt===null?kt=[t]:kt.push(t)}var Z0=rr.ReactCurrentBatchConfig;function ns(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var c=i.refs;l===null?delete c[a]:c[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,t))}return t}function Si(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xd(t){var e=t._init;return e(t._payload)}function Fm(t){function e(p,f){if(t){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function r(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=jr(p,f),p.index=0,p.sibling=null,p}function a(p,f,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function l(p){return t&&p.alternate===null&&(p.flags|=2),p}function c(p,f,g,j){return f===null||f.tag!==6?(f=Il(g,p.mode,j),f.return=p,f):(f=i(f,g),f.return=p,f)}function o(p,f,g,j){var N=g.type;return N===dn?h(p,f,g.props.children,j,g.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===lr&&xd(N)===f.type)?(j=i(f,g.props),j.ref=ns(p,f,g),j.return=p,j):(j=Ji(g.type,g.key,g.props,null,p.mode,j),j.ref=ns(p,f,g),j.return=p,j)}function u(p,f,g,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ml(g,p.mode,j),f.return=p,f):(f=i(f,g.children||[]),f.return=p,f)}function h(p,f,g,j,N){return f===null||f.tag!==7?(f=Hr(g,p.mode,j,N),f.return=p,f):(f=i(f,g),f.return=p,f)}function m(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Il(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fi:return g=Ji(f.type,f.key,f.props,null,p.mode,g),g.ref=ns(p,null,f),g.return=p,g;case un:return f=Ml(f,p.mode,g),f.return=p,f;case lr:var j=f._init;return m(p,j(f._payload),g)}if(ds(f)||Yn(f))return f=Hr(f,p.mode,g,null),f.return=p,f;Si(p,f)}return null}function d(p,f,g,j){var N=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:c(p,f,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fi:return g.key===N?o(p,f,g,j):null;case un:return g.key===N?u(p,f,g,j):null;case lr:return N=g._init,d(p,f,N(g._payload),j)}if(ds(g)||Yn(g))return N!==null?null:h(p,f,g,j,null);Si(p,g)}return null}function x(p,f,g,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(g)||null,c(f,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case fi:return p=p.get(j.key===null?g:j.key)||null,o(f,p,j,N);case un:return p=p.get(j.key===null?g:j.key)||null,u(f,p,j,N);case lr:var P=j._init;return x(p,f,g,P(j._payload),N)}if(ds(j)||Yn(j))return p=p.get(g)||null,h(f,p,j,N,null);Si(f,j)}return null}function b(p,f,g,j){for(var N=null,P=null,C=f,I=f=0,D=null;C!==null&&I<g.length;I++){C.index>I?(D=C,C=null):D=C.sibling;var O=d(p,C,g[I],j);if(O===null){C===null&&(C=D);break}t&&C&&O.alternate===null&&e(p,C),f=a(O,f,I),P===null?N=O:P.sibling=O,P=O,C=D}if(I===g.length)return r(p,C),de&&Lr(p,I),N;if(C===null){for(;I<g.length;I++)C=m(p,g[I],j),C!==null&&(f=a(C,f,I),P===null?N=C:P.sibling=C,P=C);return de&&Lr(p,I),N}for(C=n(p,C);I<g.length;I++)D=x(C,p,I,g[I],j),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?I:D.key),f=a(D,f,I),P===null?N=D:P.sibling=D,P=D);return t&&C.forEach(function(J){return e(p,J)}),de&&Lr(p,I),N}function w(p,f,g,j){var N=Yn(g);if(typeof N!="function")throw Error(M(150));if(g=N.call(g),g==null)throw Error(M(151));for(var P=N=null,C=f,I=f=0,D=null,O=g.next();C!==null&&!O.done;I++,O=g.next()){C.index>I?(D=C,C=null):D=C.sibling;var J=d(p,C,O.value,j);if(J===null){C===null&&(C=D);break}t&&C&&J.alternate===null&&e(p,C),f=a(J,f,I),P===null?N=J:P.sibling=J,P=J,C=D}if(O.done)return r(p,C),de&&Lr(p,I),N;if(C===null){for(;!O.done;I++,O=g.next())O=m(p,O.value,j),O!==null&&(f=a(O,f,I),P===null?N=O:P.sibling=O,P=O);return de&&Lr(p,I),N}for(C=n(p,C);!O.done;I++,O=g.next())O=x(C,p,I,O.value,j),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?I:O.key),f=a(O,f,I),P===null?N=O:P.sibling=O,P=O);return t&&C.forEach(function(V){return e(p,V)}),de&&Lr(p,I),N}function y(p,f,g,j){if(typeof g=="object"&&g!==null&&g.type===dn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case fi:e:{for(var N=g.key,P=f;P!==null;){if(P.key===N){if(N=g.type,N===dn){if(P.tag===7){r(p,P.sibling),f=i(P,g.props.children),f.return=p,p=f;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===lr&&xd(N)===P.type){r(p,P.sibling),f=i(P,g.props),f.ref=ns(p,P,g),f.return=p,p=f;break e}r(p,P);break}else e(p,P);P=P.sibling}g.type===dn?(f=Hr(g.props.children,p.mode,j,g.key),f.return=p,p=f):(j=Ji(g.type,g.key,g.props,null,p.mode,j),j.ref=ns(p,f,g),j.return=p,p=j)}return l(p);case un:e:{for(P=g.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(p,f.sibling),f=i(f,g.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else e(p,f);f=f.sibling}f=Ml(g,p.mode,j),f.return=p,p=f}return l(p);case lr:return P=g._init,y(p,f,P(g._payload),j)}if(ds(g))return b(p,f,g,j);if(Yn(g))return w(p,f,g,j);Si(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(p,f.sibling),f=i(f,g),f.return=p,p=f):(r(p,f),f=Il(g,p.mode,j),f.return=p,p=f),l(p)):r(p,f)}return y}var Ln=Fm(!0),Bm=Fm(!1),ma=Pr(null),fa=null,vn=null,Cc=null;function Tc(){Cc=vn=fa=null}function Ac(t){var e=ma.current;oe(ma),t._currentValue=e}function _o(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pn(t,e){fa=t,Cc=vn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(Cc!==t)if(t={context:t,memoizedValue:e,next:null},vn===null){if(fa===null)throw Error(M(308));vn=t,fa.dependencies={lanes:0,firstContext:t}}else vn=vn.next=t;return e}var Wr=null;function Ic(t){Wr===null?Wr=[t]:Wr.push(t)}function Hm(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Ic(e)):(r.next=i.next,i.next=r),e.interleaved=r,Xt(t,n)}function Xt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var or=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,X&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Xt(t,r)}return i=n.interleaved,i===null?(e.next=e,Ic(n)):(e.next=i.next,i.next=e),n.interleaved=e,Xt(t,r)}function Bi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yc(t,r)}}function yd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pa(t,e,r,n){var i=t.updateQueue;or=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?a=u:l.next=u,l=o;var h=t.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==l&&(c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=o))}if(a!==null){var m=i.baseState;l=0,h=u=o=null,c=a;do{var d=c.lane,x=c.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=t,w=c;switch(d=e,x=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){m=b.call(x,m,d);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,d=typeof b=="function"?b.call(x,m,d):b,d==null)break e;m=ge({},m,d);break e;case 2:or=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[c]:d.push(c))}else x={eventTime:x,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(u=h=x,o=m):h=h.next=x,l|=d;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;d=c,c=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(o=m),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Jr|=l,t.lanes=l,t.memoizedState=m}}function vd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(M(191,i));i.call(n)}}}var ni={},Dt=Pr(ni),Ws=Pr(ni),Fs=Pr(ni);function Fr(t){if(t===ni)throw Error(M(174));return t}function Lc(t,e){switch(ae(Fs,e),ae(Ws,t),ae(Dt,ni),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:io(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=io(e,t)}oe(Dt),ae(Dt,e)}function Rn(){oe(Dt),oe(Ws),oe(Fs)}function Km(t){Fr(Fs.current);var e=Fr(Dt.current),r=io(e,t.type);e!==r&&(ae(Ws,t),ae(Dt,r))}function Rc(t){Ws.current===t&&(oe(Dt),oe(Ws))}var fe=Pr(0);function ga(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _l=[];function Dc(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Hi=rr.ReactCurrentDispatcher,Pl=rr.ReactCurrentBatchConfig,qr=0,pe=null,ke=null,Pe=null,xa=!1,js=!1,Bs=0,Q0=0;function Ie(){throw Error(M(321))}function $c(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Pt(t[r],e[r]))return!1;return!0}function Oc(t,e,r,n,i,a){if(qr=a,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hi.current=t===null||t.memoizedState===null?tx:rx,t=r(n,i),js){a=0;do{if(js=!1,Bs=0,25<=a)throw Error(M(301));a+=1,Pe=ke=null,e.updateQueue=null,Hi.current=nx,t=r(n,i)}while(js)}if(Hi.current=ya,e=ke!==null&&ke.next!==null,qr=0,Pe=ke=pe=null,xa=!1,e)throw Error(M(300));return t}function zc(){var t=Bs!==0;return Bs=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function pt(){if(ke===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=Pe===null?pe.memoizedState:Pe.next;if(e!==null)Pe=e,ke=t;else{if(t===null)throw Error(M(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function Hs(t,e){return typeof e=="function"?e(t):e}function El(t){var e=pt(),r=e.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=t;var n=ke,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=l=null,o=null,u=a;do{var h=u.lane;if((qr&h)===h)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=m,l=n):o=o.next=m,pe.lanes|=h,Jr|=h}u=u.next}while(u!==null&&u!==a);o===null?l=n:o.next=c,Pt(n,e.memoizedState)||(Ke=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=o,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,pe.lanes|=a,Jr|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cl(t){var e=pt(),r=e.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Pt(a,e.memoizedState)||(Ke=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Gm(){}function qm(t,e){var r=pe,n=pt(),i=e(),a=!Pt(n.memoizedState,i);if(a&&(n.memoizedState=i,Ke=!0),n=n.queue,Uc(Qm.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,Vs(9,Zm.bind(null,r,n,i,e),void 0,null),Ee===null)throw Error(M(349));qr&30||Jm(r,e,i)}return i}function Jm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Zm(t,e,r,n){e.value=r,e.getSnapshot=n,Ym(e)&&Xm(t)}function Qm(t,e,r){return r(function(){Ym(e)&&Xm(t)})}function Ym(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Pt(t,r)}catch{return!0}}function Xm(t){var e=Xt(t,1);e!==null&&_t(e,t,1,-1)}function bd(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:t},e.queue=t,t=t.dispatch=ex.bind(null,pe,t),[e.memoizedState,t]}function Vs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ef(){return pt().memoizedState}function Vi(t,e,r,n){var i=Mt();pe.flags|=t,i.memoizedState=Vs(1|e,r,void 0,n===void 0?null:n)}function Oa(t,e,r,n){var i=pt();n=n===void 0?null:n;var a=void 0;if(ke!==null){var l=ke.memoizedState;if(a=l.destroy,n!==null&&$c(n,l.deps)){i.memoizedState=Vs(e,r,a,n);return}}pe.flags|=t,i.memoizedState=Vs(1|e,r,a,n)}function wd(t,e){return Vi(8390656,8,t,e)}function Uc(t,e){return Oa(2048,8,t,e)}function tf(t,e){return Oa(4,2,t,e)}function rf(t,e){return Oa(4,4,t,e)}function nf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sf(t,e,r){return r=r!=null?r.concat([t]):null,Oa(4,4,nf.bind(null,e,t),r)}function Wc(){}function af(t,e){var r=pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$c(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lf(t,e){var r=pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$c(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function of(t,e,r){return qr&21?(Pt(r,e)||(r=hm(),pe.lanes|=r,Jr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=r)}function Y0(t,e){var r=ne;ne=r!==0&&4>r?r:4,t(!0);var n=Pl.transition;Pl.transition={};try{t(!1),e()}finally{ne=r,Pl.transition=n}}function cf(){return pt().memoizedState}function X0(t,e,r){var n=wr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uf(t))df(e,r);else if(r=Hm(t,e,r,n),r!==null){var i=Oe();_t(r,t,n,i),hf(r,e,n)}}function ex(t,e,r){var n=wr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uf(t))df(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,r);if(i.hasEagerState=!0,i.eagerState=c,Pt(c,l)){var o=e.interleaved;o===null?(i.next=i,Ic(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}r=Hm(t,e,i,n),r!==null&&(i=Oe(),_t(r,t,n,i),hf(r,e,n))}}function uf(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function df(t,e){js=xa=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hf(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yc(t,r)}}var ya={readContext:ft,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},tx={readContext:ft,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:wd,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vi(4194308,4,nf.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vi(4,2,t,e)},useMemo:function(t,e){var r=Mt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Mt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=X0.bind(null,pe,t),[n.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:bd,useDebugValue:Wc,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=bd(!1),e=t[0];return t=Y0.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=pe,i=Mt();if(de){if(r===void 0)throw Error(M(407));r=r()}else{if(r=e(),Ee===null)throw Error(M(349));qr&30||Jm(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,wd(Qm.bind(null,n,a,t),[t]),n.flags|=2048,Vs(9,Zm.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Mt(),e=Ee.identifierPrefix;if(de){var r=Gt,n=Kt;r=(n&~(1<<32-St(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Q0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rx={readContext:ft,useCallback:af,useContext:ft,useEffect:Uc,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:rf,useMemo:lf,useReducer:El,useRef:ef,useState:function(){return El(Hs)},useDebugValue:Wc,useDeferredValue:function(t){var e=pt();return of(e,ke.memoizedState,t)},useTransition:function(){var t=El(Hs)[0],e=pt().memoizedState;return[t,e]},useMutableSource:Gm,useSyncExternalStore:qm,useId:cf,unstable_isNewReconciler:!1},nx={readContext:ft,useCallback:af,useContext:ft,useEffect:Uc,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:rf,useMemo:lf,useReducer:Cl,useRef:ef,useState:function(){return Cl(Hs)},useDebugValue:Wc,useDeferredValue:function(t){var e=pt();return ke===null?e.memoizedState=t:of(e,ke.memoizedState,t)},useTransition:function(){var t=Cl(Hs)[0],e=pt().memoizedState;return[t,e]},useMutableSource:Gm,useSyncExternalStore:qm,useId:cf,unstable_isNewReconciler:!1};function wt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Po(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ge({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var za={isMounted:function(t){return(t=t._reactInternals)?Yr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Oe(),i=wr(t),a=Jt(n,i);a.payload=e,r!=null&&(a.callback=r),e=vr(t,a,i),e!==null&&(_t(e,t,i,n),Bi(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Oe(),i=wr(t),a=Jt(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=vr(t,a,i),e!==null&&(_t(e,t,i,n),Bi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Oe(),n=wr(t),i=Jt(r,n);i.tag=2,e!=null&&(i.callback=e),e=vr(t,i,n),e!==null&&(_t(e,t,n,r),Bi(e,t,n))}};function jd(t,e,r,n,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,l):e.prototype&&e.prototype.isPureReactComponent?!$s(r,n)||!$s(i,a):!0}function mf(t,e,r){var n=!1,i=kr,a=e.contextType;return typeof a=="object"&&a!==null?a=ft(a):(i=qe(e)?Kr:Re.current,n=e.contextTypes,a=(n=n!=null)?In(t,i):kr),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=za,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Nd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&za.enqueueReplaceState(e,e.state,null)}function Eo(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Mc(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ft(a):(a=qe(e)?Kr:Re.current,i.context=In(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Po(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&za.enqueueReplaceState(i,i.state,null),pa(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dn(t,e){try{var r="",n=e;do r+=Ag(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Tl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Co(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var sx=typeof WeakMap=="function"?WeakMap:Map;function ff(t,e,r){r=Jt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ba||(ba=!0,zo=n),Co(t,e)},r}function pf(t,e,r){r=Jt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Co(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Co(t,e),typeof n!="function"&&(br===null?br=new Set([this]):br.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function kd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new sx;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=yx.bind(null,t,e,r),e.then(t,t))}function Sd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _d(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Jt(-1,1),e.tag=2,vr(r,e,1))),r.lanes|=1),t)}var ix=rr.ReactCurrentOwner,Ke=!1;function $e(t,e,r,n){e.child=t===null?Bm(e,null,r,n):Ln(e,t.child,r,n)}function Pd(t,e,r,n,i){r=r.render;var a=e.ref;return Pn(e,i),n=Oc(t,e,r,n,a,i),r=zc(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(de&&r&&_c(e),e.flags|=1,$e(t,e,n,i),e.child)}function Ed(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Jc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,gf(t,e,a,n,i)):(t=Ji(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(l,n)&&t.ref===e.ref)return er(t,e,i)}return e.flags|=1,t=jr(a,n),t.ref=e.ref,t.return=e,e.child=t}function gf(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if($s(a,n)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,er(t,e,i)}return To(t,e,r,n,i)}function xf(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(wn,Qe),Qe|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(wn,Qe),Qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ae(wn,Qe),Qe|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ae(wn,Qe),Qe|=n;return $e(t,e,i,r),e.child}function yf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function To(t,e,r,n,i){var a=qe(r)?Kr:Re.current;return a=In(e,a),Pn(e,i),r=Oc(t,e,r,n,a,i),n=zc(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(de&&n&&_c(e),e.flags|=1,$e(t,e,r,i),e.child)}function Cd(t,e,r,n,i){if(qe(r)){var a=!0;ua(e)}else a=!1;if(Pn(e,i),e.stateNode===null)Ki(t,e),mf(e,r,n),Eo(e,r,n,i),n=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var o=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=qe(r)?Kr:Re.current,u=In(e,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||o!==u)&&Nd(e,l,n,u),or=!1;var d=e.memoizedState;l.state=d,pa(e,n,l,i),o=e.memoizedState,c!==n||d!==o||Ge.current||or?(typeof h=="function"&&(Po(e,r,h,n),o=e.memoizedState),(c=or||jd(e,r,c,n,d,o,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=o),l.props=n,l.state=o,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,Vm(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:wt(e.type,c),l.props=u,m=e.pendingProps,d=l.context,o=r.contextType,typeof o=="object"&&o!==null?o=ft(o):(o=qe(r)?Kr:Re.current,o=In(e,o));var x=r.getDerivedStateFromProps;(h=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||d!==o)&&Nd(e,l,n,o),or=!1,d=e.memoizedState,l.state=d,pa(e,n,l,i);var b=e.memoizedState;c!==m||d!==b||Ge.current||or?(typeof x=="function"&&(Po(e,r,x,n),b=e.memoizedState),(u=or||jd(e,r,u,n,d,b,o)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,o)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),l.props=n,l.state=b,l.context=o,n=u):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ao(t,e,r,n,a,i)}function Ao(t,e,r,n,i,a){yf(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return i&&fd(e,r,!1),er(t,e,a);n=e.stateNode,ix.current=e;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=Ln(e,t.child,null,a),e.child=Ln(e,null,c,a)):$e(t,e,c,a),e.memoizedState=n.state,i&&fd(e,r,!0),e.child}function vf(t){var e=t.stateNode;e.pendingContext?md(t,e.pendingContext,e.pendingContext!==e.context):e.context&&md(t,e.context,!1),Lc(t,e.containerInfo)}function Td(t,e,r,n,i){return Mn(),Ec(i),e.flags|=256,$e(t,e,r,n),e.child}var Io={dehydrated:null,treeContext:null,retryLane:0};function Mo(t){return{baseLanes:t,cachePool:null,transitions:null}}function bf(t,e,r){var n=e.pendingProps,i=fe.current,a=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(fe,i&1),t===null)return So(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,a?(n=e.mode,a=e.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Fa(l,n,0,null),t=Hr(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Mo(r),e.memoizedState=Io,t):Fc(e,l));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return ax(t,e,l,n,c,i,r);if(a){a=n.fallback,l=e.mode,i=t.child,c=i.sibling;var o={mode:"hidden",children:n.children};return!(l&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=jr(i,o),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=jr(c,a):(a=Hr(a,l,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,l=t.child.memoizedState,l=l===null?Mo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~r,e.memoizedState=Io,n}return a=t.child,t=a.sibling,n=jr(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fc(t,e){return e=Fa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _i(t,e,r,n){return n!==null&&Ec(n),Ln(e,t.child,null,r),t=Fc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ax(t,e,r,n,i,a,l){if(r)return e.flags&256?(e.flags&=-257,n=Tl(Error(M(422))),_i(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Fa({mode:"visible",children:n.children},i,0,null),a=Hr(a,i,l,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Ln(e,t.child,null,l),e.child.memoizedState=Mo(l),e.memoizedState=Io,a);if(!(e.mode&1))return _i(t,e,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(M(419)),n=Tl(a,n,void 0),_i(t,e,l,n)}if(c=(l&t.childLanes)!==0,Ke||c){if(n=Ee,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Xt(t,i),_t(n,t,i,-1))}return qc(),n=Tl(Error(M(421))),_i(t,e,l,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vx.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Xe=yr(i.nextSibling),et=e,de=!0,kt=null,t!==null&&(ot[ct++]=Kt,ot[ct++]=Gt,ot[ct++]=Gr,Kt=t.id,Gt=t.overflow,Gr=e),e=Fc(e,n.children),e.flags|=4096,e)}function Ad(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_o(t.return,e,r)}function Al(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function wf(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if($e(t,e,n.children,r),n=fe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ad(t,r,e);else if(t.tag===19)Ad(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ae(fe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ga(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Al(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ga(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Al(e,!0,r,null,a);break;case"together":Al(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ki(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function er(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,r=jr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=jr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function lx(t,e,r){switch(e.tag){case 3:vf(e),Mn();break;case 5:Km(e);break;case 1:qe(e.type)&&ua(e);break;case 4:Lc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ae(ma,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ae(fe,fe.current&1),e.flags|=128,null):r&e.child.childLanes?bf(t,e,r):(ae(fe,fe.current&1),t=er(t,e,r),t!==null?t.sibling:null);ae(fe,fe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return wf(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(fe,fe.current),n)break;return null;case 22:case 23:return e.lanes=0,xf(t,e,r)}return er(t,e,r)}var jf,Lo,Nf,kf;jf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lo=function(){};Nf=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Fr(Dt.current);var a=null;switch(r){case"input":i=to(t,i),n=to(t,n),a=[];break;case"select":i=ge({},i,{value:void 0}),n=ge({},n,{value:void 0}),a=[];break;case"textarea":i=so(t,i),n=so(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=oa)}ao(r,n);var l;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ts.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var o=n[u];if(c=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(r||(r={}),r[l]=o[l])}else r||(a||(a=[]),a.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&le("scroll",t),a||c===o||(a=[])):(a=a||[]).push(u,o))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};kf=function(t,e,r,n){r!==n&&(e.flags|=4)};function ss(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ox(t,e,r){var n=e.pendingProps;switch(Pc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return qe(e.type)&&ca(),Me(e),null;case 3:return n=e.stateNode,Rn(),oe(Ge),oe(Re),Dc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ki(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(Fo(kt),kt=null))),Lo(t,e),Me(e),null;case 5:Rc(e);var i=Fr(Fs.current);if(r=e.type,t!==null&&e.stateNode!=null)Nf(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(M(166));return Me(e),null}if(t=Fr(Dt.current),ki(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Lt]=e,n[Us]=a,t=(e.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(i=0;i<ms.length;i++)le(ms[i],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":Uu(n,a),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},le("invalid",n);break;case"textarea":Fu(n,a),le("invalid",n)}ao(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ni(n.textContent,c,t),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ni(n.textContent,c,t),i=["children",""+c]):Ts.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&le("scroll",n)}switch(r){case"input":pi(n),Wu(n,a,!0);break;case"textarea":pi(n),Bu(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=oa)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qh(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[Lt]=e,t[Us]=n,jf(t,e,!1,!1),e.stateNode=t;e:{switch(l=lo(r,n),r){case"dialog":le("cancel",t),le("close",t),i=n;break;case"iframe":case"object":case"embed":le("load",t),i=n;break;case"video":case"audio":for(i=0;i<ms.length;i++)le(ms[i],t);i=n;break;case"source":le("error",t),i=n;break;case"img":case"image":case"link":le("error",t),le("load",t),i=n;break;case"details":le("toggle",t),i=n;break;case"input":Uu(t,n),i=to(t,n),le("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ge({},n,{value:void 0}),le("invalid",t);break;case"textarea":Fu(t,n),i=so(t,n),le("invalid",t);break;default:i=n}ao(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?em(t,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Yh(t,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&As(t,o):typeof o=="number"&&As(t,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ts.hasOwnProperty(a)?o!=null&&a==="onScroll"&&le("scroll",t):o!=null&&hc(t,a,o,l))}switch(r){case"input":pi(t),Wu(t,n,!1);break;case"textarea":pi(t),Bu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Nr(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Nn(t,!!n.multiple,a,!1):n.defaultValue!=null&&Nn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)kf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(M(166));if(r=Fr(Fs.current),Fr(Dt.current),ki(e)){if(n=e.stateNode,r=e.memoizedProps,n[Lt]=e,(a=n.nodeValue!==r)&&(t=et,t!==null))switch(t.tag){case 3:Ni(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ni(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Lt]=e,e.stateNode=n}return Me(e),null;case 13:if(oe(fe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&Xe!==null&&e.mode&1&&!(e.flags&128))Wm(),Mn(),e.flags|=98560,a=!1;else if(a=ki(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(M(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Lt]=e}else Mn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),a=!1}else kt!==null&&(Fo(kt),kt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Se===0&&(Se=3):qc())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return Rn(),Lo(t,e),t===null&&Os(e.stateNode.containerInfo),Me(e),null;case 10:return Ac(e.type._context),Me(e),null;case 17:return qe(e.type)&&ca(),Me(e),null;case 19:if(oe(fe),a=e.memoizedState,a===null)return Me(e),null;if(n=(e.flags&128)!==0,l=a.rendering,l===null)if(n)ss(a,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ga(t),l!==null){for(e.flags|=128,ss(a,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ae(fe,fe.current&1|2),e.child}t=t.sibling}a.tail!==null&&ye()>$n&&(e.flags|=128,n=!0,ss(a,!1),e.lanes=4194304)}else{if(!n)if(t=ga(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ss(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!de)return Me(e),null}else 2*ye()-a.renderingStartTime>$n&&r!==1073741824&&(e.flags|=128,n=!0,ss(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(r=a.last,r!==null?r.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ye(),e.sibling=null,r=fe.current,ae(fe,n?r&1|2:r&1),e):(Me(e),null);case 22:case 23:return Gc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Qe&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function cx(t,e){switch(Pc(e),e.tag){case 1:return qe(e.type)&&ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rn(),oe(Ge),oe(Re),Dc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rc(e),null;case 13:if(oe(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Mn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(fe),null;case 4:return Rn(),null;case 10:return Ac(e.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var Pi=!1,Le=!1,ux=typeof WeakSet=="function"?WeakSet:Set,z=null;function bn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(t,e,n)}else r.current=null}function Ro(t,e,r){try{r()}catch(n){xe(t,e,n)}}var Id=!1;function dx(t,e){if(yo=ia,t=Em(),Sc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,o=-1,u=0,h=0,m=t,d=null;t:for(;;){for(var x;m!==r||i!==0&&m.nodeType!==3||(c=l+i),m!==a||n!==0&&m.nodeType!==3||(o=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)d=m,m=x;for(;;){if(m===t)break t;if(d===r&&++u===i&&(c=l),d===a&&++h===n&&(o=l),(x=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=x}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(vo={focusedElem:t,selectionRange:r},ia=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,y=b.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:wt(e.type,w),y);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(j){xe(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return b=Id,Id=!1,b}function Ns(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ro(e,r,a)}i=i.next}while(i!==n)}}function Ua(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Do(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Sf(t){var e=t.alternate;e!==null&&(t.alternate=null,Sf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lt],delete e[Us],delete e[jo],delete e[G0],delete e[q0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _f(t){return t.tag===5||t.tag===3||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_f(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $o(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=oa));else if(n!==4&&(t=t.child,t!==null))for($o(t,e,r),t=t.sibling;t!==null;)$o(t,e,r),t=t.sibling}function Oo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Oo(t,e,r),t=t.sibling;t!==null;)Oo(t,e,r),t=t.sibling}var Ce=null,jt=!1;function sr(t,e,r){for(r=r.child;r!==null;)Pf(t,e,r),r=r.sibling}function Pf(t,e,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ia,r)}catch{}switch(r.tag){case 5:Le||bn(r,e);case 6:var n=Ce,i=jt;Ce=null,sr(t,e,r),Ce=n,jt=i,Ce!==null&&(jt?(t=Ce,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ce.removeChild(r.stateNode));break;case 18:Ce!==null&&(jt?(t=Ce,r=r.stateNode,t.nodeType===8?kl(t.parentNode,r):t.nodeType===1&&kl(t,r),Rs(t)):kl(Ce,r.stateNode));break;case 4:n=Ce,i=jt,Ce=r.stateNode.containerInfo,jt=!0,sr(t,e,r),Ce=n,jt=i;break;case 0:case 11:case 14:case 15:if(!Le&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ro(r,e,l),i=i.next}while(i!==n)}sr(t,e,r);break;case 1:if(!Le&&(bn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){xe(r,e,c)}sr(t,e,r);break;case 21:sr(t,e,r);break;case 22:r.mode&1?(Le=(n=Le)||r.memoizedState!==null,sr(t,e,r),Le=n):sr(t,e,r);break;default:sr(t,e,r)}}function Ld(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ux),e.forEach(function(n){var i=bx.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function vt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ce=c.stateNode,jt=!1;break e;case 3:Ce=c.stateNode.containerInfo,jt=!0;break e;case 4:Ce=c.stateNode.containerInfo,jt=!0;break e}c=c.return}if(Ce===null)throw Error(M(160));Pf(a,l,i),Ce=null,jt=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ef(e,t),e=e.sibling}function Ef(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vt(e,t),It(t),n&4){try{Ns(3,t,t.return),Ua(3,t)}catch(w){xe(t,t.return,w)}try{Ns(5,t,t.return)}catch(w){xe(t,t.return,w)}}break;case 1:vt(e,t),It(t),n&512&&r!==null&&bn(r,r.return);break;case 5:if(vt(e,t),It(t),n&512&&r!==null&&bn(r,r.return),t.flags&32){var i=t.stateNode;try{As(i,"")}catch(w){xe(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=r!==null?r.memoizedProps:a,c=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Jh(i,a),lo(c,l);var u=lo(c,a);for(l=0;l<o.length;l+=2){var h=o[l],m=o[l+1];h==="style"?em(i,m):h==="dangerouslySetInnerHTML"?Yh(i,m):h==="children"?As(i,m):hc(i,h,m,u)}switch(c){case"input":ro(i,a);break;case"textarea":Zh(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Nn(i,!!a.multiple,x,!1):d!==!!a.multiple&&(a.defaultValue!=null?Nn(i,!!a.multiple,a.defaultValue,!0):Nn(i,!!a.multiple,a.multiple?[]:"",!1))}i[Us]=a}catch(w){xe(t,t.return,w)}}break;case 6:if(vt(e,t),It(t),n&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(w){xe(t,t.return,w)}}break;case 3:if(vt(e,t),It(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rs(e.containerInfo)}catch(w){xe(t,t.return,w)}break;case 4:vt(e,t),It(t);break;case 13:vt(e,t),It(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Vc=ye())),n&4&&Ld(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Le=(u=Le)||h,vt(e,t),Le=u):vt(e,t),It(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(z=t,h=t.child;h!==null;){for(m=z=h;z!==null;){switch(d=z,x=d.child,d.tag){case 0:case 11:case 14:case 15:Ns(4,d,d.return);break;case 1:bn(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){xe(n,r,w)}}break;case 5:bn(d,d.return);break;case 22:if(d.memoizedState!==null){Dd(m);continue}}x!==null?(x.return=d,z=x):Dd(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,o=m.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Xh("display",l))}catch(w){xe(t,t.return,w)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){xe(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vt(e,t),It(t),n&4&&Ld(t);break;case 21:break;default:vt(e,t),It(t)}}function It(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(_f(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(As(i,""),n.flags&=-33);var a=Md(t);Oo(t,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Md(t);$o(t,c,l);break;default:throw Error(M(161))}}catch(o){xe(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hx(t,e,r){z=t,Cf(t)}function Cf(t,e,r){for(var n=(t.mode&1)!==0;z!==null;){var i=z,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Pi;if(!l){var c=i.alternate,o=c!==null&&c.memoizedState!==null||Le;c=Pi;var u=Le;if(Pi=l,(Le=o)&&!u)for(z=i;z!==null;)l=z,o=l.child,l.tag===22&&l.memoizedState!==null?$d(i):o!==null?(o.return=l,z=o):$d(i);for(;a!==null;)z=a,Cf(a),a=a.sibling;z=i,Pi=c,Le=u}Rd(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,z=a):Rd(t)}}function Rd(t){for(;z!==null;){var e=z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||Ua(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Le)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:wt(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&vd(e,a,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}vd(e,l,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Rs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Le||e.flags&512&&Do(e)}catch(d){xe(e,e.return,d)}}if(e===t){z=null;break}if(r=e.sibling,r!==null){r.return=e.return,z=r;break}z=e.return}}function Dd(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,z=r;break}z=e.return}}function $d(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ua(4,e)}catch(o){xe(e,r,o)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(o){xe(e,i,o)}}var a=e.return;try{Do(e)}catch(o){xe(e,a,o)}break;case 5:var l=e.return;try{Do(e)}catch(o){xe(e,l,o)}}}catch(o){xe(e,e.return,o)}if(e===t){z=null;break}var c=e.sibling;if(c!==null){c.return=e.return,z=c;break}z=e.return}}var mx=Math.ceil,va=rr.ReactCurrentDispatcher,Bc=rr.ReactCurrentOwner,ht=rr.ReactCurrentBatchConfig,X=0,Ee=null,je=null,Te=0,Qe=0,wn=Pr(0),Se=0,Ks=null,Jr=0,Wa=0,Hc=0,ks=null,He=null,Vc=0,$n=1/0,Ft=null,ba=!1,zo=null,br=null,Ei=!1,fr=null,wa=0,Ss=0,Uo=null,Gi=-1,qi=0;function Oe(){return X&6?ye():Gi!==-1?Gi:Gi=ye()}function wr(t){return t.mode&1?X&2&&Te!==0?Te&-Te:Z0.transition!==null?(qi===0&&(qi=hm()),qi):(t=ne,t!==0||(t=window.event,t=t===void 0?16:vm(t.type)),t):1}function _t(t,e,r,n){if(50<Ss)throw Ss=0,Uo=null,Error(M(185));ei(t,r,n),(!(X&2)||t!==Ee)&&(t===Ee&&(!(X&2)&&(Wa|=r),Se===4&&ur(t,Te)),Je(t,n),r===1&&X===0&&!(e.mode&1)&&($n=ye()+500,$a&&Er()))}function Je(t,e){var r=t.callbackNode;Zg(t,e);var n=sa(t,t===Ee?Te:0);if(n===0)r!==null&&Ku(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ku(r),e===1)t.tag===0?J0(Od.bind(null,t)):Om(Od.bind(null,t)),V0(function(){!(X&6)&&Er()}),r=null;else{switch(mm(n)){case 1:r=xc;break;case 4:r=um;break;case 16:r=na;break;case 536870912:r=dm;break;default:r=na}r=$f(r,Tf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Tf(t,e){if(Gi=-1,qi=0,X&6)throw Error(M(327));var r=t.callbackNode;if(En()&&t.callbackNode!==r)return null;var n=sa(t,t===Ee?Te:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ja(t,n);else{e=n;var i=X;X|=2;var a=If();(Ee!==t||Te!==e)&&(Ft=null,$n=ye()+500,Br(t,e));do try{gx();break}catch(c){Af(t,c)}while(!0);Tc(),va.current=a,X=i,je!==null?e=0:(Ee=null,Te=0,e=Se)}if(e!==0){if(e===2&&(i=mo(t),i!==0&&(n=i,e=Wo(t,i))),e===1)throw r=Ks,Br(t,0),ur(t,n),Je(t,ye()),r;if(e===6)ur(t,n);else{if(i=t.current.alternate,!(n&30)&&!fx(i)&&(e=ja(t,n),e===2&&(a=mo(t),a!==0&&(n=a,e=Wo(t,a))),e===1))throw r=Ks,Br(t,0),ur(t,n),Je(t,ye()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(M(345));case 2:Rr(t,He,Ft);break;case 3:if(ur(t,n),(n&130023424)===n&&(e=Vc+500-ye(),10<e)){if(sa(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Oe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wo(Rr.bind(null,t,He,Ft),e);break}Rr(t,He,Ft);break;case 4:if(ur(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var l=31-St(n);a=1<<l,l=e[l],l>i&&(i=l),n&=~a}if(n=i,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mx(n/1960))-n,10<n){t.timeoutHandle=wo(Rr.bind(null,t,He,Ft),n);break}Rr(t,He,Ft);break;case 5:Rr(t,He,Ft);break;default:throw Error(M(329))}}}return Je(t,ye()),t.callbackNode===r?Tf.bind(null,t):null}function Wo(t,e){var r=ks;return t.current.memoizedState.isDehydrated&&(Br(t,e).flags|=256),t=ja(t,e),t!==2&&(e=He,He=r,e!==null&&Fo(e)),t}function Fo(t){He===null?He=t:He.push.apply(He,t)}function fx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Pt(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ur(t,e){for(e&=~Hc,e&=~Wa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-St(e),n=1<<r;t[r]=-1,e&=~n}}function Od(t){if(X&6)throw Error(M(327));En();var e=sa(t,0);if(!(e&1))return Je(t,ye()),null;var r=ja(t,e);if(t.tag!==0&&r===2){var n=mo(t);n!==0&&(e=n,r=Wo(t,n))}if(r===1)throw r=Ks,Br(t,0),ur(t,e),Je(t,ye()),r;if(r===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rr(t,He,Ft),Je(t,ye()),null}function Kc(t,e){var r=X;X|=1;try{return t(e)}finally{X=r,X===0&&($n=ye()+500,$a&&Er())}}function Zr(t){fr!==null&&fr.tag===0&&!(X&6)&&En();var e=X;X|=1;var r=ht.transition,n=ne;try{if(ht.transition=null,ne=1,t)return t()}finally{ne=n,ht.transition=r,X=e,!(X&6)&&Er()}}function Gc(){Qe=wn.current,oe(wn)}function Br(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,H0(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Pc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ca();break;case 3:Rn(),oe(Ge),oe(Re),Dc();break;case 5:Rc(n);break;case 4:Rn();break;case 13:oe(fe);break;case 19:oe(fe);break;case 10:Ac(n.type._context);break;case 22:case 23:Gc()}r=r.return}if(Ee=t,je=t=jr(t.current,null),Te=Qe=e,Se=0,Ks=null,Hc=Wa=Jr=0,He=ks=null,Wr!==null){for(e=0;e<Wr.length;e++)if(r=Wr[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}Wr=null}return t}function Af(t,e){do{var r=je;try{if(Tc(),Hi.current=ya,xa){for(var n=pe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}xa=!1}if(qr=0,Pe=ke=pe=null,js=!1,Bs=0,Bc.current=null,r===null||r.return===null){Se=1,Ks=e,je=null;break}e:{var a=t,l=r.return,c=r,o=e;if(e=Te,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,h=c,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Sd(l);if(x!==null){x.flags&=-257,_d(x,l,c,a,e),x.mode&1&&kd(a,u,e),e=x,o=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(o),e.updateQueue=w}else b.add(o);break e}else{if(!(e&1)){kd(a,u,e),qc();break e}o=Error(M(426))}}else if(de&&c.mode&1){var y=Sd(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_d(y,l,c,a,e),Ec(Dn(o,c));break e}}a=o=Dn(o,c),Se!==4&&(Se=2),ks===null?ks=[a]:ks.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var p=ff(a,o,e);yd(a,p);break e;case 1:c=o;var f=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(br===null||!br.has(g)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=pf(a,c,e);yd(a,j);break e}}a=a.return}while(a!==null)}Lf(r)}catch(N){e=N,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function If(){var t=va.current;return va.current=ya,t===null?ya:t}function qc(){(Se===0||Se===3||Se===2)&&(Se=4),Ee===null||!(Jr&268435455)&&!(Wa&268435455)||ur(Ee,Te)}function ja(t,e){var r=X;X|=2;var n=If();(Ee!==t||Te!==e)&&(Ft=null,Br(t,e));do try{px();break}catch(i){Af(t,i)}while(!0);if(Tc(),X=r,va.current=n,je!==null)throw Error(M(261));return Ee=null,Te=0,Se}function px(){for(;je!==null;)Mf(je)}function gx(){for(;je!==null&&!Wg();)Mf(je)}function Mf(t){var e=Df(t.alternate,t,Qe);t.memoizedProps=t.pendingProps,e===null?Lf(t):je=e,Bc.current=null}function Lf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=cx(r,e),r!==null){r.flags&=32767,je=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,je=null;return}}else if(r=ox(r,e,Qe),r!==null){je=r;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Se===0&&(Se=5)}function Rr(t,e,r){var n=ne,i=ht.transition;try{ht.transition=null,ne=1,xx(t,e,r,n)}finally{ht.transition=i,ne=n}return null}function xx(t,e,r,n){do En();while(fr!==null);if(X&6)throw Error(M(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Qg(t,a),t===Ee&&(je=Ee=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ei||(Ei=!0,$f(na,function(){return En(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ht.transition,ht.transition=null;var l=ne;ne=1;var c=X;X|=4,Bc.current=null,dx(t,r),Ef(r,t),$0(vo),ia=!!yo,vo=yo=null,t.current=r,hx(r),Fg(),X=c,ne=l,ht.transition=a}else t.current=r;if(Ei&&(Ei=!1,fr=t,wa=i),a=t.pendingLanes,a===0&&(br=null),Vg(r.stateNode),Je(t,ye()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ba)throw ba=!1,t=zo,zo=null,t;return wa&1&&t.tag!==0&&En(),a=t.pendingLanes,a&1?t===Uo?Ss++:(Ss=0,Uo=t):Ss=0,Er(),null}function En(){if(fr!==null){var t=mm(wa),e=ht.transition,r=ne;try{if(ht.transition=null,ne=16>t?16:t,fr===null)var n=!1;else{if(t=fr,fr=null,wa=0,X&6)throw Error(M(331));var i=X;for(X|=4,z=t.current;z!==null;){var a=z,l=a.child;if(z.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:Ns(8,h,a)}var m=h.child;if(m!==null)m.return=h,z=m;else for(;z!==null;){h=z;var d=h.sibling,x=h.return;if(Sf(h),h===u){z=null;break}if(d!==null){d.return=x,z=d;break}z=x}}}var b=a.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}z=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,z=l;else e:for(;z!==null;){if(a=z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ns(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,z=p;break e}z=a.return}}var f=t.current;for(z=f;z!==null;){l=z;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,z=g;else e:for(l=f;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ua(9,c)}}catch(N){xe(c,c.return,N)}if(c===l){z=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,z=j;break e}z=c.return}}if(X=i,Er(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ia,t)}catch{}n=!0}return n}finally{ne=r,ht.transition=e}}return!1}function zd(t,e,r){e=Dn(r,e),e=ff(t,e,1),t=vr(t,e,1),e=Oe(),t!==null&&(ei(t,1,e),Je(t,e))}function xe(t,e,r){if(t.tag===3)zd(t,t,r);else for(;e!==null;){if(e.tag===3){zd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(br===null||!br.has(n))){t=Dn(r,t),t=pf(e,t,1),e=vr(e,t,1),t=Oe(),e!==null&&(ei(e,1,t),Je(e,t));break}}e=e.return}}function yx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&r,Ee===t&&(Te&r)===r&&(Se===4||Se===3&&(Te&130023424)===Te&&500>ye()-Vc?Br(t,0):Hc|=r),Je(t,e)}function Rf(t,e){e===0&&(t.mode&1?(e=yi,yi<<=1,!(yi&130023424)&&(yi=4194304)):e=1);var r=Oe();t=Xt(t,e),t!==null&&(ei(t,e,r),Je(t,r))}function vx(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Rf(t,r)}function bx(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(e),Rf(t,r)}var Df;Df=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)Ke=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ke=!1,lx(t,e,r);Ke=!!(t.flags&131072)}else Ke=!1,de&&e.flags&1048576&&zm(e,ha,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ki(t,e),t=e.pendingProps;var i=In(e,Re.current);Pn(e,r),i=Oc(null,e,n,t,i,r);var a=zc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qe(n)?(a=!0,ua(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mc(e),i.updater=za,e.stateNode=i,i._reactInternals=e,Eo(e,n,t,r),e=Ao(null,e,n,!0,a,r)):(e.tag=0,de&&a&&_c(e),$e(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ki(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=jx(n),t=wt(n,t),i){case 0:e=To(null,e,n,t,r);break e;case 1:e=Cd(null,e,n,t,r);break e;case 11:e=Pd(null,e,n,t,r);break e;case 14:e=Ed(null,e,n,wt(n.type,t),r);break e}throw Error(M(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wt(n,i),To(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wt(n,i),Cd(t,e,n,i,r);case 3:e:{if(vf(e),t===null)throw Error(M(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Vm(t,e),pa(e,n,null,r);var l=e.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Dn(Error(M(423)),e),e=Td(t,e,n,r,i);break e}else if(n!==i){i=Dn(Error(M(424)),e),e=Td(t,e,n,r,i);break e}else for(Xe=yr(e.stateNode.containerInfo.firstChild),et=e,de=!0,kt=null,r=Bm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mn(),n===i){e=er(t,e,r);break e}$e(t,e,n,r)}e=e.child}return e;case 5:return Km(e),t===null&&So(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,bo(n,i)?l=null:a!==null&&bo(n,a)&&(e.flags|=32),yf(t,e),$e(t,e,l,r),e.child;case 6:return t===null&&So(e),null;case 13:return bf(t,e,r);case 4:return Lc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ln(e,null,n,r):$e(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wt(n,i),Pd(t,e,n,i,r);case 7:return $e(t,e,e.pendingProps,r),e.child;case 8:return $e(t,e,e.pendingProps.children,r),e.child;case 12:return $e(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,ae(ma,n._currentValue),n._currentValue=l,a!==null)if(Pt(a.value,l)){if(a.children===i.children&&!Ge.current){e=er(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(a.tag===1){o=Jt(-1,r&-r),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?o.next=o:(o.next=h.next,h.next=o),u.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),_o(a.return,r,e),c.lanes|=r;break}o=o.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(M(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),_o(l,r,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}$e(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Pn(e,r),i=ft(i),n=n(i),e.flags|=1,$e(t,e,n,r),e.child;case 14:return n=e.type,i=wt(n,e.pendingProps),i=wt(n.type,i),Ed(t,e,n,i,r);case 15:return gf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wt(n,i),Ki(t,e),e.tag=1,qe(n)?(t=!0,ua(e)):t=!1,Pn(e,r),mf(e,n,i),Eo(e,n,i,r),Ao(null,e,n,!0,t,r);case 19:return wf(t,e,r);case 22:return xf(t,e,r)}throw Error(M(156,e.tag))};function $f(t,e){return cm(t,e)}function wx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(t,e,r,n){return new wx(t,e,r,n)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jx(t){if(typeof t=="function")return Jc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fc)return 11;if(t===pc)return 14}return 2}function jr(t,e){var r=t.alternate;return r===null?(r=dt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ji(t,e,r,n,i,a){var l=2;if(n=t,typeof t=="function")Jc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case dn:return Hr(r.children,i,a,e);case mc:l=8,i|=8;break;case Ql:return t=dt(12,r,e,i|2),t.elementType=Ql,t.lanes=a,t;case Yl:return t=dt(13,r,e,i),t.elementType=Yl,t.lanes=a,t;case Xl:return t=dt(19,r,e,i),t.elementType=Xl,t.lanes=a,t;case Kh:return Fa(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hh:l=10;break e;case Vh:l=9;break e;case fc:l=11;break e;case pc:l=14;break e;case lr:l=16,n=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=dt(l,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Hr(t,e,r,n){return t=dt(7,t,n,e),t.lanes=r,t}function Fa(t,e,r,n){return t=dt(22,t,n,e),t.elementType=Kh,t.lanes=r,t.stateNode={isHidden:!1},t}function Il(t,e,r){return t=dt(6,t,null,e),t.lanes=r,t}function Ml(t,e,r){return e=dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nx(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(t,e,r,n,i,a,l,c,o){return t=new Nx(t,e,r,c,o),e===1?(e=1,a===!0&&(e|=8)):e=0,a=dt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(a),t}function kx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:un,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Of(t){if(!t)return kr;t=t._reactInternals;e:{if(Yr(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var r=t.type;if(qe(r))return $m(t,r,e)}return e}function zf(t,e,r,n,i,a,l,c,o){return t=Zc(r,n,!0,t,i,a,l,c,o),t.context=Of(null),r=t.current,n=Oe(),i=wr(r),a=Jt(n,i),a.callback=e??null,vr(r,a,i),t.current.lanes=i,ei(t,i,n),Je(t,n),t}function Ba(t,e,r,n){var i=e.current,a=Oe(),l=wr(i);return r=Of(r),e.context===null?e.context=r:e.pendingContext=r,e=Jt(a,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=vr(i,e,l),t!==null&&(_t(t,i,l,a),Bi(t,i,l)),l}function Na(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ud(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Qc(t,e){Ud(t,e),(t=t.alternate)&&Ud(t,e)}function Sx(){return null}var Uf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}Ha.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Ba(t,e,null,null)};Ha.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){Ba(null,t,null,null)}),e[Yt]=null}};function Ha(t){this._internalRoot=t}Ha.prototype.unstable_scheduleHydration=function(t){if(t){var e=gm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<cr.length&&e!==0&&e<cr[r].priority;r++);cr.splice(r,0,t),r===0&&ym(t)}};function Xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Va(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wd(){}function _x(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Na(l);a.call(u)}}var l=zf(e,n,t,0,null,!1,!1,"",Wd);return t._reactRootContainer=l,t[Yt]=l.current,Os(t.nodeType===8?t.parentNode:t),Zr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var u=Na(o);c.call(u)}}var o=Zc(t,0,!1,null,null,!1,!1,"",Wd);return t._reactRootContainer=o,t[Yt]=o.current,Os(t.nodeType===8?t.parentNode:t),Zr(function(){Ba(e,o,r,n)}),o}function Ka(t,e,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var c=i;i=function(){var o=Na(l);c.call(o)}}Ba(e,l,t,i)}else l=_x(r,e,t,i,n);return Na(l)}fm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hs(e.pendingLanes);r!==0&&(yc(e,r|1),Je(e,ye()),!(X&6)&&($n=ye()+500,Er()))}break;case 13:Zr(function(){var n=Xt(t,1);if(n!==null){var i=Oe();_t(n,t,1,i)}}),Qc(t,1)}};vc=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var r=Oe();_t(e,t,134217728,r)}Qc(t,134217728)}};pm=function(t){if(t.tag===13){var e=wr(t),r=Xt(t,e);if(r!==null){var n=Oe();_t(r,t,e,n)}Qc(t,e)}};gm=function(){return ne};xm=function(t,e){var r=ne;try{return ne=t,e()}finally{ne=r}};co=function(t,e,r){switch(e){case"input":if(ro(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Da(n);if(!i)throw Error(M(90));qh(n),ro(n,i)}}}break;case"textarea":Zh(t,r);break;case"select":e=r.value,e!=null&&Nn(t,!!r.multiple,e,!1)}};nm=Kc;sm=Zr;var Px={usingClientEntryPoint:!1,Events:[ri,pn,Da,tm,rm,Kc]},is={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ex={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lm(t),t===null?null:t.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||Sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{Ia=Ci.inject(Ex),Rt=Ci}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;rt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xc(e))throw Error(M(200));return kx(t,e,null,r)};rt.createRoot=function(t,e){if(!Xc(t))throw Error(M(299));var r=!1,n="",i=Uf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zc(t,1,!1,null,null,r,!1,n,i),t[Yt]=e.current,Os(t.nodeType===8?t.parentNode:t),new Yc(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=lm(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return Zr(t)};rt.hydrate=function(t,e,r){if(!Va(e))throw Error(M(200));return Ka(null,t,e,!0,r)};rt.hydrateRoot=function(t,e,r){if(!Xc(t))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=Uf;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=zf(e,null,t,1,r??null,i,!1,a,l),t[Yt]=e.current,Os(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ha(e)};rt.render=function(t,e,r){if(!Va(e))throw Error(M(200));return Ka(null,t,e,!1,r)};rt.unmountComponentAtNode=function(t){if(!Va(t))throw Error(M(40));return t._reactRootContainer?(Zr(function(){Ka(null,null,t,!1,function(){t._reactRootContainer=null,t[Yt]=null})}),!0):!1};rt.unstable_batchedUpdates=Kc;rt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Va(r))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Ka(t,e,r,!1,n)};rt.version="18.3.1-next-f1338f8080-20240426";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(t){console.error(t)}}Wf(),Uh.exports=rt;var Cx=Uh.exports,Ff,Fd=Cx;Ff=Fd.createRoot,Fd.hydrateRoot;const Tx="modulepreload",Ax=function(t){return"/"+t},Bd={},Ot=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=Ax(o),o in Bd)return;Bd[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Tx,u||(m.as="script"),m.crossOrigin="",m.href=o,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((d,x)=>{m.addEventListener("load",d),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hd="popstate";function Ix(t={}){function e(n,i){let{pathname:a,search:l,hash:c}=n.location;return Bo("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Gs(i)}return Lx(e,r,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Et(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function Vd(t,e){return{usr:t.state,key:t.key,idx:e}}function Bo(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gn(e):e,state:r,key:e&&e.key||n||Mx()}}function Gs({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Gn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Lx(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c="POP",o=null,u=h();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function h(){return(l.state||{idx:null}).idx}function m(){c="POP";let y=h(),p=y==null?null:y-u;u=y,o&&o({action:c,location:w.location,delta:p})}function d(y,p){c="PUSH";let f=Bo(w.location,y,p);u=h()+1;let g=Vd(f,u),j=w.createHref(f);try{l.pushState(g,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}a&&o&&o({action:c,location:w.location,delta:1})}function x(y,p){c="REPLACE";let f=Bo(w.location,y,p);u=h();let g=Vd(f,u),j=w.createHref(f);l.replaceState(g,"",j),a&&o&&o({action:c,location:w.location,delta:0})}function b(y){return Rx(y)}let w={get action(){return c},get location(){return t(i,l)},listen(y){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(Hd,m),o=y,()=>{i.removeEventListener(Hd,m),o=null}},createHref(y){return e(i,y)},createURL:b,encodeLocation(y){let p=b(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:x,go(y){return l.go(y)}};return w}function Rx(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),he(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Gs(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Bf(t,e,r="/"){return Dx(t,e,r,!1)}function Dx(t,e,r,n){let i=typeof e=="string"?Gn(e):e,a=tr(i.pathname||"/",r);if(a==null)return null;let l=Hf(t);$x(l);let c=null;for(let o=0;c==null&&o<l.length;++o){let u=qx(a);c=Kx(l[o],u,n)}return c}function Hf(t,e=[],r=[],n=""){let i=(a,l,c)=>{let o={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};o.relativePath.startsWith("/")&&(he(o.relativePath.startsWith(n),`Absolute route path "${o.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(n.length));let u=Zt([n,o.relativePath]),h=r.concat(o);a.children&&a.children.length>0&&(he(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Hf(a.children,e,h,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Hx(u,a.index),routesMeta:h})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let o of Vf(a.path))i(a,l,o)}),e}function Vf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=Vf(n.join("/")),c=[];return c.push(...l.map(o=>o===""?a:[a,o].join("/"))),i&&c.push(...l),c.map(o=>t.startsWith("/")&&o===""?"/":o)}function $x(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Vx(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ox=/^:[\w-]+$/,zx=3,Ux=2,Wx=1,Fx=10,Bx=-2,Kd=t=>t==="*";function Hx(t,e){let r=t.split("/"),n=r.length;return r.some(Kd)&&(n+=Bx),e&&(n+=Ux),r.filter(i=>!Kd(i)).reduce((i,a)=>i+(Ox.test(a)?zx:a===""?Wx:Fx),n)}function Vx(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Kx(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",l=[];for(let c=0;c<n.length;++c){let o=n[c],u=c===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=ka({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},h),d=o.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=ka({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Zt([a,m.pathname]),pathnameBase:Yx(Zt([a,m.pathnameBase])),route:d}),m.pathnameBase!=="/"&&(a=Zt([a,m.pathnameBase]))}return l}function ka(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Gx(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:m},d)=>{if(h==="*"){let b=c[d]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[d];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:l,pattern:t}}function Gx(t,e=!1,r=!0){Et(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,o)=>(n.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function qx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Et(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function tr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Jx(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Gn(t):t;return{pathname:r?r.startsWith("/")?r:Zx(r,e):e,search:Xx(n),hash:ey(i)}}function Zx(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ll(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qx(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function eu(t){let e=Qx(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function tu(t,e,r,n=!1){let i;typeof t=="string"?i=Gn(t):(i={...t},he(!i.pathname||!i.pathname.includes("?"),Ll("?","pathname","search",i)),he(!i.pathname||!i.pathname.includes("#"),Ll("#","pathname","hash",i)),he(!i.search||!i.search.includes("#"),Ll("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=r;else{let m=e.length-1;if(!n&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),m-=1;i.pathname=d.join("/")}c=m>=0?e[m]:"/"}let o=Jx(i,c),u=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(u||h)&&(o.pathname+="/"),o}var Zt=t=>t.join("/").replace(/\/\/+/g,"/"),Yx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ey=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ty(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Kf=["POST","PUT","PATCH","DELETE"];new Set(Kf);var ry=["GET",...Kf];new Set(ry);var qn=v.createContext(null);qn.displayName="DataRouter";var Ga=v.createContext(null);Ga.displayName="DataRouterState";v.createContext(!1);var Gf=v.createContext({isTransitioning:!1});Gf.displayName="ViewTransition";var ny=v.createContext(new Map);ny.displayName="Fetchers";var sy=v.createContext(null);sy.displayName="Await";var Ct=v.createContext(null);Ct.displayName="Navigation";var si=v.createContext(null);si.displayName="Location";var Tt=v.createContext({outlet:null,matches:[],isDataRoute:!1});Tt.displayName="Route";var ru=v.createContext(null);ru.displayName="RouteError";function iy(t,{relative:e}={}){he(Jn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(Ct),{hash:i,pathname:a,search:l}=ii(t,{relative:e}),c=a;return r!=="/"&&(c=a==="/"?r:Zt([r,a])),n.createHref({pathname:c,search:l,hash:i})}function Jn(){return v.useContext(si)!=null}function Cr(){return he(Jn(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(si).location}var qf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jf(t){v.useContext(Ct).static||v.useLayoutEffect(t)}function zt(){let{isDataRoute:t}=v.useContext(Tt);return t?vy():ay()}function ay(){he(Jn(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(qn),{basename:e,navigator:r}=v.useContext(Ct),{matches:n}=v.useContext(Tt),{pathname:i}=Cr(),a=JSON.stringify(eu(n)),l=v.useRef(!1);return Jf(()=>{l.current=!0}),v.useCallback((o,u={})=>{if(Et(l.current,qf),!l.current)return;if(typeof o=="number"){r.go(o);return}let h=tu(o,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zt([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,a,i,t])}v.createContext(null);function ly(){let{matches:t}=v.useContext(Tt),e=t[t.length-1];return e?e.params:{}}function ii(t,{relative:e}={}){let{matches:r}=v.useContext(Tt),{pathname:n}=Cr(),i=JSON.stringify(eu(r));return v.useMemo(()=>tu(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function oy(t,e){return Zf(t,e)}function Zf(t,e,r,n){var p;he(Jn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(Ct),{matches:a}=v.useContext(Tt),l=a[a.length-1],c=l?l.params:{},o=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let f=h&&h.path||"";Qf(o,!h||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let m=Cr(),d;if(e){let f=typeof e=="string"?Gn(e):e;he(u==="/"||((p=f.pathname)==null?void 0:p.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${f.pathname}" was given in the \`location\` prop.`),d=f}else d=m;let x=d.pathname||"/",b=x;if(u!=="/"){let f=u.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(f.length).join("/")}let w=Bf(t,{pathname:b});Et(h||w!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Et(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=my(w&&w.map(f=>Object.assign({},f,{params:Object.assign({},c,f.params),pathname:Zt([u,i.encodeLocation?i.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?u:Zt([u,i.encodeLocation?i.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),a,r,n);return e&&y?v.createElement(si.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},y):y}function cy(){let t=yy(),e=ty(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:i},r):null,l)}var uy=v.createElement(cy,null),dy=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?v.createElement(Tt.Provider,{value:this.props.routeContext},v.createElement(ru.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hy({routeContext:t,match:e,children:r}){let n=v.useContext(qn);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(Tt.Provider,{value:t},r)}function my(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let o=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);he(o>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,o+1))}let l=!1,c=-1;if(r)for(let o=0;o<i.length;o++){let u=i[o];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=o),u.route.id){let{loaderData:h,errors:m}=r,d=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||d){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((o,u,h)=>{let m,d=!1,x=null,b=null;r&&(m=a&&u.route.id?a[u.route.id]:void 0,x=u.route.errorElement||uy,l&&(c<0&&h===0?(Qf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,b=null):c===h&&(d=!0,b=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),y=()=>{let p;return m?p=x:d?p=b:u.route.Component?p=v.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=o,v.createElement(hy,{match:u,routeContext:{outlet:o,matches:w,isDataRoute:r!=null},children:p})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?v.createElement(dy,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}function nu(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fy(t){let e=v.useContext(qn);return he(e,nu(t)),e}function py(t){let e=v.useContext(Ga);return he(e,nu(t)),e}function gy(t){let e=v.useContext(Tt);return he(e,nu(t)),e}function su(t){let e=gy(t),r=e.matches[e.matches.length-1];return he(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function xy(){return su("useRouteId")}function yy(){var n;let t=v.useContext(ru),e=py("useRouteError"),r=su("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function vy(){let{router:t}=fy("useNavigate"),e=su("useNavigate"),r=v.useRef(!1);return Jf(()=>{r.current=!0}),v.useCallback(async(i,a={})=>{Et(r.current,qf),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Gd={};function Qf(t,e,r){!e&&!Gd[t]&&(Gd[t]=!0,Et(!1,r))}v.memo(by);function by({routes:t,future:e,state:r}){return Zf(t,void 0,r,e)}function qd({to:t,replace:e,state:r,relative:n}){he(Jn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Ct);Et(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=v.useContext(Tt),{pathname:l}=Cr(),c=zt(),o=tu(t,eu(a),l,n==="path"),u=JSON.stringify(o);return v.useEffect(()=>{c(JSON.parse(u),{replace:e,state:r,relative:n})},[c,u,n,e,r]),null}function we(t){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wy({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){he(!Jn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof r=="string"&&(r=Gn(r));let{pathname:o="/",search:u="",hash:h="",state:m=null,key:d="default"}=r,x=v.useMemo(()=>{let b=tr(o,l);return b==null?null:{location:{pathname:b,search:u,hash:h,state:m,key:d},navigationType:n}},[l,o,u,h,m,d,n]);return Et(x!=null,`<Router basename="${l}"> is not able to match the URL "${o}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:v.createElement(Ct.Provider,{value:c},v.createElement(si.Provider,{children:e,value:x}))}function jy({children:t,location:e}){return oy(Ho(t),e)}function Ho(t,e=[]){let r=[];return v.Children.forEach(t,(n,i)=>{if(!v.isValidElement(n))return;let a=[...e,i];if(n.type===v.Fragment){r.push.apply(r,Ho(n.props.children,a));return}he(n.type===we,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ho(n.props.children,a)),r.push(l)}),r}var Zi="get",Qi="application/x-www-form-urlencoded";function qa(t){return t!=null&&typeof t.tagName=="string"}function Ny(t){return qa(t)&&t.tagName.toLowerCase()==="button"}function ky(t){return qa(t)&&t.tagName.toLowerCase()==="form"}function Sy(t){return qa(t)&&t.tagName.toLowerCase()==="input"}function _y(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Py(t,e){return t.button===0&&(!e||e==="_self")&&!_y(t)}var Ti=null;function Ey(){if(Ti===null)try{new FormData(document.createElement("form"),0),Ti=!1}catch{Ti=!0}return Ti}var Cy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rl(t){return t!=null&&!Cy.has(t)?(Et(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qi}"`),null):t}function Ty(t,e){let r,n,i,a,l;if(ky(t)){let c=t.getAttribute("action");n=c?tr(c,e):null,r=t.getAttribute("method")||Zi,i=Rl(t.getAttribute("enctype"))||Qi,a=new FormData(t)}else if(Ny(t)||Sy(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||c.getAttribute("action");if(n=o?tr(o,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||Zi,i=Rl(t.getAttribute("formenctype"))||Rl(c.getAttribute("enctype"))||Qi,a=new FormData(c,t),!Ey()){let{name:u,type:h,value:m}=t;if(h==="image"){let d=u?`${u}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else u&&a.append(u,m)}}else{if(qa(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zi,n=null,i=Qi,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iu(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ay(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&tr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Iy(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function My(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ly(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await Iy(a,r);return l.links?l.links():[]}return[]}));return Oy(n.flat(1).filter(My).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Jd(t,e,r,n,i,a){let l=(o,u)=>r[u]?o.route.id!==r[u].route.id:!0,c=(o,u)=>{var h;return r[u].pathname!==o.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==o.params["*"]};return a==="assets"?e.filter((o,u)=>l(o,u)||c(o,u)):a==="data"?e.filter((o,u)=>{var m;let h=n.routes[o.route.id];if(!h||!h.hasLoader)return!1;if(l(o,u)||c(o,u))return!0;if(o.route.shouldRevalidate){let d=o.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Ry(t,e,{includeHydrateFallback:r}={}){return Dy(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Dy(t){return[...new Set(t)]}function $y(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Oy(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify($y(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function Yf(){let t=v.useContext(qn);return iu(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zy(){let t=v.useContext(Ga);return iu(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var au=v.createContext(void 0);au.displayName="FrameworkContext";function Xf(){let t=v.useContext(au);return iu(t,"You must render this element inside a <HydratedRouter> element"),t}function Uy(t,e){let r=v.useContext(au),[n,i]=v.useState(!1),[a,l]=v.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=e,d=v.useRef(null);v.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=p=>{p.forEach(f=>{l(f.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return d.current&&y.observe(d.current),()=>{y.disconnect()}}},[t]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{i(!0)},b=()=>{i(!1),l(!1)};return r?t!=="intent"?[a,d,{}]:[a,d,{onFocus:as(c,x),onBlur:as(o,b),onMouseEnter:as(u,x),onMouseLeave:as(h,b),onTouchStart:as(m,x)}]:[!1,d,{}]}function as(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Wy({page:t,...e}){let{router:r}=Yf(),n=v.useMemo(()=>Bf(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?v.createElement(By,{page:t,matches:n,...e}):null}function Fy(t){let{manifest:e,routeModules:r}=Xf(),[n,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return Ly(t,e,r).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,r]),n}function By({page:t,matches:e,...r}){let n=Cr(),{manifest:i,routeModules:a}=Xf(),{basename:l}=Yf(),{loaderData:c,matches:o}=zy(),u=v.useMemo(()=>Jd(t,e,o,i,n,"data"),[t,e,o,i,n]),h=v.useMemo(()=>Jd(t,e,o,i,n,"assets"),[t,e,o,i,n]),m=v.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(e.forEach(p=>{var g;let f=i.routes[p.route.id];!f||!f.hasLoader||(!u.some(j=>j.route.id===p.route.id)&&p.route.id in c&&((g=a[p.route.id])!=null&&g.shouldRevalidate)||f.hasClientLoader?w=!0:b.add(p.route.id))}),b.size===0)return[];let y=Ay(t,l,"data");return w&&b.size>0&&y.searchParams.set("_routes",e.filter(p=>b.has(p.route.id)).map(p=>p.route.id).join(",")),[y.pathname+y.search]},[l,c,n,i,u,e,t,a]),d=v.useMemo(()=>Ry(h,i),[h,i]),x=Fy(h);return v.createElement(v.Fragment,null,m.map(b=>v.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),d.map(b=>v.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:w})=>v.createElement("link",{key:b,nonce:r.nonce,...w})))}function Hy(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ep=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ep&&(window.__reactRouterVersion="7.8.0")}catch{}function Vy({basename:t,children:e,window:r}){let n=v.useRef();n.current==null&&(n.current=Ix({window:r,v5Compat:!0}));let i=n.current,[a,l]=v.useState({action:i.action,location:i.location}),c=v.useCallback(o=>{v.startTransition(()=>l(o))},[l]);return v.useLayoutEffect(()=>i.listen(c),[i,c]),v.createElement(wy,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=v.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:c,target:o,to:u,preventScrollReset:h,viewTransition:m,...d},x){let{basename:b}=v.useContext(Ct),w=typeof u=="string"&&tp.test(u),y,p=!1;if(typeof u=="string"&&w&&(y=u,ep))try{let D=new URL(window.location.href),O=u.startsWith("//")?new URL(D.protocol+u):new URL(u),J=tr(O.pathname,b);O.origin===D.origin&&J!=null?u=J+O.search+O.hash:p=!0}catch{Et(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let f=iy(u,{relative:i}),[g,j,N]=Uy(n,d),P=Jy(u,{replace:l,state:c,target:o,preventScrollReset:h,relative:i,viewTransition:m});function C(D){e&&e(D),D.defaultPrevented||P(D)}let I=v.createElement("a",{...d,...N,href:y||f,onClick:p||a?e:C,ref:Hy(x,j),target:o,"data-discover":!w&&r==="render"?"true":void 0});return g&&!w?v.createElement(v.Fragment,null,I,v.createElement(Wy,{page:f})):I});Sa.displayName="Link";var Ky=v.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:c,children:o,...u},h){let m=ii(l,{relative:u.relative}),d=Cr(),x=v.useContext(Ga),{navigator:b,basename:w}=v.useContext(Ct),y=x!=null&&ev(m)&&c===!0,p=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,f=d.pathname,g=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(f=f.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&w&&(g=tr(g,w)||g);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let N=f===p||!i&&f.startsWith(p)&&f.charAt(j)==="/",P=g!=null&&(g===p||!i&&g.startsWith(p)&&g.charAt(p.length)==="/"),C={isActive:N,isPending:P,isTransitioning:y},I=N?e:void 0,D;typeof n=="function"?D=n(C):D=[n,N?"active":null,P?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(C):a;return v.createElement(Sa,{...u,"aria-current":I,className:D,ref:h,style:O,to:l,viewTransition:c},typeof o=="function"?o(C):o)});Ky.displayName="NavLink";var Gy=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:l=Zi,action:c,onSubmit:o,relative:u,preventScrollReset:h,viewTransition:m,...d},x)=>{let b=Yy(),w=Xy(c,{relative:u}),y=l.toLowerCase()==="get"?"get":"post",p=typeof c=="string"&&tp.test(c),f=g=>{if(o&&o(g),g.defaultPrevented)return;g.preventDefault();let j=g.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||l;b(j||g.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:i,state:a,relative:u,preventScrollReset:h,viewTransition:m})};return v.createElement("form",{ref:x,method:y,action:w,onSubmit:n?o:f,...d,"data-discover":!p&&t==="render"?"true":void 0})});Gy.displayName="Form";function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rp(t){let e=v.useContext(qn);return he(e,qy(t)),e}function Jy(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=zt(),o=Cr(),u=ii(t,{relative:a});return v.useCallback(h=>{if(Py(h,e)){h.preventDefault();let m=r!==void 0?r:Gs(o)===Gs(u);c(t,{replace:m,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[o,c,u,r,n,e,t,i,a,l])}var Zy=0,Qy=()=>`__${String(++Zy)}__`;function Yy(){let{router:t}=rp("useSubmit"),{basename:e}=v.useContext(Ct),r=xy();return v.useCallback(async(n,i={})=>{let{action:a,method:l,encType:c,formData:o,body:u}=Ty(n,e);if(i.navigate===!1){let h=i.fetcherKey||Qy();await t.fetch(h,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:o,body:u,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:o,body:u,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function Xy(t,{relative:e}={}){let{basename:r}=v.useContext(Ct),n=v.useContext(Tt);he(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...ii(t||".",{relative:e})},l=Cr();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),o=c.getAll("index");if(o.some(h=>h==="")){c.delete("index"),o.filter(m=>m).forEach(m=>c.append("index",m));let h=c.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Zt([r,a.pathname])),Gs(a)}function ev(t,{relative:e}={}){let r=v.useContext(Gf);he(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rp("useViewTransitionState"),i=ii(t,{relative:e});if(!r.isTransitioning)return!1;let a=tr(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=tr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ka(i.pathname,l)!=null||ka(i.pathname,a)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(t,e)=>{const r=v.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:o,...u},h)=>v.createElement("svg",{ref:h,...tv,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${rv(t)}`,c].join(" "),...u},[...e.map(([m,d])=>v.createElement(m,d)),...Array.isArray(o)?o:[o]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=H("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=H("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=H("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=H("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=H("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=H("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=H("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=H("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=H("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=H("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=H("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=H("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=H("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=H("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=H("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=H("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=H("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=H("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=H("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=H("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=H("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=H("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=H("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=H("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Sv=({customerName:t,customerLogo:e,orderToken:r})=>{const n=zt();return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50",style:{backgroundColor:"rgba(255, 255, 255, 0.02)",backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)"},children:s.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-10 md:h-12",children:[s.jsx("div",{className:"flex items-center",children:e?s.jsx("img",{src:e,alt:"Company Logo",className:"h-6 md:h-7 w-auto",style:{opacity:.8}}):s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-2",style:{opacity:.8},children:s.jsx(Un,{className:"h-4 md:h-5 w-4 md:w-5 text-white"})})}),s.jsx("div",{className:"flex items-center",children:s.jsxs("button",{onClick:()=>n("/admin"),className:"flex items-center space-x-1 px-2 py-1 rounded-lg bg-gray-800 bg-opacity-20 hover:bg-opacity-30 transition-all duration-200 backdrop-blur-sm",title:"Админ панель",children:[s.jsx(cu,{className:"h-3 w-3 text-gray-700"}),s.jsx("span",{className:"text-xs font-medium text-gray-700 hidden sm:inline",children:"Admin"})]})}),s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-0.5 rounded-full",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[s.jsx(ai,{className:"h-2.5 w-2.5 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-800 hidden sm:inline",style:{opacity:.8},children:"Sichere Verbindung"}),s.jsx("span",{className:"text-xs font-medium text-green-800 sm:hidden",style:{opacity:.8},children:"Sicher"})]})]})})})},_v="https://api.monday.com/v2",Qd="eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjQzMjIyMTM2MywiYWFpIjoxMSwidWlkIjo2ODEzNTQzMywiaWFkIjoiMjAyNC0xMS0wNFQyMDozNzoxMC4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MjYzMjE0MzksInJnbiI6ImV1YzEifQ.ADRAxBZMWGvsUQnFPijj3_A0QOhOs3QGATPGDXiw8YM",Dl="2090208832";class Pv{constructor(){this.cache=new Map,this.lastFetch=null,this.isConnected=!1,this.fetchPromise=null,this.CACHE_DURATION=30*60*1e3,this.LOCAL_STORAGE_KEY="monday_price_cache",this.TIMESTAMP_KEY="monday_cache_timestamp",this.requestCount=0,this.dailyRequestCount=0,this.lastResetDate=new Date().toDateString(),this.MAX_DAILY_REQUESTS=100,console.log("🔑 Monday.com API configured with smart caching"),console.log("📋 Board ID:",Dl),console.log("⏱️ Cache Duration:",this.CACHE_DURATION/6e4,"minutes"),console.log("🚫 Daily Request Limit:",this.MAX_DAILY_REQUESTS),this.loadCacheFromStorage()}loadCacheFromStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY),r=localStorage.getItem(this.TIMESTAMP_KEY);if(e&&r){const n=parseInt(r),i=Date.now();if(i-n<this.CACHE_DURATION){const a=JSON.parse(e);return this.cache=new Map(Object.entries(a)),this.lastFetch=new Date(n),this.isConnected=!0,console.log("📦 Loaded persistent cache:",this.cache.size,"items"),console.log("⏰ Cache valid for",Math.round((this.CACHE_DURATION-(i-n))/6e4),"more minutes"),!0}else console.log("⏰ Cache expired, will fetch fresh data")}}catch(e){console.warn("⚠️ Failed to load cache from storage:",e)}return!1}saveCacheToStorage(){try{const e=Object.fromEntries(this.cache);localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e)),localStorage.setItem(this.TIMESTAMP_KEY,Date.now().toString()),console.log("💾 Cache saved to localStorage")}catch(e){console.warn("⚠️ Failed to save cache:",e)}}trackApiCall(){const e=new Date().toDateString();return e!==this.lastResetDate&&(this.dailyRequestCount=0,this.lastResetDate=e,console.log("🗓️ New day, reset API counter")),this.dailyRequestCount>=this.MAX_DAILY_REQUESTS?(console.warn("🚫 Daily API limit reached, using cache"),!1):(this.requestCount++,this.dailyRequestCount++,console.log(`📊 API Call #${this.requestCount} (today: ${this.dailyRequestCount}/${this.MAX_DAILY_REQUESTS})`),!0)}isCacheValid(){if(!this.lastFetch||this.cache.size===0)return!1;const r=Date.now()-this.lastFetch.getTime(),n=r<this.CACHE_DURATION;return n||console.log("⏰ Cache expired (age:",Math.round(r/6e4),"minutes)"),n}async fetchPriceData(){if(this.isCacheValid())return console.log("📦 Using cached data (",this.cache.size,"items)"),this.cache;if(this.fetchPromise)return console.log("⏳ Request already in progress, waiting..."),this.fetchPromise;if(!this.trackApiCall())return console.log("🚫 API limit reached, using stale cache or fallback"),this.cache.size>0?this.cache:this.getMockData();this.fetchPromise=this.performAPIFetch();try{return await this.fetchPromise}finally{this.fetchPromise=null}}async performAPIFetch(){var e,r;try{console.log("🌐 Fetching fresh data from Monday.com API...");const n=`
        query {
          boards(ids: [${Dl}]) {
            items_page(limit: 50) {
              items {
                id
                name
                column_values {
                  id
                  text
                  value
                }
              }
            }
          }
        }
      `,i=await fetch(_v,{method:"POST",headers:{"Content-Type":"application/json",Authorization:Qd,"API-Version":"2023-10"},body:JSON.stringify({query:n})});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const a=await i.json();if(a.errors&&a.errors.length>0)return console.error("❌ Monday.com API errors:",a.errors),this.cache.size>0?this.cache:this.getMockData();const l=new Map,c=((r=(e=a.data.boards[0])==null?void 0:e.items_page)==null?void 0:r.items)||[];return console.log(`📦 Processing ${c.length} items from Monday.com`),c.forEach((o,u)=>{const h=o.column_values.find(m=>{var d,x;return m.id==="preis"||m.id==="value"||m.id==="numbers"||m.id==="number"||m.id.includes("preis")||m.id.includes("price")||((d=m.text)==null?void 0:d.includes("€"))||((x=m.text)==null?void 0:x.match(/^\d+([.,]\d+)?$/))});if(h&&h.text){const m=parseFloat(h.text.replace(",",".").replace("€",""));if(!isNaN(m)){const d={id:o.name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),name:o.name,value:m,itemId:o.id};l.set(d.id,d),console.log(`💰 ${o.name}: €${m}`)}}else console.log(`⚠️ No price found for item ${u+1}: ${o.name}`)}),this.cache=l,this.lastFetch=new Date,this.isConnected=!0,this.saveCacheToStorage(),console.log(`✅ Successfully cached ${l.size} prices from Monday.com`),l}catch(n){return console.error("❌ Error fetching Monday.com data:",n),this.isConnected=!1,this.cache.size>0?(console.log("📦 Using stale cache due to API error"),this.cache):this.getMockData()}}async getPrice(e){const n=(await this.fetchPriceData()).get(e);return(n==null?void 0:n.value)||0}async getAllPrices(){return this.fetchPriceData()}async forceRefresh(){return console.log("🔄 Force refresh requested"),this.lastFetch=null,this.cache.clear(),localStorage.removeItem(this.LOCAL_STORAGE_KEY),localStorage.removeItem(this.TIMESTAMP_KEY),this.fetchPriceData()}getMockData(){return console.log("📝 Using fallback mock data"),new Map([["verwaltungskosten",{id:"verwaltungskosten",name:"Verwaltungskosten",value:30,itemId:"2090249238"}],["wasserdichtigkeit",{id:"wasserdichtigkeit",name:"Wasserdichtigkeit",value:25,itemId:"2090255592"}],["mehrteilig",{id:"mehrteilig",name:"Mehrteilig",value:15,itemId:"2090256392"}],["zeit_pro_m²",{id:"zeit_pro_m²",name:"Zeit pro m²",value:.9,itemId:"2090288932"}],["zeit_pro_element",{id:"zeit_pro_element",name:"Zeit pro Element",value:.08,itemId:"2090294337"}],["controller",{id:"controller",name:"Controller",value:25,itemId:"2090273149"}],["hanging_system",{id:"hanging_system",name:"Aufhängesystem",value:35,itemId:"2092808058"}],["uv_print",{id:"uv_print",name:"UV-Druck",value:50,itemId:"2090213361"}],["dhl_klein_20cm",{id:"dhl_klein_20cm",name:"DHL Klein (bis 20cm)",value:7.49,itemId:"2090232832"}],["dhl_mittel_60cm",{id:"dhl_mittel_60cm",name:"DHL Mittel (bis 60cm)",value:12.99,itemId:"2090231734"}],["dhl_gross_100cm",{id:"dhl_gross_100cm",name:"DHL Groß (bis 100cm)",value:19.99,itemId:"2090234197"}],["spedition_120cm",{id:"spedition_120cm",name:"Spedition (bis 120cm)",value:45,itemId:"2090236189"}],["gutertransport_240cm",{id:"gutertransport_240cm",name:"Gütertransport (bis 240cm)",value:89,itemId:"2090240832"}]])}getConnectionStatus(){return{isConnected:this.isConnected,hasToken:!!Qd,boardId:Dl,lastFetch:this.lastFetch,cacheSize:this.cache.size,cacheValid:this.isCacheValid(),cacheDuration:this.CACHE_DURATION/6e4,requestCount:this.requestCount,dailyRequestCount:this.dailyRequestCount,dailyLimit:this.MAX_DAILY_REQUESTS}}async testConnection(){try{return await this.fetchPriceData(),this.isConnected}catch{return!1}}}const ut=new Pv,Ev=()=>{const t=ut.getConnectionStatus();return t.cacheValid&&t.cacheSize>0?{acrylglas:45,led:8,controller:25,uvPrint:50,packaging:8,elementCost:25}:{acrylglas:45,led:8,controller:25,uvPrint:50,packaging:8,elementCost:25}},$l=[{minWatt:0,maxWatt:30,price:8},{minWatt:31,maxWatt:60,price:15},{minWatt:61,maxWatt:100,price:25},{minWatt:101,maxWatt:150,price:35},{minWatt:151,maxWatt:200,price:50},{minWatt:201,maxWatt:300,price:75},{minWatt:301,maxWatt:500,price:120},{minWatt:501,maxWatt:750,price:160},{minWatt:751,maxWatt:1e3,price:200}];function qt(t,e,r){const n=e/t;return Math.round(r*n)}function Qs(t,e,r,n,i){const a=2*(t+e),c=2*(n+i)/a,o=r*c;return Math.max(1,Math.round(o*10)/10)}function Cv(t){return Math.round(t*12)}function Tv(t){const e=$l.find(r=>t>=r.minWatt&&t<=r.maxWatt);return e?e.price:$l[$l.length-1].price}function Qa(t,e){return t*e/1e4}async function Vo(t){try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3),n=await fetch(`https://nominatim.openstreetmap.org/search?postalcode=${t}&country=Germany&format=json&limit=1&addressdetails=1&accept-language=de`,{signal:e.signal});if(clearTimeout(r),!n.ok)return console.warn("Geocoding API request failed:",n.status),null;const i=await n.json();return console.log("🗺️ Geocoding Response für",t,":",i),i.length===0?(console.warn("Postal code not found in geocoding service:",t),null):{lat:parseFloat(i[0].lat),lng:parseFloat(i[0].lon),displayName:i[0].display_name||i[0].name||`Stadt ${t}`}}catch(e){return(e==null?void 0:e.name)==="AbortError"?console.warn("Geocoding timeout nach 5 Sekunden für PLZ:",t):console.warn("Geocoding service error:",e),null}}async function Av(t){console.log("🗺️ Getting real city name for PLZ:",t);try{const r=await Vo(t);if(r){const n=lp(r.displayName);return console.log("🏙️ Real city name from Maps API:",n),n}}catch(r){console.warn("Failed to get real city name:",r)}return console.log("🏙️ Using fallback city name calculation"),Ye("67433",t).cityName}async function Iv(t,e){const n=new Promise((i,a)=>{setTimeout(()=>a(new Error("API Timeout")),8e3)});try{console.log("🚀 Starte Routenberechnung:",t,"→",e);const[i,a]=await Promise.race([Promise.all([Vo(t),Vo(e)]),n]);if(console.log("📍 Koordinaten erhalten:",{fromCoords:i,toCoords:a}),!i||!a){console.warn("Geocoding failed for one or both postal codes, using fallback calculation");const x=Ye(t,e);return{distance:x.distance,duration:Math.round(x.distance*1.2),cityName:x.cityName}}const l=`https://router.project-osrm.org/route/v1/driving/${i.lng},${i.lat};${a.lng},${a.lat}?overview=simplified&steps=false&geometries=geojson`;console.log("🛣️ Route URL:",l);const c=await Promise.race([fetch(l),n]);if(console.log("🌐 Routing Response Status:",c.status),!c.ok){console.warn("Routing API request failed:",c.status);const x=Ye(t,e);return{distance:x.distance,duration:Math.round(x.distance*1.2),cityName:x.cityName}}const o=await c.json();if(console.log("📊 Routing Data:",o),o.routes.length===0){console.warn("No route found between postal codes");const x=Ye(t,e);return{distance:x.distance,duration:Math.round(x.distance*1.2),cityName:x.cityName}}const u=o.routes[0],h=lp(i.displayName)||"Deutsche Stadt";console.log("🏙️ Extrahierter Stadtname:",h,"aus:",i.displayName);const m=Math.round(u.distance/1e3),d=Math.round(u.duration/60);if(console.log("📏 Berechnete Werte:",{calculatedDistance:m,calculatedDuration:d}),m===0||d===0){console.warn("API returned 0 distance/duration, using fallback calculation");const x=Ye(t,e);return{distance:x.distance,duration:Math.round(x.distance*1.2),cityName:x.cityName}}return console.log("✅ Erfolgreiche Routenberechnung:",{distance:m,duration:d,cityName:h}),{distance:m,duration:d,cityName:h,route:u.geometry}}catch(i){(i==null?void 0:i.message)==="API Timeout"?console.warn("API Timeout nach 8 Sekunden, verwende Fallback-Berechnung"):console.warn("Real distance calculation failed, using fallback:",i);const a=Ye(t,e);return{distance:a.distance,duration:Math.round(a.distance*1.2),cityName:a.cityName}}}function lp(t){if(!t)return"Deutsche Stadt";console.log("🔍 Extrahiere Stadtname aus:",t);const e=t.split(",").map(n=>n.trim());console.log("📝 Aufgeteilte Teile:",e);const r=["Berlin","Hamburg","München","Köln","Frankfurt","Stuttgart","Düsseldorf","Dortmund","Essen","Leipzig","Bremen","Dresden","Hannover","Nürnberg","Duisburg","Bochum","Wuppertal","Bielefeld","Bonn","Münster","Karlsruhe","Mannheim","Augsburg","Wiesbaden","Gelsenkirchen","Mönchengladbach","Braunschweig","Chemnitz","Kiel","Aachen","Halle","Magdeburg","Freiburg","Krefeld","Lübeck","Oberhausen","Erfurt","Mainz","Rostock","Kassel","Hagen","Potsdam","Saarbrücken","Hamm","Mülheim","Ludwigshafen","Leverkusen","Neustadt","Speyer","Landau","Kaiserslautern","Ludwigshafen am Rhein"];for(const n of e)for(const i of r)if(n.includes(i))return console.log("✅ Bekannte Stadt gefunden:",i,"in Teil:",n),i;for(const n of e)if(!/^\d{5}$/.test(n)&&!(n==="Deutschland"||n==="Germany")&&!(n.includes("Landkreis")||n.includes("Kreis"))&&!n.includes("Regierungsbezirk")&&!n.includes("Bundesland")&&!n.includes("Verwaltungsgemeinschaft")&&!n.includes("Samtgemeinde")&&!n.includes("Verbandsgemeinde")&&!n.includes("Rheinland-Pfalz")&&!n.includes("Bayern")&&!n.includes("Baden-Württemberg")&&!n.includes("Nordrhein-Westfalen")&&!n.includes("Ortsteil")&&!n.includes("Stadtteil")&&!n.includes("Bezirk")&&!n.includes("-Mitte")&&!n.includes("-Altstadt")&&!n.includes("-Nord")&&!n.includes("-Süd")&&!n.includes("-Ost")&&!n.includes("-West")&&n.length>2){let i=n;if(i.includes("-")){const a=i.split("-")[0];a.length>2&&(i=a)}return console.log("✅ Erste sinnvolle Stadt gefunden:",n),i}return console.log("⚠️ Fallback zum ersten Teil:",e[0]),e[0]||"Deutsche Stadt"}function Ye(t,e){console.log("🔍 calculateDistance called with:","from:",t,"to:",e);const r=parseInt(t),n=parseInt(e),i=y=>{if(y>=1e4&&y<=19999)return{lat:52.52,lng:13.405};if(y>=2e4&&y<=29999)return{lat:53.5511,lng:9.9937};if(y>=3e4&&y<=39999)return{lat:52.3759,lng:9.732};if(y>=4e4&&y<=49999)return{lat:51.2277,lng:6.7735};if(y>=5e4&&y<=59999)return{lat:50.9375,lng:6.9603};if(y>=6e4&&y<=66999)return{lat:50.1109,lng:8.6821};if(y>=67e3&&y<=67999)return{lat:49.3501,lng:8.1};if(y>=68e3&&y<=69999)return{lat:49.4875,lng:8.466};if(y>=7e4&&y<=79999)return{lat:48.7758,lng:9.1829};if(y>=8e4&&y<=89999)return{lat:48.1351,lng:11.582};if(y>=9e4&&y<=99999)return{lat:49.4521,lng:11.0767};const p=51+(y-5e4)*1e-5,f=10+(y-5e4)*1e-5;return{lat:p,lng:f}},a=i(r),l=i(n),c=6371,o=(l.lat-a.lat)*Math.PI/180,u=(l.lng-a.lng)*Math.PI/180,h=Math.sin(o/2)*Math.sin(o/2)+Math.cos(a.lat*Math.PI/180)*Math.cos(l.lat*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2),m=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),d=Math.round(c*m),w={distance:Math.max(d,1),cityName:(y=>{console.log("🏙️ getCityName called with postalCode:",y,"type:",typeof y);const p=parseInt(y);console.log("🏙️ Parsed PLZ:",p);const f={10115:"Berlin-Mitte",10117:"Berlin-Mitte",10178:"Berlin-Mitte",10179:"Berlin-Mitte",20095:"Hamburg-Altstadt",20099:"Hamburg-St. Georg",80331:"München-Altstadt",80333:"München-Maxvorstadt",50667:"Köln-Altstadt-Süd",50674:"Köln-Altstadt-Nord",60311:"Frankfurt-Altstadt",60313:"Frankfurt-Innenstadt",67433:"Neustadt an der Weinstraße",67435:"Neustadt an der Weinstraße"};if(f[y])return console.log("🏙️ Found exact mapping:",f[y]),f[y];let g="";return p>=1e4&&p<=19999?g="Berlin":p>=2e4&&p<=29999?g="Hamburg":p>=3e4&&p<=39999?g="Hannover":p>=4e4&&p<=49999?g="Düsseldorf":p>=5e4&&p<=59999?g="Köln":p>=6e4&&p<=66999?g="Frankfurt am Main":p>=67e3&&p<=67999?g="Neustadt an der Weinstraße":p>=68e3&&p<=69999?g="Mannheim":p>=7e4&&p<=79999?g="Stuttgart":p>=8e4&&p<=89999?g="München":p>=9e4&&p<=99999?g="Nürnberg":g=`Stadt ${y}`,console.log("🏙️ Regional mapping result:",g,"for PLZ:",p),g})(t)};return console.log("🏙️ calculateDistance result:","distance:",w.distance,"cityName:",w.cityName),w}function Pa(t,e,r,n=!1,i=!1,a=!1,l=!1,c=!1){if(!t)return 0;const o=Ev(),u=Qa(e,r),h=Qs(t.originalWidth,t.originalHeight,t.ledLength,e,r),m=Cv(h),d=u*o.acrylglas,x=a?u*o.uvPrint:0,b=h*o.led,w=t.elements*o.elementCost,y=u*o.packaging,p=Tv(m),f=l?35:0,g=d+x+b+w+y+p,C=(u*.9+t.elements*.08)*35,I=n?g*.25:0,D=i?g*.15:0,O=c?g*.3:0,J=g*.3,V=g+C+f+I+D+O+J;return Math.round(V*100)/100}function _s(t,e){return t<=20?{method:"DHL Paket S",cost:7.49,description:"DHL Paket S (bis 20cm)",days:"1-2 Tage",requiresPostalCode:!1}:t<=60?{method:"DHL Paket M",cost:12.99,description:"DHL Paket M (bis 60cm)",days:"1-2 Tage",requiresPostalCode:!1}:t<=100?{method:"DHL Paket L",cost:19.99,description:"DHL Paket L (bis 100cm)",days:"1-2 Tage",requiresPostalCode:!1}:t<=120?{method:"Spedition",cost:45,description:"Spedition (bis 120cm)",days:"2-3 Tage",requiresPostalCode:!1}:{method:"Gütertransport",cost:89,description:"Gütertransport (bis 240cm)",days:"3-5 Tage",requiresPostalCode:!1}}function Mv(t){const e=[];return t.customWidth<20&&e.push("Mindestbreite beträgt 20 cm"),t.customWidth>1e3&&e.push("Maximale Breite beträgt 10 m"),t.customWidth>300&&!t.isTwoPart&&e.push("Breiten über 300 cm erfordern zweiteiliges Schild"),t.calculatedHeight>500&&e.push("Maximale Höhe beträgt 5 m"),t.calculatedHeight>200&&e.push("Maximale Höhe beträgt 200 cm"),t.includesInstallation&&!t.customerPostalCode&&e.push("Postleitzahl erforderlich für Montage-Service"),t.customerPostalCode&&!/^\d{5}$/.test(t.customerPostalCode)&&e.push("Ungültige Postleitzahl (5 Ziffern erforderlich)"),e}class Lv{constructor(){this.baseUrl="/api/monday",this.cache=new Map,this.lastSync=null,this.syncInterval=null,this.isConnected=!1,this.lastError=null,this.designCache=new Map,this.connectionDetails={hasToken:!1,tokenLength:0,lastAttempt:null,errorCount:0},this.apiToken="eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjQzMjIyMTM2MywiYWFpIjoxMSwidWlkIjo2ODEzNTQzMywiaWFkIjoiMjAyNC0xMS0wNFQyMDozNzoxMC4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MjYzMjE0MzksInJnbiI6ImV1YzEifQ.ADRAxBZMWGvsUQnFPijj3_A0QOhOs3QGATPGDXiw8YM",this.connectionDetails.hasToken=!!this.apiToken,this.connectionDetails.tokenLength=this.apiToken.length,this.apiToken?(console.log("🔑 Monday.com API Token geladen (Länge:",this.apiToken.length,"Zeichen)"),console.log("🔑 Token beginnt mit:",this.apiToken.substring(0,8)+"...")):(console.warn("⚠️ VITE_MONDAY_API_TOKEN nicht gefunden"),console.log("💡 Tipp: Erstellen Sie eine .env Datei mit VITE_MONDAY_API_TOKEN=ihr_token_hier"),this.lastError="Kein API-Token gefunden"),this.boardId="2090208832",this.initializeFallbackPrices(),this.apiToken&&this.testConnection()}async testConnection(){var e,r,n;try{console.log("🧪 Teste Monday.com API-Verbindung...");const i=`query { boards(ids: [${this.boardId}]) { id name } }`,a=await fetch("https://api.monday.com/v2",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiToken}`,"API-Version":"2023-10"},body:JSON.stringify({query:i})});if(console.log("🌐 API Response Status:",a.status),a.ok){const l=await a.json();console.log("📊 API Response Data:",l),(e=l.data)!=null&&e.boards?(console.log("✅ Monday.com API-Verbindung erfolgreich! Board:",(r=l.data.boards[0])==null?void 0:r.name),this.isConnected=!0,this.lastError=null):l.errors&&(console.error("❌ Monday.com API-Fehler:",l.errors),this.isConnected=!1,this.lastError=`API Fehler: ${((n=l.errors[0])==null?void 0:n.message)||"Unbekannt"}`)}else{const l=await a.text();console.error("❌ API Response Error:",l),console.error("❌ Monday.com API-Verbindung fehlgeschlagen:",a.status,a.statusText),this.isConnected=!1,this.lastError=`HTTP ${a.status}: ${a.statusText}`}}catch(i){console.error("❌ Monday.com API-Verbindungstest fehlgeschlagen:",i),this.isConnected=!1,this.lastError=i instanceof Error?i.message:"Verbindungstest fehlgeschlagen"}}initializeFallbackPrices(){[{name:"acryl_glass",preis:58.46,einheit:"€/m²",id:"fallback-acryl"},{name:"uv_print",preis:36.22,einheit:"€/m²",id:"fallback-uv"},{name:"led",preis:2.5,einheit:"€/m",id:"fallback-led"},{name:"elements",preis:2,einheit:"€/piece",id:"fallback-elements"},{name:"assembly",preis:150,einheit:"€/m²",id:"fallback-assembly"},{name:"packaging",preis:30,einheit:"€/m²",id:"fallback-packaging"},{name:"controller",preis:20,einheit:"€/piece",id:"fallback-controller"},{name:"controller_high_power",preis:50,einheit:"€/piece",id:"fallback-controller-hp"},{name:"hourly_wage",preis:25,einheit:"€/h",id:"fallback-wage"},{name:"time_per_m2",stunde:3,einheit:"h/m²",id:"fallback-time-m2"},{name:"time_per_element",stunde:.1,einheit:"h/Element",id:"fallback-time-element"},{name:"waterproofing",prozent:25,einheit:"%",id:"fallback-waterproof"},{name:"multi_part",prozent:15,einheit:"%",id:"fallback-multipart"},{name:"administrative_costs",prozent:20,einheit:"%",id:"fallback-admin"},{name:"express_production",prozent:30,einheit:"%",id:"fallback-express"},{name:"distance_rate",preis:1.5,einheit:"€/km",id:"fallback-distance"},{name:"power_usb_15w",preis:5,einheit:"€",id:"fallback-power-15w"},{name:"power_30w",preis:8,einheit:"€",id:"fallback-power-30w"},{name:"power_70w",preis:15,einheit:"€",id:"fallback-power-70w"},{name:"power_120w",preis:20,einheit:"€",id:"fallback-power-120w"},{name:"power_200w",preis:30,einheit:"€",id:"fallback-power-200w"},{name:"power_250w",preis:40,einheit:"€",id:"fallback-power-250w"},{name:"power_300w",preis:50,einheit:"€",id:"fallback-power-300w"},{name:"power_400w",preis:70,einheit:"€",id:"fallback-power-400w"},{name:"power_1000w",preis:200,einheit:"€",id:"fallback-power-1000w"},{name:"dhl_klein_20cm",preis:20,einheit:"€",id:"fallback-dhl-klein"},{name:"dhl_mittel_60cm",preis:40,einheit:"€",id:"fallback-dhl-mittel"},{name:"dhl_gross_100cm",preis:80,einheit:"€",id:"fallback-dhl-gross"},{name:"spedition_120cm",preis:160,einheit:"€",id:"fallback-spedition"},{name:"gutertransport_240cm",preis:500,einheit:"€",id:"fallback-gutertransport"},{name:"hanging_system",preis:15,einheit:"€",id:"fallback-hanging"}].forEach(r=>{this.cache.set(r.name,{id:r.id,name:r.name,einheit:r.einheit,preis:r.preis,prozent:r.prozent,stunde:r.stunde})}),console.log("💾 Fallback-Preise initialisiert:",this.cache.size,"Einträge"),console.log("🔗 Hängesystem Fallback-Preis:",this.cache.get("hanging_system"))}async fetchPrices(){var e,r,n,i,a,l,c,o,u;this.connectionDetails.lastAttempt=new Date;try{if(!this.apiToken)return this.lastError="Kein API-Token konfiguriert",this.isConnected=!1,this.lastSync=new Date,console.log("💾 Kein API Token - verwende Fallback-Preise"),this.cache;console.log("🔄 Starte Monday.com API-Anfrage...",{boardId:this.boardId,tokenLength:this.apiToken.length,timestamp:new Date().toISOString()});const h=`
        query {
          boards(ids: [${this.boardId}]) {
            items_page(limit: 100) {
              items {
                id
                name
                column_values {
                  id
                  text
                  value
                }
              }
            }
          }
        }
      `;console.log("📤 GraphQL Query bereit");const m="Direct API Call";console.log("🔄 Direkte Monday.com API-Anfrage...");const d=await fetch("https://api.monday.com/v2",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiToken}`,"API-Version":"2023-10"},body:JSON.stringify({query:h})});if(console.log("📡 API-Antwort:",{status:d.status,statusText:d.statusText,url:d.url}),!d.ok){const y=await d.text(),p={status:d.status,statusText:d.statusText,body:y,url:d.url};throw console.error("❌ Monday API Error Details:",p),this.lastError=`API Error ${d.status}: ${d.statusText}`,this.connectionDetails.errorCount++,new Error(`Monday API Error: ${d.status} - ${d.statusText}`)}const x=await d.json();if(console.log("📊 API Response received:",{hasData:!!x.data,hasBoards:!!((e=x.data)!=null&&e.boards),boardsCount:((n=(r=x.data)==null?void 0:r.boards)==null?void 0:n.length)||0,fullResponse:x}),x.errors&&x.errors.length>0)return console.error("❌ GraphQL Errors:",x.errors),this.lastError=`GraphQL Error: ${((i=x.errors[0])==null?void 0:i.message)||"Unknown GraphQL error"}`,this.connectionDetails.errorCount++,console.warn("⚠️ GraphQL Fehler, verwende Fallback-Preise"),this.isConnected=!1,this.lastSync=new Date,this.cache;const b=((u=(o=(c=(l=(a=x==null?void 0:x.data)==null?void 0:a.boards)==null?void 0:l[0])==null?void 0:c.items_page)==null?void 0:o.items)==null?void 0:u.filter(y=>!0))||[];if(console.log("📋 Gefundene Items:",b.length),b.length===0)return console.warn("⚠️ Keine Items vom Monday.com Board erhalten"),this.lastError="Keine Items vom Board erhalten",this.isConnected=!1,this.lastSync=new Date,this.cache;const w=new Map(this.cache);return b.forEach(y=>{console.log("🔍 Verarbeite Item:",{id:y.id,name:y.name});const p=["2090249238","2090255592","2090256392","2090288932","2090294337"].includes(y.id);p&&console.log("🎯 SPEZIELLES ITEM GEFUNDEN:",{id:y.id,name:y.name,columns:y.column_values.map(N=>({id:N.id,text:N.text}))});const f={id:y.id,name:y.name,einheit:"",preis:0};y.column_values.forEach(N=>{var P,C,I,D,O;switch(p&&console.log(`  📊 Spalte ${N.id}: "${N.text}" (Item: ${y.id})`),N.id){case"text_mktmnrrm":f.einheit=N.text||"";break;case"numeric_mktmw8n":const J=((P=N.text)==null?void 0:P.replace(",",".").replace("€","").trim())||"0";f.preis=parseFloat(J),p&&console.log(`    💰 Preis verarbeitet: "${N.text}" → ${f.preis}`);break;case"numeric_mktmcycy":console.log(`📊 PROZENT-SPALTE für Item ${y.id} ("${y.name}"):`,{text:N.text,value:N.value,rawValue:JSON.stringify(N.value)});let V=null;if(N.text&&N.text.trim()!==""&&N.text!=="—"){const k=N.text.replace("%","").replace(",",".").trim(),E=parseFloat(k);isNaN(E)||(V=E,console.log(`  ✅ Text-Parsing erfolgreich: "${N.text}" → ${V}%`))}if(V===null&&N.value)try{const k=typeof N.value=="string"?JSON.parse(N.value):N.value;typeof k=="number"&&(V=k,console.log(`  ✅ JSON-Parsing erfolgreich: ${N.value} → ${V}%`))}catch{console.log("  ❌ JSON-Parsing fehlgeschlagen")}V===null&&typeof N.value=="number"&&(V=N.value,console.log(`  ✅ Direkter Wert: ${V}%`)),V!==null?(f.prozent=V,console.log(`🎯 PROZENT GESETZT für ${y.name}: ${V}%`)):console.log(`❌ PROZENT NICHT GEFUNDEN für ${y.name}`);break;case"numeric_mktmz717":if(["2090288932","2090294337"].includes(y.id)){console.log(`⏰ STUNDEN-SPALTE für Item ${y.id} ("${y.name}"):`,{text:N.text,value:N.value,rawValue:JSON.stringify(N.value)});let k=null;if(N.text&&N.text.trim()!==""&&N.text!=="—"){const E=N.text.replace(" h","").replace("h","").replace(",",".").trim(),R=parseFloat(E);isNaN(R)||(k=R,console.log(`  ✅ Text-Parsing erfolgreich: "${N.text}" → ${k}h`))}if(k===null&&N.value)try{const E=typeof N.value=="string"?JSON.parse(N.value):N.value;typeof E=="number"&&(k=E,console.log(`  ✅ JSON-Parsing erfolgreich: ${N.value} → ${k}h`))}catch{console.log("  ❌ JSON-Parsing fehlgeschlagen")}k===null&&typeof N.value=="number"&&(k=N.value,console.log(`  ✅ Direkter Wert: ${k}h`)),k!==null?(f.stunde=k,console.log(`🎯 STUNDEN GESETZT für ${y.name}: ${k}h`)):console.log(`❌ STUNDEN NICHT GEFUNDEN für ${y.name}`)}break;case"pulse_id_mktmzkhz":f.pulse_id=N.text||"";break;case"numeric_mkq7ejqj":const G=((C=N.text)==null?void 0:C.replace(",",".").replace("cm","").trim())||"0";f.breite=parseFloat(G);break;case"numeric_mkq7nqpc":const se=((I=N.text)==null?void 0:I.replace(",",".").replace("cm","").trim())||"0";f.hoehe=parseFloat(se);break;case"numeric_mkqq3jcd":const Z=((D=N.text)==null?void 0:D.replace(",",".").replace("m","").trim())||"0";f.ledLaenge=parseFloat(Z);break;case"numeric_mkrnkjy6":const re=((O=N.text)==null?void 0:O.replace(",",".").trim())||"0";f.elemente=parseFloat(re);break;case"file_mkq71vjr":try{const k=N.value?JSON.parse(N.value):null;k&&k.files&&k.files.length>0&&(f.logoSvg=k.files[0].url)}catch(k){console.warn("Could not parse SVG file column:",k)}break}}),console.log(`✅ Verarbeitetes Item ${y.id}:`,f);const g=this.mapMondayIdToKey(y.id);g&&(w.set(g,f),console.log(`🎯 ID-MAPPING: Item ${y.id} ("${y.name}") → "${g}"`,f),y.id==="2090213361"&&console.log(`🎨 UV-DRUCK GEFUNDEN! ID: ${y.id}, Preis: €${f.preis}/m²`),y.id==="2092808058"&&console.log(`🔗 HÄNGESYSTEME GEFUNDEN! ID: ${y.id}, Preis: €${f.preis}`));const j=this.mapMondayNameToKey(y.name);if(j&&!g&&(w.set(j,f),console.log(`🗝️ NAME-MAPPING: "${y.name}" → "${j}"`,f)),f.breite||f.hoehe||f.ledLaenge||f.elemente||f.logoSvg){const N=f.logoSvg&&f.logoSvg.trim().startsWith("<svg"),P=f.logoSvg&&(f.logoSvg.endsWith(".svg")||f.logoSvg.includes(".svg"));this.designCache.set(y.id,{id:y.id,name:y.name,originalWidth:f.breite||0,originalHeight:f.hoehe||0,ledLength:f.ledLaenge||0,elements:f.elemente||0,svgContent:N?f.logoSvg:null,svgUrl:P?f.logoSvg:null,hasCustomSvg:!!(N||P),mockupUrl:!N&&!P&&f.logoSvg?f.logoSvg:"https://images.pexels.com/photos/1036936/pexels-photo-1036936.jpeg?auto=compress&cs=tinysrgb&w=800&h=400&fit=crop",description:`Design aus Monday.com: ${y.name}`}),console.log(`🎨 Design-Daten gespeichert für Item ${y.id}:`,this.designCache.get(y.id))}}),this.cache=w,this.lastSync=new Date,this.isConnected=!0,this.lastError=null,this.connectionDetails.errorCount=0,console.log("✅ Monday.com Sync erfolgreich:",{itemsProcessed:b.length,cacheSize:this.cache.size,method:m,timestamp:this.lastSync.toISOString()}),this.cache}catch(h){return console.error("❌ Monday.com Sync Fehler:",{error:h,message:h instanceof Error?h.message:"Unknown error",timestamp:new Date().toISOString(),tokenAvailable:!!this.apiToken,tokenLength:this.apiToken.length}),this.isConnected=!1,this.lastError=h instanceof Error?h.message:"Unbekannter Fehler",this.connectionDetails.errorCount++,console.log("💾 Verwende Fallback-Preise bei API-Fehler"),this.lastSync=new Date,this.cache}}mapMondayNameToKey(e){return console.log(`🗝️ Mapping-Versuch für: "${e}"`),{"Acryl Glass":"acryl_glass",Acrylglas:"acryl_glass","UV Druck":"uv_print","UV-Druck":"uv_print","UV Print":"uv_print",LED:"led",Led:"led",Element:"elements",Elemente:"elements",Montage:"assembly",Assembly:"assembly",Verpackung:"packaging",Packaging:"packaging",Controller:"controller",Steuerung:"controller",Stundenlohn:"hourly_wage","Hourly Wage":"hourly_wage",Lohn:"hourly_wage",Wasserdichtigkeit:"waterproofing",Wasserdicht:"waterproofing",Waterproof:"waterproofing",Mehrteilig:"multi_part","Multi Part":"multi_part",Zweiteilig:"multi_part",Verwaltungskosten:"administrative_costs",Verwaltung:"administrative_costs",Admin:"administrative_costs","Administrative Costs":"administrative_costs",Administrative:"administrative_costs",Verwaltungsaufwand:"administrative_costs",Administration:"administrative_costs","Express Herstellung":"express_production","Express Production":"express_production",Express:"express_production",Eilauftrag:"express_production",Kilometer:"distance_rate","Distance Rate":"distance_rate",Entfernung:"distance_rate",Anfahrt:"distance_rate","Netzteil USB bis 15W":"power_usb_15w","Power USB 15W":"power_usb_15w","Netzteil 30W":"power_30w","Power 30W":"power_30w","Netzteil 70W":"power_70w","Power 70W":"power_70w","Netzteil 120W":"power_120w","Power 120W":"power_120w","Netzteil 200W":"power_200w","Power 200W":"power_200w","Netzteil 250W":"power_250w","Power 250W":"power_250w","Netzteil 300W":"power_300w","Power 300W":"power_300w","Netzteil 400W":"power_400w","Power 400W":"power_400w","Netzteil 1000W":"power_1000w","Power 1000W":"power_1000w","DHL Klein Packet":"dhl_klein_20cm","DHL Klein":"dhl_klein_20cm","DHL mittlere Packet":"dhl_mittel_60cm","DHL Mittel":"dhl_mittel_60cm","DHL Große Packet":"dhl_gross_100cm","DHL Groß":"dhl_gross_100cm","Spedition ab 120cm":"spedition_120cm",Spedition:"spedition_120cm","Gütertransport (palettiert) ab 240cm":"gutertransport_240cm",Gütertransport:"gutertransport_240cm",Hängesystem:"hanging_system","Hanging System":"hanging_system",Aufhängung:"hanging_system"}[e]||null}mapMondayIdToKey(e){return{2090213361:"uv_print",2090249238:"administrative_costs",2090255592:"waterproofing",2090256392:"multi_part",2090288932:"time_per_m2",2090294337:"time_per_element",2090228072:"hourly_wage",2090227751:"assembly",2090242018:"distance_rate",2090232832:"dhl_klein_20cm",2090231734:"dhl_mittel_60cm",2090234197:"dhl_gross_100cm",2090236189:"spedition_120cm",2090240832:"gutertransport_240cm",2090273149:"controller",2091194484:"controller_high_power",2092808058:"hanging_system"}[e]||null}getAcrylglasPrice(){var e;return((e=this.cache.get("acryl_glass"))==null?void 0:e.preis)||58.46}getUvPrintPrice(){const e=this.cache.get("uv_print"),r=(e==null?void 0:e.preis)||36.22;return console.log(`🎨 UV-Druck Preis abgerufen: €${r}/m² (aus Monday: ${(e==null?void 0:e.preis)!==void 0?e.preis:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),r}getLedPrice(){var e;return((e=this.cache.get("led"))==null?void 0:e.preis)||2.5}getElementPrice(){var e;return((e=this.cache.get("elements"))==null?void 0:e.preis)||2}getAssemblyPrice(){const e=this.cache.get("assembly"),r=(e==null?void 0:e.preis)||150;return console.log(`🔧 Montage pro m²: €${r} (aus Monday: ${(e==null?void 0:e.preis)!==void 0?e.preis:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),r}getPackagingPrice(){var e;return((e=this.cache.get("packaging"))==null?void 0:e.preis)||30}getControllerPrice(){const e=this.cache.get("controller"),r=(e==null?void 0:e.preis)||20;return console.log(`🔌 Standard Controller: €${r} (aus Monday: ${(e==null?void 0:e.preis)!==void 0?e.preis:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),r}getHighPowerControllerPrice(){const e=this.cache.get("controller_high_power"),r=(e==null?void 0:e.preis)||50;return console.log(`🔌 High-Power Controller: €${r} (aus Monday: ${(e==null?void 0:e.preis)!==void 0?e.preis:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),r}getControllerPriceByWattage(e){return e>80?(console.log(`⚡ Verbrauch ${e}W > 80W → High-Power Controller`),this.getHighPowerControllerPrice()):(console.log(`⚡ Verbrauch ${e}W ≤ 80W → Standard Controller`),this.getControllerPrice())}getHourlyWage(){const e=this.cache.get("hourly_wage"),r=(e==null?void 0:e.preis)||25;return console.log(`💰 Stundenlohn: €${r}/h (aus Monday: ${(e==null?void 0:e.preis)!==void 0?e.preis:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),r}getPowerSupplyPrice(e){var r,n,i,a,l,c,o,u,h;return e<=15?((r=this.cache.get("power_usb_15w"))==null?void 0:r.preis)||5:e<=30?((n=this.cache.get("power_30w"))==null?void 0:n.preis)||8:e<=70?((i=this.cache.get("power_70w"))==null?void 0:i.preis)||15:e<=120?((a=this.cache.get("power_120w"))==null?void 0:a.preis)||20:e<=200?((l=this.cache.get("power_200w"))==null?void 0:l.preis)||30:e<=250?((c=this.cache.get("power_250w"))==null?void 0:c.preis)||40:e<=300?((o=this.cache.get("power_300w"))==null?void 0:o.preis)||50:e<=400?((u=this.cache.get("power_400w"))==null?void 0:u.preis)||70:((h=this.cache.get("power_1000w"))==null?void 0:h.preis)||200}getShippingPrice(e){var r,n,i,a,l;return e<60?{method:"DHL Klein Packet",price:((r=this.cache.get("dhl_klein_20cm"))==null?void 0:r.preis)||20,description:"DHL Klein Packet (20-59cm)"}:e<100?{method:"DHL mittlere Packet",price:((n=this.cache.get("dhl_mittel_60cm"))==null?void 0:n.preis)||40,description:"DHL mittlere Packet (60-99cm)"}:e<120?{method:"DHL Große Packet",price:((i=this.cache.get("dhl_gross_100cm"))==null?void 0:i.preis)||80,description:"DHL Große Packet (100-119cm)"}:e<240?{method:"Spedition",price:((a=this.cache.get("spedition_120cm"))==null?void 0:a.preis)||160,description:"Spedition (120-239cm)"}:{method:"Gütertransport (palettiert)",price:((l=this.cache.get("gutertransport_240cm"))==null?void 0:l.preis)||500,description:"Gütertransport (ab 240cm)"}}getWaterproofSurcharge(){const e=this.cache.get("waterproofing"),r=(e==null?void 0:e.prozent)||25;return console.log(`🛡️ Wasserdicht Aufschlag: ${r}% (aus Monday: ${e==null?void 0:e.prozent})`),r/100}getMultiPartSurcharge(){const e=this.cache.get("multi_part"),r=(e==null?void 0:e.prozent)||15;return console.log(`✂️ Mehrteilig Aufschlag: ${r}% (aus Monday: ${e==null?void 0:e.prozent})`),r/100}getAdministrativeCostsSurcharge(){const e=this.cache.get("administrative_costs");console.log("🔍 SUCHE administrative_costs in Cache:",{found:e?"JA":"NEIN",item:e,prozent:e==null?void 0:e.prozent,itemId:e==null?void 0:e.id});const r=(e==null?void 0:e.prozent)!==void 0?e.prozent:20;return console.log(`📋 Verwaltungskosten: ${r}% (aus Monday: ${(e==null?void 0:e.prozent)!==void 0?e.prozent:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),r/100}getExpressProductionCost(){var e;return((e=this.cache.get("express_production"))==null?void 0:e.prozent)||30}getExpressProductionSurcharge(){var r,n;const e=this.getExpressProductionCost();return console.log(`⚡ Express Herstellung: ${e}% (aus Monday: ${((r=this.cache.get("express_production"))==null?void 0:r.prozent)!==void 0?(n=this.cache.get("express_production"))==null?void 0:n.prozent:"nicht gefunden"})`),e/100}getDistanceRate(){const e=this.cache.get("distance_rate"),r=(e==null?void 0:e.preis)||1.5;return console.log(`🚗 Kilometer Preis: €${r}/km (aus Monday: ${(e==null?void 0:e.preis)!==void 0?e.preis:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),r}getHangingSystemPrice(){const e=this.cache.get("hanging_system"),r=(e==null?void 0:e.preis)||25;return console.log(`🔗 Hängesystem: €${r} (aus Monday: ${(e==null?void 0:e.preis)!==void 0?e.preis:"nicht gefunden"}, Item ID: ${(e==null?void 0:e.id)||"fallback"})`),console.log("🔍 Hanging System Cache Item:",e),r}getDesigns(){return Array.from(this.designCache.values())}getDesignById(e){return this.designCache.get(e)||null}hasDesignData(){return this.designCache.size>0}calculateLaborCost(e,r){const n=this.cache.get("time_per_m2"),i=this.cache.get("time_per_element"),a=(n==null?void 0:n.stunde)||3,l=(i==null?void 0:i.stunde)||.1,c=this.getHourlyWage();console.log(`⏰ Arbeitszeit: ${a}h/m² + ${l}h/Element × €${c}/h`);const o=e*a+r*l,u=o*c;return console.log(`💼 Arbeitskosten: ${o.toFixed(2)}h × €${c} = €${u.toFixed(2)}`),u}calculateInstallationCost(e,r){if(!r||!/^\d{5}$/.test(r))return 0;const n=this.getAssemblyPrice(),i=this.getDistanceRate();let a=n*e;const c=Ye("67433",r).distance;return a+=i*c,console.log(`🔧 Montage-Service Berechnung:
      (A) Montage pro m²: €${n}
      (B) Kilometer Preis: €${i}/km
      (C) Quadratmeter: ${e.toFixed(4)} m²
      (D) Entfernung: ${c} km
      Formel: (${n} × ${e.toFixed(4)}) + (${i} × ${c}) = €${a.toFixed(2)}`),a}calculatePowerConsumption(e){return Math.round(e*8*1.25)}startAutoSync(e=30){this.syncInterval&&clearInterval(this.syncInterval),this.syncInterval=setInterval(async()=>{try{console.log("🔄 Auto-Sync gestartet um:",new Date().toLocaleTimeString()),await this.fetchPrices(),console.log("🔄 Auto-Sync erfolgreich:",new Date().toLocaleTimeString())}catch(r){console.error("🔄 Auto-Sync Fehler:",r)}},e*1e3),console.log(`🚀 Auto-Sync gestartet (alle ${e} Sekunden)`)}stopAutoSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null,console.log("⏹️ Auto-Sync gestoppt"))}getStatus(){return{isConnected:this.isConnected,lastSync:this.lastSync,itemCount:this.cache.size,autoSyncActive:this.syncInterval!==null,lastError:this.lastError,connectionDetails:this.connectionDetails}}getAllPrices(){return new Map(this.cache)}getAllDesigns(){return new Map(this.designCache)}getUvDruckPrice(){return this.getUvPrintPrice()}getVerpackungPrice(){return this.getPackagingPrice()}getMontagePrice(){return this.getAssemblyPrice()}getKilometerPrice(){return this.getDistanceRate()}}const De=new Lv,Rv=()=>{const[t,e]=v.useState(De.getStatus()),[r,n]=v.useState(!1);v.useEffect(()=>{(async()=>{try{console.log("🚀 Initialer Monday.com Sync gestartet..."),await De.fetchPrices(),e(De.getStatus()),console.log("✅ Monday.com Preise synchronisiert")}catch(c){console.error("❌ Monday.com Sync Fehler:",c),e(De.getStatus())}})(),De.startAutoSync(30);const l=setInterval(()=>{e(De.getStatus())},5e3);return()=>{clearInterval(l),De.stopAutoSync()}},[]);const i=async()=>{n(!0);try{console.log("🔄 Manueller Sync gestartet..."),await De.fetchPrices(),e(De.getStatus()),console.log("✅ Manueller Sync erfolgreich")}catch(a){console.error("❌ Manueller Sync Fehler:",a),e(De.getStatus())}finally{n(!1)}};return s.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-gray-400 bg-white/80 backdrop-blur-sm px-2 py-1 rounded-md shadow-sm border border-gray-200/50 max-w-fit mx-auto cursor-pointer hover:bg-white/90 transition-colors group",onClick:i,title:`Klicken für manuellen Sync${t.lastError?` | Letzter Fehler: ${t.lastError}`:""}`,children:[s.jsx(vv,{className:"h-3 w-3"}),s.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-yellow-500 animate-pulse":t.isConnected?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{children:r?"Synchronisiere...":t.isConnected?"Preisstand-Sync erfolgreich ✓":"Preisstand-Sync fehlgeschlagen ✗"}),!t.isConnected&&t.lastError&&s.jsxs("div",{className:"hidden group-hover:block absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-red-800 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[t.lastError,s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-red-800"})]}),t.autoSyncActive&&s.jsx("span",{className:"text-green-500",children:"●"}),r&&s.jsx(ou,{className:"h-3 w-3 animate-spin text-yellow-500"})]})},Ko=({design:t,width:e,height:r,className:n="w-20 h-20",uploadedSvgContent:i})=>{const[a,l]=v.useState(!1),c=()=>{l(!0)},o=()=>{var u;return console.log("🎨 SVGPreview - Rendering design:",{designId:t.id,designName:t.name,hasSvgContent:!!t.svgContent,hasSvgUrl:!!t.svgUrl,hasUploadedSvg:!!i,svgContentLength:((u=t.svgContent)==null?void 0:u.length)||0,uploadedSvgLength:(i==null?void 0:i.length)||0,className:n}),i?(console.log("✅ Using uploaded SVG for",t.name,"className:",n),s.jsxs("div",{className:`${n} bg-white border-2 border-orange-300 rounded-lg p-1 flex items-center justify-center overflow-hidden flex-shrink-0 shadow-sm cursor-pointer hover:shadow-md transition-shadow group relative`,onClick:c,children:[s.jsx("div",{className:"w-full h-full flex items-center justify-center [&>svg]:max-w-full [&>svg]:max-h-full [&>svg]:w-auto [&>svg]:h-auto [&>svg]:object-contain",style:{maxWidth:"100%",maxHeight:"100%"},dangerouslySetInnerHTML:{__html:i}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx(Ai,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),s.jsx("div",{className:"absolute bottom-1 left-1 bg-orange-500 text-white text-xs px-1 py-0.5 rounded-full font-bold shadow-sm",style:{fontSize:"10px",lineHeight:"12px"},children:"↑"})]})):t.svgContent?(console.log("✅ Using design.svgContent for",t.name,"className:",n),s.jsxs("div",{className:`${n} bg-white border-2 border-gray-200 rounded-lg p-1 flex items-center justify-center overflow-hidden flex-shrink-0 shadow-sm cursor-pointer hover:shadow-md transition-shadow group relative`,onClick:c,children:[s.jsx("div",{className:"w-full h-full flex items-center justify-center [&>svg]:max-w-full [&>svg]:max-h-full [&>svg]:w-auto [&>svg]:h-auto [&>svg]:object-contain",style:{maxWidth:"100%",maxHeight:"100%"},dangerouslySetInnerHTML:{__html:t.svgContent}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx(Ai,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),s.jsx("div",{className:"absolute bottom-1 right-1 bg-green-500 text-white text-xs px-1 py-0.5 rounded-full shadow-sm",style:{fontSize:"10px",lineHeight:"12px"},children:"S"})]})):t.svgUrl?s.jsxs("div",{className:`${n} bg-white border-2 border-gray-200 rounded-lg p-2 flex items-center justify-center overflow-hidden flex-shrink-0 shadow-sm cursor-pointer hover:shadow-md transition-shadow group relative`,onClick:c,children:[s.jsx("object",{data:t.svgUrl,type:"image/svg+xml",className:"max-w-full max-h-full w-auto h-auto",onError:()=>console.warn("Failed to load SVG from URL:",t.svgUrl),children:s.jsx("img",{src:t.mockupUrl,alt:t.name,className:"max-w-full max-h-full object-contain rounded"})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx(Ai,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),s.jsx("div",{className:"absolute top-1 right-1 bg-blue-500 text-white text-xs px-1 py-0.5 rounded-full",children:"SVG"})]}):(console.log("⚠️ Using fallback mockup image for",t.name,"URL:",t.mockupUrl),s.jsxs("div",{className:`${n} bg-white border-2 border-gray-200 rounded-lg p-2 flex items-center justify-center overflow-hidden flex-shrink-0 shadow-sm cursor-pointer hover:shadow-md transition-shadow group relative`,onClick:c,children:[s.jsx("img",{src:t.mockupUrl,alt:t.name,className:"max-w-full max-h-full object-contain rounded",onError:h=>{console.error("❌ Failed to load mockup image:",t.mockupUrl),h.target.style.display="none"}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx(Ai,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-400 bg-gray-100 rounded",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:t.name}),s.jsxs("div",{className:"text-xs",children:[e,"×",r,"cm"]})]})})]}))};return s.jsxs(s.Fragment,{children:[o(),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] w-full overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e,"×",r,"cm"]}),t.svgContent&&s.jsx("p",{className:"text-xs text-green-600 font-medium",children:"✓ SVG aus CRM-Daten"}),t.svgUrl&&!t.svgContent&&s.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"✓ SVG-Datei verlinkt"}),i&&!t.svgContent&&!t.svgUrl&&s.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"✓ Hochgeladenes SVG"}),!t.svgContent&&!t.svgUrl&&!i&&s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"📷 Mockup-Bild"})]}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-colors",children:s.jsx(Wn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 overflow-auto max-h-[calc(90vh-120px)]",children:[s.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-gray-50 rounded-lg relative",children:i?s.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:s.jsx("div",{className:"w-full h-full max-w-[600px] max-h-[450px] min-h-[300px] flex items-center justify-center bg-white rounded border shadow-sm",children:s.jsx("div",{className:"w-full h-full p-6 flex items-center justify-center",style:{minWidth:"300px",minHeight:"200px",maxWidth:"100%",maxHeight:"100%"},children:s.jsx("div",{className:"flex items-center justify-center [&>svg]:w-auto [&>svg]:h-auto [&>svg]:object-contain",style:{width:"300px",height:"200px",maxWidth:"300px",maxHeight:"200px",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:i}})})})}):t.svgContent?s.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:s.jsx("div",{className:"w-full h-full max-w-[600px] max-h-[450px] min-h-[300px] flex items-center justify-center bg-white rounded border shadow-sm",children:s.jsx("div",{className:"w-full h-full p-6 flex items-center justify-center",style:{minWidth:"300px",minHeight:"200px"},children:s.jsx("div",{className:"flex items-center justify-center [&>svg]:w-auto [&>svg]:h-auto [&>svg]:object-contain",style:{width:"400px",height:"300px",maxWidth:"400px",maxHeight:"300px",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:t.svgContent}})})})}):t.svgUrl?s.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:s.jsx("div",{className:"w-full h-full max-w-[800px] max-h-[600px] min-h-[300px] flex items-center justify-center bg-white rounded border shadow-sm",children:s.jsx("object",{data:t.svgUrl,type:"image/svg+xml",className:"w-full h-full",onError:()=>console.warn("Failed to load SVG from URL in modal:",t.svgUrl),children:s.jsx("img",{src:t.mockupUrl,alt:t.name,className:"max-w-full max-h-full object-contain"})})})}):s.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:s.jsx("div",{className:"w-full h-full max-w-[800px] max-h-[600px] min-h-[300px] flex items-center justify-center bg-white rounded border shadow-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:t.mockupUrl,alt:t.name,className:"max-w-full max-h-full object-contain mb-4",onError:u=>{console.error("❌ Failed to load mockup image in modal:",t.mockupUrl),u.target.style.display="none"}}),s.jsxs("div",{className:"text-gray-500",children:[s.jsx("div",{className:"text-lg font-medium",children:t.name}),s.jsx("div",{className:"text-sm",children:"Kein SVG verfügbar"}),s.jsx("div",{className:"text-xs mt-2",children:"Bitte laden Sie ein SVG-Design hoch oder kontaktieren Sie den Support."})]})]})})})}),s.jsx("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-semibold text-gray-800",children:[e,"cm"]}),s.jsx("div",{className:"text-gray-600",children:"Breite"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-semibold text-gray-800",children:[r,"cm"]}),s.jsx("div",{className:"text-gray-600",children:"Höhe"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-800",children:t.elements}),s.jsx("div",{className:"text-gray-600",children:"Elemente"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-semibold text-gray-800",children:[t.ledLength,"m"]}),s.jsx("div",{className:"text-gray-600",children:"LED-Länge"})]})]})})]})]})})]})};var op="basil",Dv=function(e){return e===3?"v3":e},cp="https://js.stripe.com",$v="".concat(cp,"/").concat(op,"/stripe.js"),Ov=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,zv=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Yd="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Uv=function(e){return Ov.test(e)||zv.test(e)},Wv=function(){for(var e=document.querySelectorAll('script[src^="'.concat(cp,'"]')),r=0;r<e.length;r++){var n=e[r];if(Uv(n.src))return n}return null},Xd=function(e){var r="",n=document.createElement("script");n.src="".concat($v).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},Fv=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:r})},ls=null,Ii=null,Mi=null,Bv=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},Hv=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},Vv=function(e){return ls!==null?ls:(ls=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(Yd),window.Stripe){r(window.Stripe);return}try{var i=Wv();if(i&&e)console.warn(Yd);else if(!i)i=Xd(e);else if(i&&Mi!==null&&Ii!==null){var a;i.removeEventListener("load",Mi),i.removeEventListener("error",Ii),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=Xd(e)}Mi=Hv(r,n),Ii=Bv(n),i.addEventListener("load",Mi),i.addEventListener("error",Ii)}catch(l){n(l);return}}),ls.catch(function(r){return ls=null,Promise.reject(r)}))},Kv=function(e,r,n){if(e===null)return null;var i=r[0],a=i.match(/^pk_test/),l=Dv(e.version),c=op;a&&l!==c&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,r);return Fv(o,n),o},os,up=!1,dp=function(){return os||(os=Vv(null).catch(function(e){return os=null,Promise.reject(e)}),os)};Promise.resolve().then(function(){return dp()}).catch(function(t){up||console.warn(t)});var Gv=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];up=!0;var i=Date.now();return dp().then(function(a){return Kv(a,r,i)})},hp={exports:{}},qv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jv=qv,Zv=Jv;function mp(){}function fp(){}fp.resetWarningCache=mp;var Qv=function(){function t(n,i,a,l,c,o){if(o!==Zv){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fp,resetWarningCache:mp};return r.PropTypes=r,r};hp.exports=Qv();var Yv=hp.exports;const me=Eh(Yv);function eh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function th(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eh(Object(r),!0).forEach(function(n){pp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yi(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yi=function(e){return typeof e}:Yi=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(t)}function pp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xv(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function eb(t,e){if(t==null)return{};var r=Xv(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gp(t,e){return tb(t)||rb(t,e)||nb(t,e)||sb()}function tb(t){if(Array.isArray(t))return t}function rb(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],i=!0,a=!1,l,c;try{for(r=r.call(t);!(i=(l=r.next()).done)&&(n.push(l.value),!(e&&n.length===e));i=!0);}catch(o){a=!0,c=o}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw c}}return n}}function nb(t,e){if(t){if(typeof t=="string")return rh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rh(t,e)}}function rh(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ze=function(e,r,n){var i=!!n,a=q.useRef(n);q.useEffect(function(){a.current=n},[n]),q.useEffect(function(){if(!i||!e)return function(){};var l=function(){a.current&&a.current.apply(a,arguments)};return e.on(r,l),function(){e.off(r,l)}},[i,r,e,a])},Go=function(e){var r=q.useRef(e);return q.useEffect(function(){r.current=e},[e]),r.current},Fn=function(e){return e!==null&&Yi(e)==="object"},ib=function(e){return Fn(e)&&typeof e.then=="function"},ab=function(e){return Fn(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},nh="[object Object]",lb=function t(e,r){if(!Fn(e)||!Fn(r))return e===r;var n=Array.isArray(e),i=Array.isArray(r);if(n!==i)return!1;var a=Object.prototype.toString.call(e)===nh,l=Object.prototype.toString.call(r)===nh;if(a!==l)return!1;if(!a&&!n)return e===r;var c=Object.keys(e),o=Object.keys(r);if(c.length!==o.length)return!1;for(var u={},h=0;h<c.length;h+=1)u[c[h]]=!0;for(var m=0;m<o.length;m+=1)u[o[m]]=!0;var d=Object.keys(u);if(d.length!==c.length)return!1;var x=e,b=r,w=function(p){return t(x[p],b[p])};return d.every(w)},xp=function(e,r,n){return Fn(e)?Object.keys(e).reduce(function(i,a){var l=!Fn(r)||!lb(e[a],r[a]);return n.includes(a)?(l&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):l?th(th({},i||{}),{},pp({},a,e[a])):i},null):null},yp="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",sh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yp;if(e===null||ab(e))return e;throw new Error(r)},ob=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yp;if(ib(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return sh(i,r)})};var n=sh(e,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},cb=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.1"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.1",url:"https://stripe.com/docs/stripe-js/react"}))},Ya=q.createContext(null);Ya.displayName="ElementsContext";var vp=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},bp=function(e){var r=e.stripe,n=e.options,i=e.children,a=q.useMemo(function(){return ob(r)},[r]),l=q.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),c=gp(l,2),o=c[0],u=c[1];q.useEffect(function(){var d=!0,x=function(w){u(function(y){return y.stripe?y:{stripe:w,elements:w.elements(n)}})};return a.tag==="async"&&!o.stripe?a.stripePromise.then(function(b){b&&d&&x(b)}):a.tag==="sync"&&!o.stripe&&x(a.stripe),function(){d=!1}},[a,o,n]);var h=Go(r);q.useEffect(function(){h!==null&&h!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,r]);var m=Go(n);return q.useEffect(function(){if(o.elements){var d=xp(n,m,["clientSecret","fonts"]);d&&o.elements.update(d)}},[n,m,o.elements]),q.useEffect(function(){cb(o.stripe)},[o.stripe]),q.createElement(Ya.Provider,{value:o},i)};bp.propTypes={stripe:me.any,options:me.object};var ub=function(e){var r=q.useContext(Ya);return vp(r,e)},db=function(){var e=ub("calls useElements()"),r=e.elements;return r};me.func.isRequired;var wp=q.createContext(null);wp.displayName="CheckoutSdkContext";var hb=function(e,r){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return e},mb=q.createContext(null);mb.displayName="CheckoutContext";me.any,me.shape({fetchClientSecret:me.func.isRequired,elementsOptions:me.object}).isRequired;var qo=function(e){var r=q.useContext(wp),n=q.useContext(Ya);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r?hb(r,e):vp(n,e)},fb=["mode"],pb=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ve=function(e,r){var n="".concat(pb(e),"Element"),i=function(o){var u=o.id,h=o.className,m=o.options,d=m===void 0?{}:m,x=o.onBlur,b=o.onFocus,w=o.onReady,y=o.onChange,p=o.onEscape,f=o.onClick,g=o.onLoadError,j=o.onLoaderStart,N=o.onNetworksChange,P=o.onConfirm,C=o.onCancel,I=o.onShippingAddressChange,D=o.onShippingRateChange,O=qo("mounts <".concat(n,">")),J="elements"in O?O.elements:null,V="checkoutSdk"in O?O.checkoutSdk:null,G=q.useState(null),se=gp(G,2),Z=se[0],re=se[1],k=q.useRef(null),E=q.useRef(null);Ze(Z,"blur",x),Ze(Z,"focus",b),Ze(Z,"escape",p),Ze(Z,"click",f),Ze(Z,"loaderror",g),Ze(Z,"loaderstart",j),Ze(Z,"networkschange",N),Ze(Z,"confirm",P),Ze(Z,"cancel",C),Ze(Z,"shippingaddresschange",I),Ze(Z,"shippingratechange",D),Ze(Z,"change",y);var R;w&&(e==="expressCheckout"?R=w:R=function(){w(Z)}),Ze(Z,"ready",R),q.useLayoutEffect(function(){if(k.current===null&&E.current!==null&&(J||V)){var T=null;if(V)switch(e){case"payment":T=V.createPaymentElement(d);break;case"address":if("mode"in d){var S=d.mode,ce=eb(d,fb);if(S==="shipping")T=V.createShippingAddressElement(ce);else if(S==="billing")T=V.createBillingAddressElement(ce);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":T=V.createExpressCheckoutElement(d);break;case"currencySelector":T=V.createCurrencySelectorElement();break;case"taxId":T=V.createTaxIdElement(d);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else J&&(T=J.create(e,d));k.current=T,re(T),T&&T.mount(E.current)}},[J,V,d]);var $=Go(d);return q.useEffect(function(){if(k.current){var T=xp(d,$,["paymentRequest"]);T&&"update"in k.current&&k.current.update(T)}},[d,$]),q.useLayoutEffect(function(){return function(){if(k.current&&typeof k.current.destroy=="function")try{k.current.destroy(),k.current=null}catch{}}},[]),q.createElement("div",{id:u,className:h,ref:E})},a=function(o){qo("mounts <".concat(n,">"));var u=o.id,h=o.className;return q.createElement("div",{id:u,className:h})},l=r?a:i;return l.propTypes={id:me.string,className:me.string,onChange:me.func,onBlur:me.func,onFocus:me.func,onReady:me.func,onEscape:me.func,onClick:me.func,onLoadError:me.func,onLoaderStart:me.func,onNetworksChange:me.func,onConfirm:me.func,onCancel:me.func,onShippingAddressChange:me.func,onShippingRateChange:me.func,options:me.object},l.displayName=n,l.__elementType=e,l},be=typeof window>"u",gb=q.createContext(null);gb.displayName="EmbeddedCheckoutProviderContext";var xb=function(){var e=qo("calls useStripe()"),r=e.stripe;return r};ve("auBankAccount",be);var ih=ve("card",be);ve("cardNumber",be);ve("cardExpiry",be);ve("cardCvc",be);ve("fpxBank",be);ve("iban",be);ve("idealBank",be);ve("p24Bank",be);ve("epsBank",be);ve("payment",be);ve("expressCheckout",be);ve("currencySelector",be);ve("paymentRequestButton",be);ve("linkAuthentication",be);ve("address",be);ve("shippingAddress",be);ve("paymentMethodMessaging",be);ve("affirmMessage",be);ve("afterpayClearpayMessage",be);ve("taxId",be);const yb=Gv("pk_test_51QeGIl2LCcXvM9meqN8dH2L0F9D7EqQ8s8M5Y5xJ2aW3hT9vP1K6E0sG7L4yR9z3S2J8Q6F5W1eV8A4M5N2Z3X7Y000000"),uu=({children:t})=>s.jsx(bp,{stripe:yb,children:t});const vb=()=>!0,bb={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},padding:"10px 12px"},invalid:{color:"#9e2146"}},hidePostalCode:!1},du=({amount:t,onSuccess:e,onError:r,customerEmail:n=""})=>{const i=xb(),a=db(),[l,c]=v.useState(!1),[o,u]=v.useState(!1),[h,m]=v.useState(n),[d,x]=v.useState({name:"",address:{line1:"",city:"",postal_code:"",country:"DE"}}),b=async w=>{if(w.preventDefault(),!i||!a)return;c(!0);const y=a.getElement(ih);if(!y){r("Karteninformationen sind erforderlich"),c(!1);return}try{const{error:p,paymentMethod:f}=await i.createPaymentMethod({type:"card",card:y,billing_details:{name:d.name,email:h,address:d.address}});if(p)throw new Error(p.message);if(vb()){const j=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t,currency:"eur",payment_method_id:f.id,customer_email:h,billing_details:d})}),{client_secret:N}=await j.json(),{error:P,paymentIntent:C}=await i.confirmCardPayment(N);if(P)throw new Error(P.message);u(!0),e(C)}}catch(p){r(p.message||"Ein Fehler ist aufgetreten")}finally{c(!1)}};return o?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(av,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Zahlung erfolgreich!"}),s.jsx("p",{className:"text-gray-600",children:"Ihre Bestellung wird bearbeitet."})]}):s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail-Adresse"}),s.jsx("input",{type:"email",id:"email",value:h,onChange:w=>m(w.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ihre-email@beispiel.de"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Vollständiger Name"}),s.jsx("input",{type:"text",id:"name",value:d.name,onChange:w=>x(y=>({...y,name:w.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Max Mustermann"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Straße und Hausnummer"}),s.jsx("input",{type:"text",id:"address",value:d.address.line1,onChange:w=>x(y=>({...y,address:{...y.address,line1:w.target.value}})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Musterstraße 123"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"Stadt"}),s.jsx("input",{type:"text",id:"city",value:d.address.city,onChange:w=>x(y=>({...y,address:{...y.address,city:w.target.value}})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Berlin"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"postal",className:"block text-sm font-medium text-gray-700 mb-2",children:"Postleitzahl"}),s.jsx("input",{type:"text",id:"postal",value:d.address.postal_code,onChange:w=>x(y=>({...y,address:{...y.address,postal_code:w.target.value}})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10115"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx($t,{className:"inline h-4 w-4 mr-1"}),"Kartendaten"]}),s.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:s.jsx(ih,{options:bb})})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-md",children:[s.jsx(_a,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:"Ihre Zahlungsinformationen werden sicher verschlüsselt übertragen."})]}),s.jsx("button",{type:"submit",disabled:!i||l,className:`w-full py-3 px-4 rounded-md font-medium transition-colors ${l?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:l?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),s.jsx("span",{children:"Verarbeitung..."})]}):`€${(t/100).toFixed(2)} bezahlen`})]})},wb=({config:t,onConfigChange:e,onShippingChange:r,onSignToggle:n,onRemoveSign:i,onBackToDesign:a})=>{var E,R,$;const[l,c]=v.useState(!1),[o,u]=v.useState(""),[h,m]=v.useState(!1),[d,x]=v.useState(!1),[b,w]=v.useState(!1),y=Pa(t.selectedDesign,t.customWidth,t.calculatedHeight,t.isWaterproof,t.isTwoPart||!1,t.hasUvPrint,t.hasHangingSystem||!1,t.expressProduction||!1),p=((E=t.signs)==null?void 0:E.map(T=>({...T,price:Pa(T.design,T.width,T.height,T.isWaterproof,T.isTwoPart,T.hasUvPrint,T.hasHangingSystem||!1,T.expressProduction||!1)})))||[],f=((R=t.signs)==null?void 0:R.some(T=>T.design.id===t.selectedDesign.id))||!1,g=p.filter(T=>T.isEnabled).reduce((T,S)=>T+S.price,0)+(f?0:y),j=Math.max(t.customWidth,t.calculatedHeight),N=t.customerPostalCode?Ye("67433",t.customerPostalCode):{distance:0,cityName:""},P=_s(j,N.distance||void 0),C=(($=t.selectedShipping)==null?void 0:$.type)==="pickup"||t.includesInstallation?0:P.cost;let I=0;if(t.includesInstallation&&t.customerPostalCode&&/^\d{5}$/.test(t.customerPostalCode)){const T=Qa(t.customWidth,t.calculatedHeight);I=De.calculateInstallationCost(T,t.customerPostalCode)}const O=I+C+0,J=g+O,V=J*.19,G=J+V,se=()=>{o&&/^\d{5}$/.test(o)&&(e({customerPostalCode:o}),u(""),c(!1))},Z=T=>{console.log("Payment successful:",T),window.location.href=`/success?payment_intent=${T.id}`},re=T=>{console.error("Payment error:",T),alert(`Zahlungsfehler: ${T}`),m(!1)},k=async()=>{w(!0)};return q.useEffect(()=>{!t.selectedShipping&&!t.includesInstallation&&r({type:"pickup",name:"Selbstabholung",price:0,description:"Kostenlose Abholung in 67433 Neustadt"})},[]),s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-blue-600 rounded-lg p-2",children:s.jsx(Tn,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Warenkorb & Versand"}),s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[p.filter(T=>T.isEnabled).length+(f?0:1)," Artikel"]})]}),s.jsxs("button",{onClick:a,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(xv,{className:"h-4 w-4"}),s.jsx("span",{children:"Design anpassen"})]})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Ihre Neon-Schilder"}),p.length===0&&!f?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Tn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"Warenkorb ist leer"}),s.jsx("p",{className:"text-gray-400",children:"Fügen Sie Designs zu Ihrem Warenkorb hinzu"})]}):s.jsxs("div",{className:"space-y-4",children:[!f&&s.jsx("div",{className:"border border-green-200 bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(Ko,{design:t.selectedDesign,width:t.customWidth,height:t.calculatedHeight,className:"w-20 h-20"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:t.selectedDesign.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Aktuelles Design • ",t.customWidth,"×",t.calculatedHeight,"cm"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:["€",y.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:"pro Stück"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[t.isWaterproof&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Wasserdicht (IP65)"}),t.isTwoPart&&s.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:"Mehrteilig"}),t.hasUvPrint&&s.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:"UV-Druck"})]})]})]})}),p.map((T,S)=>s.jsx("div",{className:`border rounded-lg p-4 transition-all duration-300 ${T.isEnabled?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50 opacity-75"}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(Ko,{design:T.design,width:T.width,height:T.height,className:"w-20 h-20"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:T.design.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Design ",S+1," • ",T.width,"×",T.height,"cm"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:["€",T.price.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:"pro Stück"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[T.isWaterproof&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Wasserdicht (IP65)"}),T.isTwoPart&&s.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:"Mehrteilig"}),T.hasUvPrint&&s.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:"UV-Druck"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>n(T.id,!T.isEnabled),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-300 ${T.isEnabled?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:T.isEnabled?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"h-4 w-4"}),s.jsx("span",{children:"Aktiv"})]}):s.jsxs(s.Fragment,{children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx("span",{children:"Inaktiv"})]})})}),s.jsxs("button",{onClick:()=>i(T.id),className:"flex items-center space-x-1 px-3 py-1.5 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-all duration-300 text-sm font-medium",children:[s.jsx(Wn,{className:"h-4 w-4"}),s.jsx("span",{children:"Entfernen"})]})]})]})]})},T.id))]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Versandoptionen"}),s.jsxs("div",{className:`flex items-center space-x-3 p-4 border-2 rounded-lg transition-all duration-300 cursor-pointer mb-4 ${t.includesInstallation?"border-gray-200 bg-gray-100 cursor-not-allowed opacity-50":t.selectedShipping&&t.selectedShipping.type==="pickup"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>{t.includesInstallation||(t.selectedShipping&&t.selectedShipping.type==="pickup"?r(null):r({type:"pickup",name:"Selbstabholung",price:0,description:"Kostenlose Abholung in 67433 Neustadt"}))},children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${t.includesInstallation?"border-gray-300 bg-gray-200":t.selectedShipping&&t.selectedShipping.type==="pickup"?"border-green-600 bg-green-600":"border-gray-400 bg-white"}`,children:!t.includesInstallation&&t.selectedShipping&&t.selectedShipping.type==="pickup"&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),s.jsx("div",{className:`p-2 rounded-lg ${t.includesInstallation?"bg-gray-200 text-gray-400":t.selectedShipping&&t.selectedShipping.type==="pickup"?"bg-green-500 text-white":"bg-gray-100 text-gray-600"}`,children:s.jsx(Js,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Selbstabholung (Empfohlen)"}),s.jsx("span",{className:"font-bold text-green-600",children:"Kostenlos"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Kostenlose Abholung in 67433 Neustadt"})]})]}),j>=240&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Za,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-blue-800",children:"Versand verfügbar"})]}),P.requiresPostalCode&&!t.customerPostalCode?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-blue-700 text-sm mb-3",children:["Längste Seite: ",j,"cm → Postleitzahl eingeben für Kostenberechnung"]}),s.jsx("button",{onClick:()=>c(!0),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Postleitzahl eingeben"})]}):s.jsxs("div",{className:"text-sm text-blue-700",children:[s.jsxs("p",{className:"mb-1",children:[P.method,": €",P.cost]}),s.jsxs("p",{children:["Längste Seite: ",j,"cm → ",P.description]}),t.customerPostalCode&&s.jsxs("p",{className:"mt-2 font-medium",children:["Lieferung nach ",N.cityName," (",t.customerPostalCode,") - ",N.distance," km"]})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Bestellübersicht"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsxs("span",{children:["Schilder (",p.filter(T=>T.isEnabled).length+(f?0:1),"):"]}),s.jsxs("span",{className:"font-semibold",children:["€",g.toFixed(2)]})]}),O>0&&s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{children:"Zusatzkosten:"}),s.jsxs("span",{className:"font-semibold",children:["€",O.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-700 border-t pt-3",children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{className:"font-semibold",children:["€",J.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{children:"MwSt. (19%):"}),s.jsxs("span",{className:"font-semibold",children:["€",V.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800 border-t pt-3",children:[s.jsx("span",{children:"Gesamtpreis:"}),s.jsxs("span",{className:"text-green-600",children:["€",G.toFixed(2)]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Checkbox-Bestätigung im Bestellprozess"}),s.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:d,onChange:T=>x(T.target.checked),className:"w-5 h-5 text-green-600 focus:ring-green-500 rounded mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-800 leading-relaxed",children:s.jsx("strong",{children:"☑ Ich habe das Mock-up geprüft und bestätige, dass es meinen Vorgaben entspricht. Nach meiner Bestellung sind keine Änderungen oder ein Widerruf möglich."})})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-2 ml-8",children:"Ohne diese Bestätigung ist eine Auftragserteilung nicht möglich."})]}),s.jsxs("button",{onClick:k,disabled:h||!d,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s.jsx($t,{className:"h-5 w-5"}),s.jsx("span",{children:h?"Wird verarbeitet...":d?`Jetzt bezahlen - €${G.toFixed(2)}`:"Bestätigung erforderlich"})]}),s.jsxs("button",{disabled:!d,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 rounded-lg transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(lu,{className:"h-5 w-5"}),s.jsx("span",{children:d?"Per Rechnung bestellen":"Bestätigung erforderlich"})]})]}),s.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-3 border",children:[s.jsx("div",{className:"flex items-center justify-center space-x-2 mb-2",children:s.jsx("span",{className:"text-xs text-gray-600",children:"Sichere Zahlung:"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 flex-wrap gap-1",children:[s.jsx("div",{className:"bg-white rounded px-2 py-1 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 bg-blue-600 rounded-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"V"})})}),s.jsx("div",{className:"bg-white rounded px-2 py-1 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 flex items-center justify-center",children:s.jsxs("div",{className:"flex space-x-0.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full -ml-0.5"})]})})}),s.jsx("div",{className:"bg-white rounded px-2 py-1 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 flex items-center justify-center",children:s.jsxs("div",{className:"flex space-x-0.5",children:[s.jsx("div",{className:"w-1 h-2 bg-blue-600 rounded-full"}),s.jsx("div",{className:"w-1 h-2 bg-blue-400 rounded-full"})]})})}),s.jsx("div",{className:"bg-white rounded px-2 py-1 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 bg-green-600 rounded-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"€"})})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Powered by Stripe • 14 Tage Widerrufsrecht • Käuferschutz"})]})})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Zahlung abschließen"})]}),s.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Wn,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Bestellübersicht"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Artikel (",p.filter(T=>T.isEnabled).length+(f?0:1),")"]}),s.jsxs("span",{children:["€",g.toFixed(2)]})]}),C>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Versand"}),s.jsxs("span",{children:["€",C.toFixed(2)]})]}),I>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Installation"}),s.jsxs("span",{children:["€",I.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"MwSt. (19%)"}),s.jsxs("span",{children:["€",V.toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-1 mt-2 flex justify-between font-bold",children:[s.jsx("span",{children:"Gesamtpreis"}),s.jsxs("span",{children:["€",G.toFixed(2)]})]})]})]}),s.jsx(uu,{children:s.jsx(du,{amount:Math.round(G*100),onSuccess:Z,onError:re,customerEmail:""})})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Cn,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Postleitzahl eingeben"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Geben Sie Ihre Postleitzahl ein, um die Versandkosten zu berechnen."}),s.jsx("input",{type:"text",placeholder:"z.B. 10115",value:o,onChange:T=>u(T.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-lg mb-4",maxLength:5,onKeyPress:T=>{T.key==="Enter"&&se()}}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:se,disabled:!o||!/^\d{5}$/.test(o),className:"flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Berechnen"}),s.jsx("button",{onClick:()=>{c(!1),u("")},className:"flex-1 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Abbrechen"})]})]})})]})},jb=()=>{const[t,e]=v.useState(""),[r,n]=v.useState(""),[i,a]=v.useState(!1),[l,c]=v.useState(!1),[o,u]=v.useState(null),h=useNavigate(),[m,d]=v.useState(null);useEffect(()=>{(async()=>{try{const w=await Ot(()=>Promise.resolve().then(()=>ci),[]);d(w.supabase)}catch{console.warn("Supabase not available, running in demo mode")}})()},[]);const x=async b=>{if(b.preventDefault(),c(!0),u(null),!m){u({type:"error",text:"Demo mode - authentication disabled"}),c(!1);return}try{const{error:w}=await m.auth.signInWithPassword({email:t,password:r});w?u({type:"error",text:w.message}):(u({type:"success",text:"Login successful! Redirecting..."}),setTimeout(()=>h("/"),1e3))}catch{u({type:"error",text:"An unexpected error occurred"})}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-full p-3 w-16 h-16 mx-auto mb-4",children:s.jsx(fv,{className:"h-10 w-10 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),o&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.text}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",value:t,onChange:b=>e(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:i?"text":"password",value:r,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(zn,{className:"h-5 w-5"}):s.jsx(Sr,{className:"h-5 w-5"})})]})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?"Signing In...":"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx(Link,{to:"/signup",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign up"})]})})]})})})},Nb=()=>{const[t,e]=v.useState(""),[r,n]=v.useState(""),[i,a]=v.useState(""),[l,c]=v.useState(!1),[o,u]=v.useState(!1),[h,m]=v.useState(!1),[d,x]=v.useState(null),b=useNavigate(),[w,y]=v.useState(null);useEffect(()=>{(async()=>{try{const g=await Ot(()=>Promise.resolve().then(()=>ci),void 0);y(g.supabase)}catch{console.warn("Supabase not available, running in demo mode")}})()},[]);const p=async f=>{if(f.preventDefault(),m(!0),x(null),!w){x({type:"error",text:"Demo mode - authentication disabled"}),m(!1);return}if(r!==i){x({type:"error",text:"Passwords do not match"}),m(!1);return}if(r.length<6){x({type:"error",text:"Password must be at least 6 characters long"}),m(!1);return}try{const{error:g}=await w.auth.signUp({email:t,password:r,options:{emailRedirectTo:void 0}});g?x({type:"error",text:g.message}):(x({type:"success",text:"Account created successfully! Redirecting..."}),setTimeout(()=>b("/"),1e3))}catch{x({type:"error",text:"An unexpected error occurred"})}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-full p-3 w-16 h-16 mx-auto mb-4",children:s.jsx(wv,{className:"h-10 w-10 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Create Account"}),s.jsx("p",{className:"text-gray-600",children:"Join us today"})]}),d&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:d.text}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:l?"text":"password",value:r,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?s.jsx(zn,{className:"h-5 w-5"}):s.jsx(Sr,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:o?"text":"password",value:i,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password",required:!0}),s.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(zn,{className:"h-5 w-5"}):s.jsx(Sr,{className:"h-5 w-5"})})]})]}),s.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold py-3 rounded-lg hover:from-green-700 hover:to-blue-700 transition duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?"Creating Account...":"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx(Link,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign in"})]})})]})})})},ah=[{id:"prod_RXKzKmtQDriYJf",priceId:"price_1QeGJd2LCcXvM9me52rlA2op",name:"Test 1",description:"Test Beschreibung",mode:"payment"}],kb=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(null),[i,a]=v.useState(null),l=useNavigate(),[c,o]=v.useState(null);v.useEffect(()=>{(async()=>{try{const x=await Ot(()=>Promise.resolve().then(()=>ci),void 0);o(x.supabase)}catch{console.warn("Supabase not available, running in demo mode")}})()},[]),v.useEffect(()=>{if(!c)return;(async()=>{const{data:{user:b}}=await c.auth.getUser();if(n(b),b){const{data:w}=await c.from("stripe_user_subscriptions").select("*").maybeSingle();a(w)}})();const{data:{subscription:x}}=c.auth.onAuthStateChange((b,w)=>{n((w==null?void 0:w.user)||null),w!=null&&w.user||a(null)});return()=>x.unsubscribe()},[c]);const u=async d=>{if(!r){l("/login");return}e(d.id);try{const x="https://igffjtzypcgfbytxtgnq.supabase.co";if(x&&x!==""){const{data:{session:b}}=await c.auth.getSession();if(!b){l("/login");return}const y=await(await fetch(`${x}/functions/v1/stripe-checkout`,{method:"POST",headers:{Authorization:`Bearer ${b.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({price_id:d.priceId,success_url:`${window.location.origin}/success`,cancel_url:`${window.location.origin}/products`,mode:d.mode})})).json();if(y.error)throw new Error(y.error);window.location.href=y.url}}catch(x){console.error("Purchase error:",x),alert(`Kauf-Fehler: ${x.message||"Bitte versuchen Sie es erneut."}`)}finally{e(null)}},h=async()=>{await c.auth.signOut(),l("/login")},m=d=>{if(!d)return null;const x=ah.find(b=>b.priceId===d);return(x==null?void 0:x.name)||"Unknown Plan"};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-2",children:s.jsx(Zs,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Products"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Un,{className:"h-4 w-4"}),s.jsx("span",{children:r.email})]}),i&&i.subscription_status==="active"&&s.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:m(i.price_id)}),s.jsxs("button",{onClick:h,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[s.jsx(pv,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]}),!r&&s.jsx("button",{onClick:()=>l("/login"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Login"})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Choose Your Plan"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Select the perfect product for your needs"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:ah.map(d=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full transform translate-x-16 -translate-y-16"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-3",children:s.jsx(Tn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:d.name}),s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${d.mode==="subscription"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:d.mode==="subscription"?"Subscription":"One-time"})]})]}),s.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:d.description}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:["€1.00",d.mode==="subscription"&&s.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]})}),s.jsx("button",{onClick:()=>u(d),disabled:t===d.id,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:t===d.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-5 w-5"}),s.jsx("span",{children:d.mode==="subscription"?"Subscribe Now":"Buy Now"})]})})]})]},d.id))}),!r&&s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-full p-3 w-16 h-16 mx-auto mb-4",children:s.jsx(Un,{className:"h-10 w-10 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Ready to get started?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Create an account or sign in to purchase products"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>l("/signup"),className:"flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold py-3 rounded-lg hover:from-green-700 hover:to-blue-700 transition duration-300",children:"Sign Up"}),s.jsx("button",{onClick:()=>l("/login"),className:"flex-1 bg-gray-600 text-white font-semibold py-3 rounded-lg hover:bg-gray-700 transition duration-300",children:"Login"})]})]})})]})]})},Sb=()=>{const[t]=useSearchParams(),e=useNavigate(),[r,n]=v.useState(!0);v.useState(null);const[i,a]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{(async()=>{try{const h=await Ot(()=>Promise.resolve().then(()=>ci),void 0);c(h.supabase)}catch{console.warn("Supabase not available, running in demo mode")}})()},[]),v.useEffect(()=>{const u=t.get("session_id"),h=t.get("demo");a(h==="true"),u?o():n(!1)},[t]);const o=async u=>{try{n(!1)}catch(h){console.error("Error fetching order details:",h),n(!1)}};return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your order details..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-full p-4 w-20 h-20 mx-auto mb-6",children:s.jsx(On,{className:"h-12 w-12 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:i?"Demo Bestellung Erfolgreich!":"Zahlung Erfolgreich!"}),s.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:i?"Dies war eine Demo-Bestellung. In der echten Version würden Sie jetzt eine Bestätigungs-E-Mail erhalten.":"Vielen Dank für Ihren Kauf. Ihre Zahlung wurde erfolgreich verarbeitet und Sie erhalten in Kürze eine Bestätigungs-E-Mail."}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsx(Zs,{className:"h-5 w-5 text-gray-600"}),s.jsx("h3",{className:"font-semibold text-gray-800",children:i?"Demo Bestätigung":"Bestellbestätigung"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:i?"In der echten Version würde Ihre Bestellung jetzt bearbeitet werden.":"Ihre Bestellung wird bearbeitet und Sie erhalten Updates per E-Mail."}),i&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"🎯 Demo-Modus: Verbinden Sie Supabase für echte Zahlungen"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>e("/"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition duration-300 transform hover:scale-105 flex items-center justify-center space-x-2",children:[s.jsx(Edit3,{className:"h-5 w-5"}),s.jsx("span",{children:"Neues Design konfigurieren"})]}),s.jsxs("button",{onClick:()=>e("/products"),className:"w-full bg-gray-600 text-white font-semibold py-3 rounded-lg hover:bg-gray-700 transition duration-300 flex items-center justify-center space-x-2",children:[s.jsx(Zs,{className:"h-5 w-5"}),s.jsx("span",{children:"Produkte ansehen"})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Bei Fragen zu Ihrer Bestellung kontaktieren Sie bitte unser Support-Team."})})]})})})},_b=()=>{const t=r=>{console.log("Payment successful:",r),alert(`Zahlung erfolgreich! PaymentIntent ID: ${r.id}`)},e=r=>{console.error("Payment error:",r),alert(`Zahlungsfehler: ${r}`)};return s.jsx("div",{className:"min-h-screen bg-gray-100 py-12",children:s.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Stripe Test"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Test-Kreditkarten:"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Visa:"})," 4242 4242 4242 4242"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Visa (Debit):"})," 4000 0566 5566 5556"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mastercard:"})," 5555 5555 5555 4444"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ablaufdatum:"})," Beliebige Zukunft (z.B. 12/25)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CVC:"})," Beliebige 3 Ziffern (z.B. 123)"]})]})]}),s.jsx(uu,{children:s.jsx(du,{amount:2500,onSuccess:t,onError:e,customerEmail:"test@example.com"})})]})})},Pb=()=>{const t=zt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[s.jsx(Xr,{className:"h-5 w-5"}),s.jsx("span",{children:"Zurück"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-2",children:s.jsx(lu,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Widerrufsrecht"})]}),s.jsx("div",{className:"w-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Widerrufsrecht für Unternehmer"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-blue-800 text-sm",children:[s.jsx("strong",{children:"Wichtiger Hinweis:"})," Diese Widerrufsbelehrung richtet sich ausschließlich an Geschäftskunden (B2B). Bitte lassen Sie diese rechtlich prüfen, bevor Sie sie verwenden."]})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Widerrufsbelehrung"}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Kein gesetzliches Widerrufsrecht für Unternehmer"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Nach geltendem Recht (§ 312g Abs. 2 Nr. 1 BGB i. V. m. § 355 BGB) steht Unternehmern kein Widerrufsrecht zu. Das Widerrufsrecht gilt ausschließlich für Verbraucher im Sinne des § 13 BGB. Da unsere Verträge ausschließlich mit Geschäftskunden geschlossen werden, besteht kein gesetzlicher Anspruch auf Widerruf."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Ausschluss des Widerrufsrechts bei individuellen Anfertigungen"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Unsere LED-Neon-Schilder werden grundsätzlich individuell nach Kundenspezifikationen gefertigt. Dazu zählen insbesondere:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:[s.jsx("li",{children:"Anfertigung nach Logo, Schriftzug oder sonstigen grafischen Vorlagen"}),s.jsx("li",{children:"Maßanfertigungen nach individuellen Größenangaben"}),s.jsx("li",{children:"Wahl spezieller Neonfarben, Materialien oder Montagearten"}),s.jsx("li",{children:"Kombination mehrerer Sonderoptionen (z. B. wasserdicht, Expressproduktion, spezielle Befestigungssysteme)"})]}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Gemäß § 312g Abs. 2 Nr. 1 BGB ist das Widerrufsrecht ausgeschlossen bei Waren, die nicht vorgefertigt sind und für deren Herstellung eine individuelle Auswahl oder Bestimmung durch den Kunden maßgeblich ist oder die eindeutig auf persönliche Bedürfnisse zugeschnitten sind. Dieser Ausschluss gilt auch dann, wenn der Kunde Unternehmer ist – in diesem Fall besteht ohnehin kein gesetzlicher Anspruch."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Verbindliche Designfreigabe (Mock-up)"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:'Vor Produktionsbeginn erhalten Sie von uns einen verbindlichen Designentwurf („Mock-up") zur Freigabe. Die Produktion beginnt erst nach Ihrer ausdrücklichen Freigabe. Mit dieser Freigabe bestätigen Sie, dass:'}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:[s.jsx("li",{children:"Sie das Design vollständig geprüft haben"}),s.jsx("li",{children:"alle Maße, Farben, Inhalte und Positionierungen korrekt sind"}),s.jsx("li",{children:"nach Produktionsfreigabe keine Änderungen, Stornierungen oder ein Widerruf möglich sind"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Folgen der Freigabe"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Mit Ihrer Designfreigabe wird der Vertrag verbindlich und bindend. Eine nachträgliche Änderung des Designs ist nur im Rahmen einer gesonderten Kulanzprüfung möglich und kann zusätzliche Kosten verursachen. Eine Rücknahme der individuell gefertigten Ware ist ausgeschlossen."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Muster-Widerrufsformular (nur zu Informationszwecken)"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Da Sie als Unternehmer kein Widerrufsrecht haben, ist dieses Musterformular für Ihre Bestellungen nicht anwendbar. Es wird hier lediglich zu Transparenzzwecken bereitgestellt:"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsxs("p",{className:"text-gray-600 mb-2",children:[s.jsx("strong",{children:"An:"})," Nontel, Michael Wagner, Hermann-Wehrle-Str. 10, 67433 Neustadt an der Weinstraße,",s.jsx("br",{}),"E-Mail: info@nontel.de"]}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Hiermit widerrufe(n) ich/wir (*) den von mir/uns (*) abgeschlossenen Vertrag über den Kauf der folgenden Waren (*) / die Erbringung der folgenden Dienstleistung (*)"}),s.jsxs("div",{className:"space-y-2 text-gray-600",children:[s.jsx("p",{children:"- Bestellt am (*) / erhalten am (*)"}),s.jsx("p",{children:"- Name des/der Besteller(s)"}),s.jsx("p",{children:"- Firma / Unternehmensname"}),s.jsx("p",{children:"- Anschrift des/der Besteller(s)"}),s.jsx("p",{children:"- Unterschrift (nur bei Mitteilung auf Papier)"}),s.jsx("p",{children:"- Datum"})]}),s.jsx("p",{className:"text-gray-600 text-sm mt-2 italic",children:"(*) Unzutreffendes streichen."})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Checkbox-Bestätigung im Bestellprozess"}),s.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed",children:"Vor Abschluss jeder Bestellung muss aktiv bestätigt werden:"}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 rounded mt-0.5 flex items-center justify-center",children:s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"})}),s.jsx("p",{className:"text-gray-800 font-medium",children:"Ich habe das Mock-up geprüft und bestätige, dass es meinen Vorgaben entspricht. Nach meiner Bestellung sind keine Änderungen oder ein Widerruf möglich."})]})}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Ohne diese Bestätigung ist eine Auftragserteilung nicht möglich."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Stand dieser Widerrufsbelehrung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"August 2025 – Wir behalten uns vor, diese Widerrufsbelehrung jederzeit anzupassen, um sie an aktuelle gesetzliche Vorgaben oder interne Abläufe anzupassen."})]})})]})})},Eb=()=>{const t=zt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[s.jsx(Xr,{className:"h-5 w-5"}),s.jsx("span",{children:"Zurück"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-2",children:s.jsx(ai,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Datenschutzerklärung (B2B)"})]}),s.jsx("div",{className:"w-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Datenschutzerklärung"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"1. Grundsätzliche Hinweise"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:'Soweit nachstehend keine anderen Angaben gemacht werden, ist die Bereitstellung Ihrer personenbezogenen Daten weder gesetzlich noch vertraglich vorgeschrieben, noch für einen Vertragsabschluss zwingend erforderlich. Sie sind zur Bereitstellung der Daten nicht verpflichtet. Eine Nichtbereitstellung kann jedoch dazu führen, dass wir Ihren Auftrag nicht ausführen können. "Personenbezogene Daten" sind alle Informationen, die sich auf eine identifizierte oder identifizierbare natürliche Person beziehen. Im B2B-Bereich verarbeiten wir zudem häufig Unternehmensdaten (z. B. Firmenname, USt-ID, Ansprechpartner).'}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"2. Verantwortlicher"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-gray-700 font-medium",children:"Nontel"}),s.jsx("p",{className:"text-gray-600",children:"Inhaber: Michael Wagner"}),s.jsx("p",{className:"text-gray-600",children:"Hermann-Wehrle-Straße 10"}),s.jsx("p",{className:"text-gray-600",children:"67433 Neustadt an der Weinstraße"}),s.jsx("p",{className:"text-gray-600",children:"📞 +49 163 1661464"}),s.jsx("p",{className:"text-gray-600",children:"📧 info@nontel.de"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"3. Server-Logfiles"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Beim Aufrufen unserer Website werden automatisch folgende Daten erfasst und in sog. Server-Logfiles gespeichert: aufgerufene Seite/Datei, Datum und Uhrzeit des Zugriffs, IP-Adresse, übertragene Datenmenge, verwendeter Browser, anfragender Provider. Rechtsgrundlage: Art. 6 Abs. 1 lit. f DSGVO (berechtigtes Interesse an stabiler und sicherer Funktion unserer Website)."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"4. Kontaktaufnahme"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Wenn Sie uns per E-Mail oder über das Kontaktformular kontaktieren, verarbeiten wir Ihre Kontaktdaten ausschließlich zur Bearbeitung Ihrer Anfrage, Angebotserstellung oder Vertragsabwicklung."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"5. Verarbeitung bei Datei-Upload"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Für die Herstellung individueller Schilder stellen wir Ihnen einen gesicherten Datei-Upload (Google Drive, Monday.com) zur Verfügung. Hochgeladene Dateien werden ausschließlich zur Auftragsabwicklung und Designproduktion verwendet. Rechtsgrundlage: Art. 6 Abs. 1 lit. b DSGVO."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"6. WhatsApp Business"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Wir nutzen WhatsApp Business zur schnellen Kommunikation mit Geschäftskunden. Ihre Telefonnummer, Nachrichteninhalte und ggf. bereitgestellte Dateien werden im Rahmen der Auftragsbearbeitung genutzt."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"7. CRM- und Prozessautomatisierung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Wir verarbeiten Kundendaten in Monday.com, Zapier und Perspective ausschließlich zur Projektabwicklung, Angebotserstellung, Produktionsplanung und Nachverfolgung. Datenverarbeitung erfolgt auf Grundlage von Auftragsverarbeitungsverträgen."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"8. Bestell- und Zahlungsabwicklung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Für die Abwicklung Ihrer Bestellung verarbeiten wir Unternehmens- und Rechnungsdaten, Ansprechpartner, Bestell- und Produktdaten sowie Lieferadressen. Daten werden an Versand- und Zahlungsdienstleister übermittelt."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"9. Cookies & Tracking"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Wir verwenden technisch notwendige Cookies sowie – nach Einwilligung – Analyse- und Marketing-Tools (Google Analytics 4, Meta Pixel, TikTok Pixel)."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"10. Rechte der betroffenen Personen"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Sie haben das Recht auf Auskunft, Berichtigung, Löschung, Einschränkung der Verarbeitung, Widerspruch sowie Datenübertragbarkeit."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"11. Speicherdauer"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Wir speichern personenbezogene Daten so lange, wie sie für die Erfüllung des Vertragszwecks erforderlich sind. Gesetzliche Aufbewahrungsfristen bleiben unberührt."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"12. Internationale Datenübermittlung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Wir nutzen teilweise Dienstleister mit Sitz außerhalb der EU. Übermittlungen erfolgen nur bei Vorliegen eines Angemessenheitsbeschlusses oder geeigneter Garantien."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"13. Beschwerderecht"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Sie können sich jederzeit bei einer Datenschutzaufsichtsbehörde beschweren. Zuständig für uns ist der Landesbeauftragte für den Datenschutz und die Informationsfreiheit Rheinland-Pfalz."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"14. Aktualisierung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Stand: 15. August 2025. Wir behalten uns vor, diese Datenschutzerklärung jederzeit zu aktualisieren."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:s.jsxs("p",{className:"text-blue-800 text-sm",children:[s.jsx("strong",{children:"Hinweis:"})," Diese Datenschutzerklärung richtet sich an Geschäftskunden (B2B) für individuelle Schilderbestellungen und sollte vor Nutzung rechtlich geprüft werden."]})})]})})]})})},Cb=()=>{const t=zt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[s.jsx(Xr,{className:"h-5 w-5"}),s.jsx("span",{children:"Zurück"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-2",children:s.jsx(lu,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Allgemeine Geschäftsbedingungen"})]}),s.jsx("div",{className:"w-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Allgemeine Geschäftsbedingungen und Kundeninformationen"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4 mt-6",children:"I. Allgemeine Geschäftsbedingungen"}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 1 Grundlegende Bestimmungen"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Die nachstehenden Geschäftsbedingungen gelten für Verträge, die Sie mit uns als Anbieter (Michael Wagner) über die Internetseite https://www.nontel.de schließen. Soweit nicht anders vereinbart, wird der Einbeziehung gegebenenfalls von Ihnen verwendeter eigener Bedingungen widersprochen."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Verbraucher im Sinne der nachstehenden Regelungen ist jede natürliche Person, die ein Rechtsgeschäft zu Zwecken abschließt, die überwiegend weder ihrer gewerblichen noch ihrer selbständigen beruflichen Tätigkeit zugerechnet werden kann. Unternehmer ist jede natürliche oder juristische Person oder eine rechtsfähige Personengesellschaft, die bei Abschluss eines Rechtsgeschäfts in Ausübung ihrer selbständigen beruflichen oder gewerblichen Tätigkeit handelt."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 2 Zustandekommen des Vertrages"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Gegenstand des Vertrages ist der Verkauf von Waren, insbesondere individuell angefertigten Neon-Schildern."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Unsere Angebote im Internet sind unverbindlich und kein verbindliches Angebot zum Abschluss eines Vertrages."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(3) Sie können ein verbindliches Kaufangebot (Bestellung) über das Online-Warenkorbsystem abgeben."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(4) Die Annahme des Angebots erfolgt schriftlich oder in Textform (z. B. per E-Mail) oder durch Auslieferung der Ware."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 3 Individuell gestaltete Waren"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Sie stellen uns die für die individuelle Gestaltung der Waren erforderlichen geeigneten Informationen, Texte oder Dateien über das Online-Bestellsystem oder per E-Mail spätestens unverzüglich nach Vertragsschluss zur Verfügung. Unsere etwaigen Vorgaben zu Dateiformaten sind zu beachten."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Sie verpflichten sich, keine Daten zu übermitteln, deren Inhalt Rechte Dritter (insbesondere Urheberrechte, Namensrechte, Markenrechte) verletzen oder gegen bestehende Gesetze verstoßen. Sie stellen uns ausdrücklich von sämtlichen in diesem Zusammenhang geltend gemachten Ansprüchen Dritter frei. Das betrifft auch die Kosten der in diesem Zusammenhang erforderlichen rechtlichen Vertretung."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(3) Wir nehmen keine Prüfung der übermittelten Daten auf inhaltliche Richtigkeit vor und übernehmen insoweit keine Haftung für Fehler."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(4) Soweit im jeweiligen Angebot angegeben, erhalten Sie von uns eine Korrekturvorlage übersandt, die von Ihnen unverzüglich zu prüfen ist. Sind Sie mit dem Entwurf einverstanden, geben Sie die Korrekturvorlage durch Gegenzeichnung in Textform (z. B. E-Mail) zur Ausführung frei. Eine Ausführung der Gestaltungsarbeiten ohne Ihre Freigabe erfolgt nicht. Sie sind dafür verantwortlich, die Korrekturvorlage auf Richtigkeit und Vollständigkeit zu überprüfen und uns etwaige Fehler mitzuteilen. Wir übernehmen keine Haftung für nicht beanstandete Fehler."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(5) Bei individuell gestalteten Neon-Schildern besteht kein gesetzliches Widerrufsrecht. Dies gilt sowohl für Verbraucher als auch für Unternehmer. Grundlage ist § 312g Abs. 2 Nr. 1 BGB, da es sich um Waren handelt, die nach Kundenspezifikation angefertigt werden und eindeutig auf die persönlichen Bedürfnisse zugeschnitten sind."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 4 Preise und Zahlungsbedingungen"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Die in den jeweiligen Angeboten angeführten Preise sind Nettopreise und verstehen sich zuzüglich der gesetzlichen Umsatzsteuer."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Es gelten die Preise zum Zeitpunkt der Bestellung."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(3) Die Zahlungsmöglichkeiten werden dem Kunden im Online-Shop mitgeteilt."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 5 Lieferbedingungen"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Die Lieferbedingungen, Liefertermine und bestehende Lieferbeschränkungen finden sich im jeweiligen Angebot."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Soweit nicht anders angegeben, erfolgt die Lieferung ab Werk."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(3) Die Gefahr des zufälligen Untergangs und der zufälligen Verschlechterung der verkauften Sache geht bei Unternehmern mit der Übergabe an den Spediteur, Frachtführer oder die sonst zur Ausführung der Versendung bestimmte Person über."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 6 Zurückbehaltungsrecht, Eigentumsvorbehalt"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Ein Zurückbehaltungsrecht können Sie nur ausüben, soweit es sich um Forderungen aus demselben Vertragsverhältnis handelt."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Die Ware bleibt bis zur vollständigen Zahlung unser Eigentum."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 7 Mängelhaftung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Es gelten die gesetzlichen Mängelhaftungsrechte."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Bei Unternehmern beträgt die Gewährleistungsfrist ein Jahr ab Ablieferung der Ware."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 8 Haftung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Wir haften für Schäden nur bei Vorsatz oder grober Fahrlässigkeit."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"§ 9 Rechtswahl, Erfüllungsort, Gerichtsstand"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Es gilt deutsches Recht."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Erfüllungsort für alle Leistungen aus den mit uns bestehenden Geschäftsbeziehungen ist unser Firmensitz."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(3) Ausschließlicher Gerichtsstand für alle Streitigkeiten ist, soweit zulässig, der Sitz unseres Unternehmens."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4 mt-8",children:"II. Kundeninformationen"}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Identität des Verkäufers"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-gray-700 font-medium",children:"Michael Wagner"}),s.jsx("p",{className:"text-gray-600",children:"Herman-Wehrle-Strasse 10"}),s.jsx("p",{className:"text-gray-600",children:"67433 Neustadt an der Weinstrasse"}),s.jsx("p",{className:"text-gray-600",children:"Deutschland"}),s.jsx("p",{className:"text-gray-600",children:"📞 +49 163 1661464"}),s.jsx("p",{className:"text-gray-600",children:"📧 info@nontel.de"})]}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Informationen zum Zustandekommen des Vertrages"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Der Vertrag kommt zustande, wie in § 2 beschrieben."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Vertragssprache, Vertragstextspeicherung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(1) Die Vertragssprache ist Deutsch."}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"(2) Der Vertragstext wird von uns gespeichert und kann vom Kunden nach Vertragsschluss angefordert werden."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Wesentliche Merkmale der Ware oder Dienstleistung"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Die wesentlichen Merkmale der Ware oder Dienstleistung finden sich im jeweiligen Angebot."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Preise und Zahlungsmodalitäten"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Die in den jeweiligen Angeboten genannten Preise sind Nettopreise und verstehen sich zuzüglich der gesetzlichen Umsatzsteuer."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Lieferbedingungen"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Die Lieferbedingungen, Liefertermine und Lieferbeschränkungen finden sich im jeweiligen Angebot."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Ausschluss des Widerrufsrechts bei Maßanfertigungen"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Bei individuell gestalteten Neon-Schildern besteht nach § 312g Abs. 2 Nr. 1 BGB kein Widerrufsrecht, da diese nach Kundenspezifikation angefertigt werden und eindeutig auf persönliche Bedürfnisse zugeschnitten sind. Dieser Ausschluss gilt gleichermaßen für Verbraucher und Unternehmer."}),s.jsx("h4",{className:"text-base font-semibold text-gray-700 mb-3",children:"Gesetzliches Mängelhaftungsrecht"}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Es gelten die gesetzlichen Mängelhaftungsrechte."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:s.jsxs("p",{className:"text-blue-800 text-sm",children:[s.jsx("strong",{children:"Hinweis:"})," Diese AGB sind speziell für individuell angefertigte Neon-Schilder erstellt. Bei Fragen wenden Sie sich bitte an info@nontel.de."]})})]})})]})})},Tb=()=>{const t=zt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[s.jsx(Xr,{className:"h-5 w-5"}),s.jsx("span",{children:"Zurück"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-2",children:s.jsx($t,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Zahlung und Versand"})]}),s.jsx("div",{className:"w-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Zahlung und Versand (B2B)"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Liefergebiet:"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Die Lieferung erfolgt ausschließlich innerhalb Deutschlands."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Versandoptionen & Preise"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Selbstabholung – kostenlos in 67433 Neustadt"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"DHL-Versand (bis 120 cm) – €20,00 bis €80,00"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Spedition (120–240 cm) – €160,00"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Persönliche Lieferung (ab 240 cm) – Preis nach Entfernung"})})]}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Alle Preise verstehen sich zzgl. gesetzlicher MwSt."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Lieferzeiten"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-800",children:"Standard:"}),s.jsx("span",{className:"text-gray-600",children:"2–3 Wochen"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-800",children:"Express:"}),s.jsx("span",{className:"text-orange-600",children:"4–6 Tage (gegen Aufpreis)"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:s.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:"Die Lieferzeit beginnt nach Freigabe des finalen Mock-ups und Zahlungseingang. An Sonn- und Feiertagen erfolgt keine Zustellung. Werden mehrere Produkte mit unterschiedlichen Lieferzeiten bestellt, gilt die längste Lieferzeit für die gesamte Sendung, sofern nichts anderes vereinbart wurde."})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Zahlungsmöglichkeiten"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"PayPal & PayPal Express"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"Kreditkarte (Visa, Mastercard)"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"Klarna (Rechnung, Sofortüberweisung, Ratenkauf, Lastschrift)"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"Google Pay"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"Apple Pay"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"Revolut"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"Link (Stripe)"})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsx("span",{className:"font-medium text-gray-800",children:"Banküberweisung (Vorkasse)"})})]})]}),s.jsx("p",{className:"text-gray-600 mt-4 leading-relaxed",children:"Bei Selbstabholung erfolgt die Zahlung im Voraus, es fallen keine Versandkosten an."})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-yellow-600 text-lg",children:"💡"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Hinweis:"}),s.jsx("p",{className:"text-yellow-800 text-sm leading-relaxed",children:"Individuell angefertigte Neon-Schilder sind von Umtausch und Widerruf ausgeschlossen (§ 312g Abs. 2 Nr. 1 BGB). Änderungen am Design sind nach Bestätigung des Mock-ups nicht mehr möglich."})]})]})})]})})]})})},Ab=()=>{const t=zt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[s.jsx(Xr,{className:"h-5 w-5"}),s.jsx("span",{children:"Zurück"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-2",children:s.jsx(sv,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Impressum"})]}),s.jsx("div",{className:"w-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Impressum"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Gesetzliche Anbieterkennung:"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 mb-6",children:[s.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"Michael Wagner"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Nontel"}),s.jsx("p",{className:"text-gray-600",children:"Hermann-Wehrle-Str. 10"}),s.jsx("p",{className:"text-gray-600",children:"67433 Neustadt an der Weinstraße"}),s.jsx("p",{className:"text-gray-600",children:"Deutschland"}),s.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Telefon:"})," +49 163 1661464"]}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"E-Mail:"})," info@nontel.de"]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"USt-IdNr.:"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("p",{className:"text-gray-600",children:"DE328488548"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Zuständige Aufsichtsbehörde für audiovisuelle Mediendienste:"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-gray-600 font-medium",children:"Medienanstalt Rheinland-Pfalz"}),s.jsx("p",{className:"text-gray-600",children:"Turmstraße 10"}),s.jsx("p",{className:"text-gray-600",children:"67059 Ludwigshafen"}),s.jsx("p",{className:"text-gray-600",children:s.jsx("a",{href:"https://medienanstalt-rlp.de/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"https://medienanstalt-rlp.de/"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Alternative Streitbeilegung:"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Die Europäische Kommission stellt eine Plattform für die außergerichtliche Online-Streitbeilegung (OS-Plattform) bereit, aufrufbar unter:"}),s.jsx("p",{className:"text-gray-600",children:s.jsx("a",{href:"https://ec.europa.eu/odr",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"https://ec.europa.eu/odr"})}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Wir sind nicht bereit und nicht verpflichtet, an Streitbeilegungsverfahren vor einer Verbraucherschlichtungsstelle teilzunehmen."})]})]})]})]})})]})})},ps=[{id:"design-1",name:"Classic Business Logo",originalWidth:400,originalHeight:200,elements:5,ledLength:12,mockupUrl:"https://images.pexels.com/photos/1036936/pexels-photo-1036936.jpeg?auto=compress&cs=tinysrgb&w=800&h=400&fit=crop",description:"Klassisches Firmenlogo-Design mit klaren Linien",svgContent:`<svg viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
      <rect x="10" y="10" width="380" height="180" fill="none" stroke="#3B82F6" stroke-width="3" rx="20"/>
      <text x="200" y="100" text-anchor="middle" dominant-baseline="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#3B82F6">BUSINESS</text>
      <text x="200" y="140" text-anchor="middle" dominant-baseline="middle" font-family="Arial, sans-serif" font-size="18" fill="#6B7280">Professional Logo</text>
    </svg>`,hasCustomSvg:!0},{id:"design-2",name:"Modern Script Text",originalWidth:300,originalHeight:100,elements:8,ledLength:18,mockupUrl:"https://images.pexels.com/photos/1036622/pexels-photo-1036622.jpeg?auto=compress&cs=tinysrgb&w=800&h=400&fit=crop",description:"Moderne Schreibschrift für elegante Auftritte",svgContent:`<svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 60 Q40 20, 80 60 Q120 20, 160 60 Q200 20, 240 60 Q280 20, 280 60" fill="none" stroke="#8B5CF6" stroke-width="4" stroke-linecap="round"/>
      <text x="150" y="70" text-anchor="middle" font-family="cursive" font-size="24" font-style="italic" fill="#8B5CF6">Elegant Script</text>
    </svg>`,hasCustomSvg:!0},{id:"design-3",name:"Geometric Pattern",originalWidth:250,originalHeight:250,elements:12,ledLength:25,mockupUrl:"https://images.pexels.com/photos/1036641/pexels-photo-1036641.jpeg?auto=compress&cs=tinysrgb&w=800&h=400&fit=crop",description:"Geometrisches Muster für auffällige Designs",svgContent:`<svg viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="hexPattern" x="0" y="0" width="50" height="43.3" patternUnits="userSpaceOnUse">
          <polygon points="25,5 43.3,15 43.3,35 25,45 6.7,35 6.7,15" fill="none" stroke="#EC4899" stroke-width="2"/>
        </pattern>
      </defs>
      <rect width="250" height="250" fill="url(#hexPattern)"/>
      <circle cx="125" cy="125" r="80" fill="none" stroke="#EC4899" stroke-width="4"/>
      <text x="125" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#EC4899">GEO</text>
    </svg>`,hasCustomSvg:!0},{id:"design-4",name:"Restaurant Sign",originalWidth:500,originalHeight:150,elements:6,ledLength:20,mockupUrl:"https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&w=800&h=400&fit=crop",description:"Perfekt für Restaurants und Gastronomie"},{id:"design-5",name:"Minimalist Icon",originalWidth:150,originalHeight:150,elements:3,ledLength:8,mockupUrl:"https://images.pexels.com/photos/1036624/pexels-photo-1036624.jpeg?auto=compress&cs=tinysrgb&w=800&h=400&fit=crop",description:"Minimalistisches Icon-Design"}],Ib={"ab_20cm_50%":250,"ab_100cm_50%":400,"ab_200cm_50%":500,"outdoor_30%":2e3},Mb=[{key:"ab_20cm_50%",label:"Klein (2,5m)",description:"Kleiner Raum"},{key:"ab_100cm_50%",label:"Mittel (4m)",description:"Mittlerer Raum"},{key:"ab_200cm_50%",label:"Groß (5m)",description:"Großer Raum"},{key:"outdoor_30%",label:"Outdoor (20m)",description:"Außenbereich"}],lh=400,Lb=.5,Rb=.3,Db=[1.9,3.8,6.6,9.8],$b=[.54,.4,.26,.15],oh=t=>t.replace(/%/g,"%25");function Ea(t){if(!t||t==="none")return{r:255,g:255,b:255,a:1};if(t=String(t).trim(),/^#([0-9a-f]{3})$/i.test(t)){const i=t.slice(1);return{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:1}}if(/^#([0-9a-f]{6})$/i.test(t)){const i=t.slice(1);return{r:parseInt(i.slice(0,2),16),g:parseInt(i.slice(2,4),16),b:parseInt(i.slice(4,6),16),a:1}}const e=t.match(/^rgba?\(([^)]+)\)$/i);if(e){const i=e[1].split(",").map(u=>u.trim()),[a,l,c]=i.slice(0,3).map(u=>u.endsWith("%")?2.55*parseFloat(u):parseFloat(u)),o=i[3]!=null?parseFloat(i[3]):1;return{r:a,g:l,b:c,a:isNaN(o)?1:o}}const r=document.createElement("span");r.style.color=t,document.body.appendChild(r);const n=getComputedStyle(r).color;return document.body.removeChild(r),Ea(n||"#fff")}function Ob(t,e=.8){const r=Ea(t),n=Math.max(0,Math.min(1,e));return`rgba(${Math.round(255*n+r.r*(1-n))},${Math.round(255*n+r.g*(1-n))},${Math.round(255*n+r.b*(1-n))},1)`}function Ol(t){const e=t.getAttribute("stroke");return e&&e!=="none"?e:getComputedStyle(t).stroke||"#fff"}function ch(t){const e=t.getAttribute("stroke-width");if(e!=null&&!isNaN(parseFloat(e)))return parseFloat(e);const r=getComputedStyle(t).strokeWidth,n=parseFloat(r);return isNaN(n)?10:n}function zl(t){if(t.hasAttribute("viewBox"))return;const e=parseFloat(t.getAttribute("width")||"0")||1e3,r=parseFloat(t.getAttribute("height")||"0")||1e3;t.setAttribute("viewBox",`0 0 ${e} ${r}`)}function Ul(t){t.querySelectorAll("script, link[rel=stylesheet]").forEach(e=>e.remove())}const zb=({lengthCm:t,waterproof:e,neonOn:r,uvOn:n,bgBrightness:i,neonIntensity:a,selectedBackground:l,onBackgroundChange:c,onWaterproofChange:o,onSvgUpload:u,currentSvgContent:h})=>{var Pu,Eu,Cu,Tu;const m=v.useRef(null),d=v.useRef(null),x=v.useRef(""),[b,w]=v.useState(l||"ab_100cm_50%"),[y,p]=v.useState(i??1),[f,g]=v.useState(a??1.5),[j,N]=v.useState(r),[P,C]=v.useState(!1),I=v.useRef(null),[D,O]=v.useState(!1),[J,V]=v.useState(!1),[G,se]=v.useState(1),[Z,re]=v.useState({dx:0,dy:0});v.useEffect(()=>{N(r)},[r]),v.useEffect(()=>{if(h&&h!==x.current){x.current=h;const L=new DOMParser().parseFromString(h,"image/svg+xml").querySelector("svg");L&&m.current&&(Ul(L),zl(L),L.setAttribute("width","100%"),L.setAttribute("height","100%"),L.setAttribute("preserveAspectRatio","xMidYMid meet"),m.current.innerHTML="",m.current.appendChild(L),d.current=L,al(L),ui(L,n),bu(L,j,a??f),di(t))}else!h&&x.current&&(x.current="",m.current&&(m.current.innerHTML=""),d.current=null)},[h,n,j,a,f,t]);const[k,E]=v.useState({dx:0,dy:0}),R=()=>{C(!0),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{C(!1)},2e3)};v.useEffect(()=>()=>{I.current&&clearTimeout(I.current)},[]);const $=b,T=$==="outdoor_30%"?Rb:Lb,S=v.useMemo(()=>{const _=Ib[$]||300,L=$==="outdoor_30%"?15:4,W=lh/_*T*L;return console.log(`📏 Dynamische Skalierung für ${$}:`,{realSceneWidthCm:_,viewportWidth:lh,baseScale:T,enlargementFactor:L,calculatedPxPerCm:W}),W},[$,T]),ce=_=>{w(_),c==null||c(_),_==="outdoor_30%"?o?o(!0):console.warn("⚠️ onWaterproofChange nicht verfügbar - Wasserdicht kann nicht automatisch aktiviert werden"):o?o(!1):console.warn("⚠️ onWaterproofChange nicht verfügbar - Wasserdicht kann nicht automatisch deaktiviert werden"),E({dx:0,dy:0}),ll(!1)},A={scene:{position:"relative",inset:0,width:"100%",height:"100%",background:"#000",overflow:"hidden",borderRadius:12},layer:{position:"absolute",inset:0,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",pointerEvents:"none"},rain:{position:"absolute",inset:0,pointerEvents:"none",opacity:.15,zIndex:4,overflow:"hidden"},planeWrap:{position:"absolute",inset:0,zIndex:2,pointerEvents:"none"},plane:{position:"absolute",left:"50%",top:"50%",transform:`translate(-50%,-130%) translate(${k.dx.toFixed(2)}px, ${k.dy.toFixed(2)}px) scale(1)`,width:"600px",height:"600px",display:"grid",placeItems:"center",filter:"drop-shadow(0 6px 14px rgba(0,0,0,.35))",cursor:"grab",pointerEvents:"auto",userSelect:"none",touchAction:"none"},gear:{position:"absolute",top:10,right:10,zIndex:7,background:"rgba(12,16,22,.55)",border:"1px solid #2a3342",backdropFilter:"blur(4px)",borderRadius:10,color:"#e8eef8"},gearBtn:{display:"inline-flex",alignItems:"center",gap:6,padding:"6px 8px",cursor:"pointer"},gearPanel:{padding:"10px 12px",display:"grid",gap:8,minWidth:220}},U=`/assets/${oh($)}.png`,F=`/assets/${oh($)}_mobel.png`;function ue(_){return _?_.querySelector("path, polygon, rect, ellipse, circle"):null}function gt(_,L,W){return _.querySelector(`#${L}, [data-role="${W}"]`)}function Gp(_,L){try{const W=_.querySelector("defs")||_.insertBefore(document.createElementNS(_.namespaceURI,"defs"),_.firstChild),B=ue(L);if(!B)return;const ee=`cp-${Math.random().toString(36).slice(2,7)}`,te=document.createElementNS(_.namespaceURI,"clipPath");te.setAttribute("id",ee),te.setAttribute("clipPathUnits","userSpaceOnUse"),te.appendChild(B.cloneNode(!0)),W.appendChild(te);const it=L.getBBox(),at=it.x,Fe=it.y,lt=it.width,xt=it.height,yt=document.createElementNS(_.namespaceURI,"g");yt.setAttribute("clip-path",`url(#${ee})`),yt.setAttribute("pointer-events","none"),yt.style.mixBlendMode="screen";const nr=document.createElementNS(_.namespaceURI,"rect");nr.setAttribute("x",`${at}`),nr.setAttribute("y",`${Fe}`),nr.setAttribute("width",`${lt}`),nr.setAttribute("height",`${xt}`),nr.setAttribute("fill","rgba(255,255,255,0.08)"),yt.appendChild(nr);const Ut=document.createElementNS(_.namespaceURI,"rect");Ut.setAttribute("x",`${at+lt*.8}`),Ut.setAttribute("y",`${Fe-xt*.3}`),Ut.setAttribute("width",`${lt*.4}`),Ut.setAttribute("height",`${xt*1.6}`),Ut.setAttribute("fill","rgba(255,255,255,0.12)"),Ut.setAttribute("transform",`rotate(-30 ${at+lt*.9} ${Fe+xt/2})`),yt.appendChild(Ut);const At=document.createElementNS(_.namespaceURI,"rect");At.setAttribute("x",`${at-lt*.05}`),At.setAttribute("y",`${Fe-xt*.3}`),At.setAttribute("width",`${lt*.14}`),At.setAttribute("height",`${xt*1.6}`),At.setAttribute("fill","rgba(255,255,255,0.08)"),At.setAttribute("transform",`rotate(-30 ${at+lt*.1} ${Fe+xt/2})`),yt.appendChild(At),L.after(yt)}catch(W){console.error(W)}}function al(_){const L=gt(_,"acrylic","acrylic");L&&(L.querySelectorAll("path, polygon, rect, ellipse, circle").forEach(W=>{W.removeAttribute("fill"),W.removeAttribute("fill-opacity"),W.style.fill="none",W.setAttribute("fill","none"),W.setAttribute("stroke","rgba(255,255,255,0.30)"),W.setAttribute("stroke-width","1.6"),W.setAttribute("stroke-linecap","round"),W.setAttribute("stroke-linejoin","round")}),Gp(_,L))}function xu(_){var W;const L=gt(_,"acrylic","acrylic");L&&(L.querySelectorAll("path, polygon, rect, ellipse, circle").forEach(B=>{B.removeAttribute("fill"),B.removeAttribute("fill-opacity"),B.style.fill="rgba(0,0,0,0.6)",B.setAttribute("fill","rgba(0,0,0,0.6)"),B.setAttribute("stroke","rgba(0,0,0,0.8)"),B.setAttribute("stroke-width","1"),B.setAttribute("stroke-linecap","round"),B.setAttribute("stroke-linejoin","round")}),(W=L.parentElement)==null||W.querySelectorAll("g[clip-path]").forEach(B=>{B!==L&&B.remove()}))}function yu(_){const L=_.tagName.toLowerCase();if(!["path","polyline","line","circle","ellipse"].includes(L))return!1;const W=(_.getAttribute("fill")||"").trim().toLowerCase();return W&&W!=="none"&&W!=="transparent"?!1:ch(_)>0&&!!Ol(_)}function vu(_,L,W,B){const ee=ch(_),te=Ea(L);if(W){const it=Math.min(.7,.24*B),at=`drop-shadow(0 0 ${(ee*.7).toFixed(1)}px rgba(255,255,255,${it}))`,Fe=Db.map((lt,xt)=>{const yt=Math.min(.95,$b[xt]*B);return`drop-shadow(0 0 ${(ee*lt).toFixed(1)}px rgba(${te.r},${te.g},${te.b},${yt}))`}).join(" ");_.style.filter=`${at} ${Fe}`}else _.style.filter="none"}function bu(_,L,W){const B=_.querySelector("#neon, [data-role='neon']")||_;Array.from(B.querySelectorAll("path, polyline, line, circle, ellipse")).filter(yu).forEach(te=>{const it=Ol(te),at=Ob(it,.8),Fe=Ea(it);te.classList.add("neon-line"),te.setAttribute("data-neoncolor",`rgb(${Math.round(Fe.r)},${Math.round(Fe.g)},${Math.round(Fe.b)})`),te.setAttribute("fill","none"),te.style.fill="none",te.setAttribute("stroke",at),te.setAttribute("stroke-linecap","round"),te.setAttribute("stroke-linejoin","round"),vu(te,te.getAttribute("data-neoncolor")||"#fff",L,W)})}function qp(_){const L=_.querySelector("#neon, [data-role='neon']")||_;Array.from(L.querySelectorAll("path, polyline, line, circle, ellipse")).filter(yu).forEach(B=>{const ee=B.getAttribute("data-neoncolor")||Ol(B);B.setAttribute("fill","none"),B.style.fill="none",B.setAttribute("stroke",ee),B.setAttribute("stroke-width","2"),B.setAttribute("stroke-linecap","round"),B.setAttribute("stroke-linejoin","round"),B.style.filter="none"})}function Ar(_,L,W){_&&_.querySelectorAll(".neon-line").forEach(B=>{const ee=B.getAttribute("data-neoncolor")||"#fff";vu(B,ee,L,W)})}function ui(_,L){const W=_.querySelector("#uv_print, [data-role='uv-print']");W&&(W.style.display=L?"":"none")}function di(_){if(!d.current||!m.current)return;const L=d.current.getAttribute("viewBox").split(/\s+/).map(Number),W=L[2]>0&&L[3]>0?L[2]/L[3]:1,B=_*S;let ee,te;W>=1?(ee=B,te=ee/W):(te=B,ee=te*W),console.log("📐 SVG Größe gesetzt:",{lengthCm:_,dynamicPxPerCm:S,calculatedPxLong:B,finalWidth:ee,finalHeight:te,aspectRatio:W}),m.current.style.width=`${ee.toFixed(2)}px`,m.current.style.height=`${te.toFixed(2)}px`}function Jp(_,L){const B=m.current.parentElement.getBoundingClientRect(),ee=parseFloat(m.current.style.width)||m.current.clientWidth,te=parseFloat(m.current.style.height)||m.current.clientHeight,it=ee*1,at=te*1,Fe=B.width/2,lt=B.height/2,xt=Fe-it/2,yt=Fe+it/2,nr=lt-at/2,Ut=lt+at/2;let At=xt+_,Au=yt+_,Iu=nr+L,Mu=Ut+L;return At<0&&(_+=-At),Au>B.width&&(_-=Au-B.width),Iu<0&&(L+=-Iu),Mu>B.height&&(L-=Mu-B.height),{dx:_,dy:L}}const We=v.useRef({dragging:!1,startX:0,startY:0,baseDX:0,baseDY:0,neonWasOn:!1});function Zp(_){D||(We.current.dragging=!0,We.current.startX=_.clientX,We.current.startY=_.clientY,We.current.baseDX=k.dx,We.current.baseDY=k.dy,_.currentTarget.setPointerCapture(_.pointerId),We.current.neonWasOn=j,j&&Ar(d.current,!1,a??f))}function Qp(_){if(D||!We.current.dragging)return;const L=We.current.baseDX+(_.clientX-We.current.startX),W=We.current.baseDY+(_.clientY-We.current.startY),B=Jp(L,W);E({dx:B.dx,dy:B.dy})}function wu(_){if(!D&&We.current.dragging){We.current.dragging=!1;try{_.currentTarget.releasePointerCapture(_.pointerId)}catch{}We.current.neonWasOn&&setTimeout(()=>Ar(d.current,!0,a??f),40)}}async function Yp(){const _=document.createElement("input");_.type="file",_.accept=".svg,image/svg+xml",_.onchange=async()=>{var te;const L=(te=_.files)==null?void 0:te[0];if(!L)return;const W=await L.text();x.current=W,u==null||u(W);const ee=new DOMParser().parseFromString(W,"image/svg+xml").querySelector("svg");if(!ee){alert("SVG nicht gefunden.");return}Ul(ee),zl(ee),ee.setAttribute("width","100%"),ee.setAttribute("height","100%"),ee.setAttribute("preserveAspectRatio","xMidYMid meet"),m.current.innerHTML="",m.current.appendChild(ee),d.current=ee,al(ee),ui(ee,n),bu(ee,j,a??f),di(t)},_.click()}v.useEffect(()=>{d.current&&di(t)},[t]),v.useEffect(()=>{d.current&&di(t)},[S]),v.useEffect(()=>{d.current&&ui(d.current,n)},[n]),v.useEffect(()=>{Ar(d.current,j,a??f)},[j,a,f,$]),v.useEffect(()=>{m.current&&(m.current.style.transform=`translate(-50%,-130%) translate(${k.dx.toFixed(2)}px, ${k.dy.toFixed(2)}px) scale(1)`)},[k.dx,k.dy]);const[ju,ll]=v.useState(!1),Xp=()=>{se(_=>Math.min(5,_+.3))},eg=()=>{se(_=>Math.max(.3,_-.3))},tg=()=>{se(1),re({dx:0,dy:0})},rg=()=>{O(_=>{const L=!_;return L?(d.current&&(Ar(d.current,!1,a??f),xu(d.current)),E({dx:0,dy:0})):d.current&&(al(d.current),Ar(d.current,j,a??f)),L})},Nu=()=>{if(!x.current){alert("Kein SVG geladen. Bitte laden Sie zuerst ein SVG hoch.");return}const _=new Blob([x.current],{type:"image/svg+xml"}),L=URL.createObjectURL(_),W=document.createElement("a");W.href=L,W.download="neon-design-original.svg",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(L)},st=v.useRef({dragging:!1,startX:0,startY:0,baseDX:0,baseDY:0}),ku=_=>{st.current.dragging=!0,st.current.startX=_.clientX,st.current.startY=_.clientY,st.current.baseDX=Z.dx,st.current.baseDY=Z.dy,_.currentTarget.setPointerCapture(_.pointerId)},Su=_=>{if(!st.current.dragging)return;const L=st.current.baseDX+(_.clientX-st.current.startX),W=st.current.baseDY+(_.clientY-st.current.startY);re({dx:L,dy:W})},hi=_=>{if(st.current.dragging){st.current.dragging=!1;try{_.currentTarget.releasePointerCapture(_.pointerId)}catch{}}},_u=()=>{V(!0),se(1),re({dx:0,dy:0})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:A.scene,className:D?"bg-gray-200":"",children:[s.jsx("div",{style:{...A.layer,zIndex:0,filter:D?"none":`brightness(${i??y})`,backgroundImage:D?"none":`url(${U})`,backgroundColor:D?"#4b5563":"transparent"}}),!D&&s.jsx("div",{style:{...A.layer,zIndex:3,backgroundImage:`url(${F})`}}),$==="outdoor_30%"&&e&&!D&&s.jsx("div",{style:A.rain,children:Array.from({length:120}).map((_,L)=>s.jsx("div",{className:"raindrop",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${.3+Math.random()*.8}s`}},L))}),s.jsx("div",{style:A.planeWrap,children:s.jsx("div",{"data-mockup-stage":!0,ref:m,style:{...A.plane,transform:`translate(-50%,-130%) translate(${k.dx.toFixed(2)}px, ${k.dy.toFixed(2)}px) scale(1)`,cursor:D?"default":"grab"},onPointerDown:Zp,onPointerMove:Qp,onPointerUp:wu,onPointerCancel:wu,onDoubleClick:_u})}),!D&&s.jsxs("div",{className:"absolute top-4 left-4 z-10",onMouseEnter:R,onMouseLeave:()=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{C(!1)},300)},children:[s.jsx("button",{onClick:()=>{const _=!j;N(_),Ar(d.current,_,a??f),R()},className:`w-12 h-12 rounded-full backdrop-blur-sm border transition-all duration-300 flex items-center justify-center shadow-lg ${j?"bg-yellow-500/90 text-white border-yellow-400 hover:bg-yellow-600/90":"bg-gray-800/90 text-gray-300 border-gray-600 hover:bg-gray-700/90"}`,title:j?"Neon ausschalten":"Neon einschalten",children:j?s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9v1zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.2 3-3.3 3-5.7 0-3.9-3.1-7-7-7z"})}):s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),s.jsx("div",{className:`mt-2 transition-all duration-500 ease-in-out ${P?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200 rounded-lg p-3 shadow-lg min-w-[140px]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9v1zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.2 3-3.3 3-5.7 0-3.9-3.1-7-7-7z"})}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Intensität"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"💫"}),s.jsx("input",{type:"range",min:.4,max:2,step:.05,value:f,className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",onChange:_=>{const L=parseFloat(_.target.value);g(L),Ar(d.current,j,L),R()},title:`Neon-Intensität: ${(f*100).toFixed(0)}%`}),s.jsx("span",{className:"text-xs text-gray-500",children:"🔥"})]}),s.jsx("div",{className:"text-center mt-1",children:s.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[(f*100).toFixed(0),"%"]})})]})})]}),s.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:rg,className:`w-10 h-10 rounded-lg transition-all duration-300 border backdrop-blur-sm flex items-center justify-center shadow-lg ${D?"bg-blue-600 text-white border-blue-500":"bg-white/90 text-gray-700 border-gray-200 hover:bg-white"}`,title:D?"Zurück zur Neon-Ansicht":"Technische Skizze anzeigen",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),D&&s.jsx("button",{onClick:Nu,className:"w-10 h-10 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-all duration-300 shadow-lg flex items-center justify-center",title:"Original SVG-Datei herunterladen",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("button",{onClick:()=>ll(_=>!_),className:`w-10 h-10 rounded-lg transition-all duration-300 border backdrop-blur-sm flex items-center justify-center shadow-lg ${ju?"bg-blue-600 text-white border-blue-500":"bg-white/90 text-gray-700 border-gray-200 hover:bg-white"}`,title:"Weitere Optionen",children:s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),D&&s.jsxs("div",{className:"absolute bottom-4 left-4 z-10 bg-blue-600 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{children:"Original SVG"})]}),D&&s.jsxs("div",{className:"absolute top-20 right-4 z-10 flex flex-col space-y-2",children:[s.jsx("button",{onClick:()=>{var L;const _=m.current;if(_){const W=parseFloat(((L=_.style.transform.match(/scale\(([^)]+)\)/))==null?void 0:L[1])||"1"),B=Math.min(3,W+.2);_.style.transform=_.style.transform.replace(/scale\([^)]+\)/,`scale(${B})`)}},className:"w-10 h-10 bg-white/90 hover:bg-white text-gray-700 rounded-lg flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110",title:"Vergrößern",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("button",{onClick:()=>{var L;const _=m.current;if(_){const W=parseFloat(((L=_.style.transform.match(/scale\(([^)]+)\)/))==null?void 0:L[1])||"1"),B=Math.max(.3,W-.2);_.style.transform=_.style.transform.replace(/scale\([^)]+\)/,`scale(${B})`)}},className:"w-10 h-10 bg-white/90 hover:bg-white text-gray-700 rounded-lg flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110",title:"Verkleinern",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("button",{onClick:()=>{const _=m.current;_&&(_.style.transform=_.style.transform.replace(/scale\([^)]+\)/,"scale(1)"),E({dx:0,dy:0}))},className:"w-10 h-10 bg-white/90 hover:bg-white text-gray-700 rounded-lg flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110",title:"Zurücksetzen",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),!D&&s.jsx("div",{className:"absolute bottom-4 right-4 z-10 bg-black/50 text-white px-2 py-1 rounded-lg text-xs backdrop-blur-sm cursor-pointer hover:bg-black/70 transition-all duration-300 hover:scale-105 active:scale-95",onClick:_u,title:"Vollbild-Ansicht öffnen",children:"💡 Vollbild für Details"}),s.jsx("div",{className:"absolute top-16 right-4 z-10",children:ju&&s.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white/95 rounded-lg shadow-xl border border-gray-200 p-3 min-w-[200px] backdrop-blur-sm",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>E({dx:0,dy:0}),className:"w-full px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors",children:"Zentrieren"}),s.jsx("button",{onClick:()=>{Yp(),ll(!1)},className:"w-full px-3 py-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-md text-sm font-medium transition-colors",children:"SVG laden…"})]})})})]}),!D&&s.jsx("div",{className:"absolute bottom-4 left-4 z-10 flex space-x-1",children:Mb.map(_=>s.jsx("button",{onClick:()=>ce(_.key),className:`w-8 h-8 rounded-md text-xs font-bold transition-all duration-300 shadow-sm border ${b===_.key?"bg-blue-600 text-white border-blue-500 scale-110":"bg-white/90 text-gray-700 border-gray-200 hover:bg-white hover:scale-105"}`,title:`${_.label} - ${_.description}`,children:_.key==="ab_20cm_50%"?"S":_.key==="ab_100cm_50%"?"M":_.key==="ab_200cm_50%"?"L":"O"},_.key))}),J&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50",children:s.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-black/80 backdrop-blur-sm border-b border-gray-600 p-4 z-20 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Design-Detailansicht"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:Xp,className:"w-10 h-10 bg-white/20 hover:bg-white/30 text-white rounded-lg flex items-center justify-center transition-colors",title:"Vergrößern",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("button",{onClick:eg,className:"w-10 h-10 bg-white/20 hover:bg-white/30 text-white rounded-lg flex items-center justify-center transition-colors",title:"Verkleinern",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("button",{onClick:tg,className:"w-10 h-10 bg-white/20 hover:bg-white/30 text-white rounded-lg flex items-center justify-center transition-colors",title:"Zurücksetzen",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s.jsxs("div",{className:"bg-white/20 text-white px-3 py-1 rounded-lg text-sm font-medium",children:[(G*100).toFixed(0),"%"]}),s.jsxs("button",{onClick:Nu,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{children:"Original SVG"})]}),s.jsx("button",{onClick:()=>V(!1),className:"text-white hover:text-gray-300 hover:bg-white/20 rounded-full p-2 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsx("div",{className:"pt-16 w-full h-full bg-black flex items-center justify-center overflow-hidden",children:D?x.current?s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-2xl border border-gray-300",style:{transform:`translate(${Z.dx}px, ${Z.dy}px) scale(${G})`,transformOrigin:"center center",cursor:G>1?"grab":"default",maxWidth:"90vw",maxHeight:"80vh"},onPointerDown:G>1?ku:void 0,onPointerMove:G>1?Su:void 0,onPointerUp:G>1?hi:void 0,onPointerCancel:G>1?hi:void 0,dangerouslySetInnerHTML:{__html:(()=>{const L=new DOMParser().parseFromString(x.current,"image/svg+xml").querySelector("svg");return L?(Ul(L),zl(L),xu(L),qp(L),ui(L,n),L.setAttribute("width","100%"),L.setAttribute("height","100%"),L.style.maxWidth="100%",L.style.maxHeight="100%",L.outerHTML):"<p>SVG konnte nicht geladen werden</p>"})()}}):s.jsxs("div",{className:"text-center text-white",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{children:"Kein SVG geladen"}),s.jsx("p",{className:"text-sm mt-2 text-gray-400",children:"Laden Sie zuerst ein SVG-Design"})]}):d.current?s.jsx("div",{style:{transform:`translate(${Z.dx}px, ${Z.dy}px) scale(${G})`,transformOrigin:"center center",cursor:G>1?"grab":"default",width:`${t*4}px`,height:`${t*4/(((Eu=(Pu=d.current.viewBox)==null?void 0:Pu.baseVal)==null?void 0:Eu.width)/((Tu=(Cu=d.current.viewBox)==null?void 0:Cu.baseVal)==null?void 0:Tu.height)||1)}px`},onPointerDown:G>1?ku:void 0,onPointerMove:G>1?Su:void 0,onPointerUp:G>1?hi:void 0,onPointerCancel:G>1?hi:void 0,dangerouslySetInnerHTML:{__html:d.current.outerHTML}}):s.jsxs("div",{className:"text-center text-white",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"})}),s.jsx("p",{children:"Kein Design geladen"}),s.jsx("p",{className:"text-sm mt-2 text-gray-400",children:"Laden Sie zuerst ein SVG-Design"})]})}),G!==1&&s.jsxs("div",{className:"absolute bottom-4 left-4 z-20 bg-white/20 text-white px-3 py-1 rounded-lg text-sm font-medium backdrop-blur-sm",children:["Zoom: ",(G*100).toFixed(0),"%"]}),G>1&&s.jsx("div",{className:"absolute bottom-4 right-4 z-20 bg-white/20 text-white px-3 py-1 rounded-lg text-xs backdrop-blur-sm",children:"Ziehen zum Verschieben"})]})})]})},Ub=({config:t,onConfigChange:e,onClose:r,onSignToggle:n,onRemoveSign:i})=>{var k,E,R,$,T;const[a,l]=v.useState(t.customerPostalCode||""),[c,o]=v.useState(!1),[u,h]=v.useState(!1),m=((k=t.signs)==null?void 0:k.map(S=>({...S,price:Pa(S.design,S.width,S.height,S.isWaterproof,S.isTwoPart,S.hasUvPrint,S.hasHangingSystem||!1,S.expressProduction||!1)})))||[],d=m.filter(S=>S.isEnabled).reduce((S,ce)=>S+ce.price,0),x=Math.max(...m.filter(S=>S.isEnabled).map(S=>Math.max(S.width,S.height)),0),[b,w]=v.useState(""),[y,p]=v.useState(!1),f=q.useMemo(()=>{if(!t.customerPostalCode)return{distance:0,cityName:""};const S=Ye("67433",t.customerPostalCode);return{distance:S.distance,cityName:b||S.cityName}},[t.customerPostalCode,b]);q.useEffect(()=>{t.customerPostalCode&&/^\d{5}$/.test(t.customerPostalCode)?(p(!0),Av(t.customerPostalCode).then(S=>{console.log("🏙️ Real city name loaded:",S),w(S)}).catch(S=>{console.warn("Failed to load real city name:",S)}).finally(()=>{p(!1)})):w("")},[t.customerPostalCode]),console.log("🏙️ ShippingCalculationPage - Distance Info:",{postalCode:t.customerPostalCode,distance:f.distance,cityName:f.cityName,realCityName:b,isLoadingCityName:y});const g=_s(x,f.distance||void 0),j=((E=t.selectedShipping)==null?void 0:E.type)==="pickup"||t.includesInstallation?0:g.cost;let N=0;if(t.includesInstallation&&t.customerPostalCode&&/^\d{5}$/.test(t.customerPostalCode)){const S=m.filter(ce=>ce.isEnabled).reduce((ce,A)=>ce+Qa(A.width,A.height),0);N=De.calculateInstallationCost(S,t.customerPostalCode)}const C=N+j+0,I=d+C,D=I*.19,O=I+D,J=x>239&&(!t.customerPostalCode||!/^\d{5}$/.test(t.customerPostalCode)),V=S=>{console.log("Payment successful:",S),window.location.href=`/success?payment_intent=${S.id}`},G=S=>{console.error("Payment error:",S),alert(`Zahlungsfehler: ${S}`)},se=()=>{J||!u||o(!0)},Z=S=>{l(S),/^\d{5}$/.test(S)&&e({customerPostalCode:S})},re=(S,ce)=>{const A=t.signs.map(U=>U.id===S?{...U,...ce}:U);e({signs:A})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b px-4 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[s.jsx(Xr,{className:"h-5 w-5"}),s.jsx("span",{children:"Zurück zur Konfiguration"})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Versand & Bestellung"}),s.jsx("div",{className:"w-32"})," "]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"bg-blue-600 rounded-lg p-2",children:s.jsx(Zs,{className:"h-6 w-6 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Übersicht"}),s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[m.filter(S=>S.isEnabled).length," Artikel"]})]}),s.jsx("div",{className:"space-y-3",children:m.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Zs,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{children:"Keine Schilder ausgewählt"})]}):m.map((S,ce)=>s.jsx("div",{className:`border rounded-lg p-3 transition-all duration-300 ${S.isEnabled?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50 opacity-75"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ko,{design:S.design,width:S.width,height:S.height,className:"w-10 h-10",uploadedSvgContent:S.uploadedSvgContent}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("h3",{className:"font-medium text-gray-800 text-xs truncate",children:["Design #",ce+1]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Breite:"}),s.jsx("button",{onClick:()=>re(S.id,{width:Math.max(20,S.width-10),height:qt(S.design.originalWidth,S.design.originalHeight,Math.max(20,S.width-10))}),className:"w-6 h-6 bg-gray-200 hover:bg-red-100 text-gray-600 hover:text-red-600 rounded flex items-center justify-center transition-colors",children:"−"}),s.jsx("input",{type:"number",value:S.width,onChange:A=>{const U=Number(A.target.value),F=S.isTwoPart?1e3:300;if(U>=20&&U<=F){const ue=qt(S.design.originalWidth,S.design.originalHeight,U);ue<=200&&re(S.id,{width:U,height:ue})}},className:"w-12 h-6 text-xs text-center border border-gray-300 rounded bg-white focus:ring-1 focus:ring-blue-400 focus:border-blue-400",min:"20",max:S.isTwoPart?"1000":"300"}),s.jsx("button",{onClick:()=>re(S.id,{width:Math.min(S.isTwoPart?1e3:300,S.width+10),height:qt(S.design.originalWidth,S.design.originalHeight,Math.min(S.isTwoPart?1e3:300,S.width+10))}),className:"w-6 h-6 bg-gray-200 hover:bg-green-100 text-gray-600 hover:text-green-600 rounded flex items-center justify-center transition-colors",children:"+"}),s.jsx("span",{className:"text-xs text-gray-500",children:"cm"}),s.jsxs("div",{className:"flex items-center space-x-1 ml-2 px-2 py-1 bg-gray-100 rounded",children:[s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Höhe:"}),s.jsx("span",{className:"text-xs font-bold text-gray-800",children:S.height}),s.jsx("span",{className:"text-xs text-gray-500",children:"cm"})]})]})]})}),s.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[s.jsxs("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-semibold mr-2",children:["€",S.price.toFixed(2)]}),s.jsx("button",{onClick:()=>re(S.id,{isWaterproof:!S.isWaterproof}),className:`p-1 rounded ${S.isWaterproof?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Wasserdicht",children:s.jsx(ai,{className:"h-3.5 w-3.5"})}),s.jsx("button",{onClick:()=>re(S.id,{hasUvPrint:!S.hasUvPrint}),className:`p-1 rounded ${S.hasUvPrint?"bg-purple-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"UV-Druck",children:s.jsx(sp,{className:"h-3.5 w-3.5"})}),s.jsx("button",{onClick:()=>n(S.id,!S.isEnabled),className:`p-1 rounded ml-1 ${S.isEnabled?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,title:S.isEnabled?"Ausblenden":"Einblenden",children:S.isEnabled?s.jsx(Sr,{className:"h-3.5 w-3.5"}):s.jsx(zn,{className:"h-3.5 w-3.5"})}),s.jsx("button",{onClick:()=>i(S.id),className:"p-1 text-red-600 hover:text-white hover:bg-red-500 rounded transition-colors",title:"Entfernen",children:s.jsx(gv,{className:"h-3.5 w-3.5"})})]})]})},S.id))})]})}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"bg-green-600 rounded-lg p-2",children:s.jsx($t,{className:"h-6 w-6 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Kalkulation"})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"space-y-4 mb-6",children:[x>=20&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Za,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-blue-800",children:"Aktuelle Versandoption"})]}),s.jsxs("div",{className:"bg-white rounded p-3 border border-blue-200",children:[x>=240?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-medium text-blue-800",children:t.customerPostalCode&&f.distance<=300?"Persönliche Lieferung":t.customerPostalCode&&f.distance>300?"Gütertransport (palettiert)":"Versandoption"}),s.jsx("span",{className:"font-bold text-blue-900",children:t.customerPostalCode?`€${j.toFixed(2)}`:"€0.00"})]}),t.customerPostalCode?s.jsx("div",{className:"text-xs text-blue-600",children:f.distance<=300?`Persönliche Lieferung nach ${f.cityName} (${f.distance} km)`:`Gütertransport nach ${f.cityName} (${f.distance} km)`}):s.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 rounded p-2",children:"ℹ️ Für Schilder ab 240cm benötigen wir Ihre PLZ zur Kostenberechnung"})]}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-blue-800",children:x<60?"DHL Klein (20-60cm)":x<100?"DHL Mittel (60-100cm)":x<120?"DHL Groß (100-120cm)":"Spedition (120-240cm)"}),s.jsxs("span",{className:"font-bold text-blue-900",children:["€",j.toFixed(2)]})]}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Längste Seite: ",x,"cm"]}),x<240&&t.customerPostalCode&&f.cityName&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Lieferung nach ",y?"Lädt...":f.cityName," (",t.customerPostalCode,")"]})]})]}),s.jsxs("div",{className:`flex items-center space-x-3 p-3 border-2 rounded-lg transition-all duration-300 cursor-pointer ${((R=t.selectedShipping)==null?void 0:R.type)==="pickup"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>{var S;((S=t.selectedShipping)==null?void 0:S.type)==="pickup"?e({selectedShipping:null}):e({selectedShipping:{type:"pickup",name:"Selbstabholung",price:0,description:"Kostenlose Abholung in 67433 Neustadt"}})},children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${(($=t.selectedShipping)==null?void 0:$.type)==="pickup"?"border-green-600 bg-green-600":"border-gray-400 bg-white"}`,children:((T=t.selectedShipping)==null?void 0:T.type)==="pickup"&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),s.jsx(Js,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-800",children:"Selbstabholung"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Kostenlos"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Cn,{className:"h-4 w-4 inline mr-1"}),"Postleitzahl"]}),s.jsx("input",{type:"text",placeholder:"z.B. 10115",value:a,onChange:S=>Z(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:5}),t.customerPostalCode&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y?"Lädt Stadtname...":f.cityName||`PLZ ${t.customerPostalCode}`," • ",f.distance," km"]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"space-y-3 mb-6 border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Preisübersicht"}),s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsxs("span",{children:["Schilder (",m.filter(S=>S.isEnabled).length,"):"]}),s.jsxs("span",{className:"font-semibold",children:["€",d.toFixed(2)]})]}),C>0&&s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{children:"Zusatzkosten:"}),s.jsxs("span",{className:"font-semibold",children:["€",C.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-700 border-t pt-3",children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{className:"font-semibold",children:["€",I.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{children:"MwSt. (19%):"}),s.jsxs("span",{className:"font-semibold",children:["€",D.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800 border-t pt-3",children:[s.jsx("span",{children:"Gesamtpreis:"}),s.jsxs("span",{className:"text-green-600",children:["€",O.toFixed(2)]})]})]})}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-3",children:s.jsxs("label",{className:"flex items-start space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:S=>h(S.target.checked),className:"w-4 h-4 text-green-600 focus:ring-green-500 rounded mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs text-gray-700 leading-tight",children:"Ich habe das Mock-up geprüft und bestätige, dass es meinen Vorgaben entspricht."}),s.jsxs("div",{className:"relative group",children:[s.jsx(Or,{className:"h-3 w-3 text-gray-400 hover:text-blue-600 cursor-help transition-colors"}),s.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-4 py-3 bg-gray-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 w-80 text-center",children:["Individuelle Neon-Schilder sind nach § 312g Abs. 2 Nr. 1 BGB vom Widerruf ausgeschlossen",s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),s.jsx("a",{href:"/widerrufsrecht",target:"_blank",className:"text-blue-600 hover:text-blue-800 text-xs underline transition-colors",children:"Widerrufsrecht"})]})]})}),s.jsx("div",{className:"space-y-3 mb-6",children:s.jsxs("button",{onClick:se,disabled:J||!u,className:`w-full font-bold py-4 rounded-lg transition duration-300 flex items-center justify-center space-x-3 ${J||!u?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 shadow-lg hover:shadow-xl"}`,children:[s.jsx($t,{className:"h-5 w-5"}),s.jsx("span",{children:J?"PLZ erforderlich für Bestellung":u?`Jetzt Bestellen - €${O.toFixed(2)}`:"Bestätigung erforderlich"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:s.jsx("div",{className:"text-center",children:s.jsx("img",{src:"/Pay Icons.png",alt:"Sichere Zahlungsmethoden - Visa, Mastercard, PayPal, SEPA",className:"mx-auto max-w-full h-auto w-full transform scale-125"})})})]})]})]})})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Zahlung abschließen"})]}),s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Wn,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Bestellübersicht"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Artikel (",m.filter(S=>S.isEnabled).length,")"]}),s.jsxs("span",{children:["€",d.toFixed(2)]})]}),j>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Versand"}),s.jsxs("span",{children:["€",j.toFixed(2)]})]}),N>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Installation"}),s.jsxs("span",{children:["€",N.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"MwSt. (19%)"}),s.jsxs("span",{children:["€",D.toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-1 mt-2 flex justify-between font-bold",children:[s.jsx("span",{children:"Gesamtpreis"}),s.jsxs("span",{children:["€",O.toFixed(2)]})]})]})]}),s.jsx(uu,{children:s.jsx(du,{amount:Math.round(O*100),onSuccess:V,onError:G,customerEmail:""})})]})})]})},Wb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ot(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class hu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Fb extends hu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uh extends hu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dh extends hu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jo||(Jo={}));var Bb=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};class Hb{constructor(e,{headers:r={},customFetch:n,region:i=Jo.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Wb(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Bb(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let c={},{region:o}=r;o||(o=this.region);const u=new URL(`${this.url}/${e}`);o&&o!=="any"&&(c["x-region"]=o,u.searchParams.set("forceFunctionRegion",o));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h}).catch(w=>{throw new Fb(w)}),d=m.headers.get("x-relay-error");if(d&&d==="true")throw new uh(m);if(!m.ok)throw new dh(m);let x=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield m.json():x==="application/octet-stream"?b=yield m.blob():x==="text/event-stream"?b=m:x==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof dh||i instanceof uh?i.context:void 0}}})}}var Ve={},mu={},Xa={},li={},el={},tl={},Vb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=Vb();const Kb=Bn.fetch,jp=Bn.fetch.bind(Bn),Np=Bn.Headers,Gb=Bn.Request,qb=Bn.Response,Zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Np,Request:Gb,Response:qb,default:jp,fetch:Kb},Symbol.toStringTag,{value:"Module"})),Jb=ng(Zn);var rl={};Object.defineProperty(rl,"__esModule",{value:!0});let Zb=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};rl.default=Zb;var kp=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tl,"__esModule",{value:!0});const Qb=kp(Jb),Yb=kp(rl);let Xb=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Qb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,o;let u=null,h=null,m=null,d=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=p:h=JSON.parse(p))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,d=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const w=await a.text();try{u=JSON.parse(w),Array.isArray(u)&&a.status===404&&(h=[],u=null,d=200,x="OK")}catch{a.status===404&&w===""?(d=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,d=200,x="OK"),u&&this.shouldThrowOnError)throw new Yb.default(u)}return{error:u,data:h,count:m,status:d,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,c,o;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};tl.default=Xb;var ew=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(el,"__esModule",{value:!0});const tw=ew(tl);let rw=class extends tw.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const o=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${o};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};el.default=rw;var nw=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(li,"__esModule",{value:!0});const sw=nw(el);let iw=class extends sw.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${l}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};li.default=iw;var aw=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xa,"__esModule",{value:!0});const cs=aw(li);let lw=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new cs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new cs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const o=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(o.length>0){const u=[...new Set(o)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new cs.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new cs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new cs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xa.default=lw;var nl={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.version=void 0;sl.version="0.0.0-automated";Object.defineProperty(nl,"__esModule",{value:!0});nl.DEFAULT_HEADERS=void 0;const ow=sl;nl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ow.version}`};var Sp=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mu,"__esModule",{value:!0});const cw=Sp(Xa),uw=Sp(li),dw=nl;let hw=class _p{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},dw.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new cw.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _p(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${e}`);let o;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",o=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new uw.default({method:l,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};mu.default=hw;var Qn=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const Pp=Qn(mu);Ve.PostgrestClient=Pp.default;const Ep=Qn(Xa);Ve.PostgrestQueryBuilder=Ep.default;const Cp=Qn(li);Ve.PostgrestFilterBuilder=Cp.default;const Tp=Qn(el);Ve.PostgrestTransformBuilder=Tp.default;const Ap=Qn(tl);Ve.PostgrestBuilder=Ap.default;const Ip=Qn(rl);Ve.PostgrestError=Ip.default;var mw=Ve.default={PostgrestClient:Pp.default,PostgrestQueryBuilder:Ep.default,PostgrestFilterBuilder:Cp.default,PostgrestTransformBuilder:Tp.default,PostgrestBuilder:Ap.default,PostgrestError:Ip.default};const{PostgrestClient:fw,PostgrestQueryBuilder:Cj,PostgrestFilterBuilder:Tj,PostgrestTransformBuilder:Aj,PostgrestBuilder:Ij,PostgrestError:Mj}=mw;class pw{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gw="2.15.1",xw=`realtime-js/${gw}`,yw="1.0.0",Zo=1e4,vw=1e3,bw=100;var Ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ps||(Ps={}));var Ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ne||(Ne={}));var Nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nt||(Nt={}));var Qo;(function(t){t.websocket="websocket"})(Qo||(Qo={}));var zr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zr||(zr={}));class ww{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(e.slice(l,l+i));l=l+i;const o=n.decode(e.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class Mp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const hh=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,l)=>(a[l]=jw(l,t,e,i),a),{})},jw=(t,e,r,n)=>{const i=e.find(c=>c.name===t),a=i==null?void 0:i.type,l=r[t];return a&&!n.includes(a)?Lp(a,l):Yo(l)},Lp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return _w(e,r)}switch(t){case ie.bool:return Nw(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return kw(e);case ie.json:case ie.jsonb:return Sw(e);case ie.timestamp:return Pw(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Yo(e);default:return Yo(e)}},Yo=t=>t,Nw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},_w=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const l=t.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Lp(e,c))}return t},Pw=t=>typeof t=="string"?t.replace(" ","T"):t,Rp=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Wl{constructor(e,r,n={},i=Zo){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mh||(mh={}));class Es{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,i,a,l),this.pendingDiffs.forEach(o=>{this.state=Es.syncDiff(this.state,o,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Es.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),l=this.transformState(r),c={},o={};return this.map(a,(u,h)=>{l[u]||(o[u]=h)}),this.map(l,(u,h)=>{const m=a[u];if(m){const d=h.map(y=>y.presence_ref),x=m.map(y=>y.presence_ref),b=h.filter(y=>x.indexOf(y.presence_ref)<0),w=m.filter(y=>d.indexOf(y.presence_ref)<0);b.length>0&&(c[u]=b),w.length>0&&(o[u]=w)}else c[u]=h}),this.syncDiff(a,{joins:c,leaves:o},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,o)=>{var u;const h=(u=e[c])!==null&&u!==void 0?u:[];if(e[c]=this.cloneDeep(o),h.length>0){const m=e[c].map(x=>x.presence_ref),d=h.filter(x=>m.indexOf(x.presence_ref)<0);e[c].unshift(...d)}n(c,h,o)}),this.map(l,(c,o)=>{let u=e[c];if(!u)return;const h=o.map(m=>m.presence_ref);u=u.filter(m=>h.indexOf(m.presence_ref)<0),e[c]=u,i(c,u,o),u.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fh||(fh={}));var Cs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cs||(Cs={}));var Bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class fu{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wl(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new Mp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Es(this),this.broadcastEndpointURL=Rp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,o=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Cs.PRESENCE]&&this.bindings[Cs.PRESENCE].length>0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:o,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(Bt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var x;if(this.socket.setAuth(),d===void 0){e==null||e(Bt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,y=[];for(let p=0;p<w;p++){const f=b[p],{filter:{event:g,schema:j,table:N,filter:P}}=f,C=d&&d[p];if(C&&C.event===g&&C.schema===j&&C.table===N&&C.filter===P)y.push(Object.assign(Object.assign({},f),{id:C.id}));else{this.unsubscribe(),this.state=Ne.errored,e==null||e(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Bt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ne.errored,e==null||e(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ne.joined&&e===Cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,o;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Wl(this,Nt.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wl(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const l=e.toLocaleLowerCase(),{close:c,error:o,leave:u,join:h}=Nt;if(n&&[c,o,u,h].indexOf(l)>=0&&n!==this._joinRef())return;let d=this._onMessage(l,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var b,w,y;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(w=x.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===l}).map(x=>x.callback(d,n)):(a=this.bindings[l])===null||a===void 0||a.filter(x=>{var b,w,y,p,f,g;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const j=x.id,N=(b=x.filter)===null||b===void 0?void 0:b.event;return j&&((w=r.ids)===null||w===void 0?void 0:w.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(f=(p=x==null?void 0:x.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof d=="object"&&"ids"in d){const b=d.data,{schema:w,table:y,commit_timestamp:p,type:f,errors:g}=b;d=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(b))}x.callback(d,n)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&fu.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nt.close,{},e)}_onError(e){this._on(Nt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hh(e.columns,e.old_record)),r}}const ph=()=>{},Li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ew=[1e3,2e3,5e3,1e4],Cw=1e4,Tw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Aw{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zo,this.transport=null,this.heartbeatIntervalMs=Li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ph,this.ref=0,this.reconnectTimer=null,this.logger=ph,this.conn=null,this.sendBuffer=[],this.serializer=new ww,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Ot(async()=>{const{default:c}=await Promise.resolve().then(()=>Zn);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Qo.websocket}`,this.httpEndpoint=Rp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yw}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ps.connecting:return zr.Connecting;case Ps.open:return zr.Open;case Ps.closing:return zr.Closing;default:return zr.Closed}}isConnected(){return this.connectionState()===zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new fu(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,l=()=>{this.encode(e,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Li.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:l}=r,c=l?`(${l})`:"",o=a.status||"";this.log("receive",`${o} ${n} ${i} ${c}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Tw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:xw};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Nt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,l,c,o,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Zo,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Li.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>Ew[h-1]||Cw,this.encode=(o=e==null?void 0:e.encode)!==null&&o!==void 0?o:(h,m)=>m(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class pu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Iw extends pu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xo extends pu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Mw=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};const Dp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ot(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Lw=()=>Mw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ot(()=>Promise.resolve().then(()=>Zn),void 0)).Response:Response}),ec=t=>{if(Array.isArray(t))return t.map(r=>ec(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=ec(n)}),e},Rw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var en=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};const Fl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dw=(t,e,r)=>en(void 0,void 0,void 0,function*(){const n=yield Lw();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new Iw(Fl(i),a,l))}).catch(i=>{e(new Xo(Fl(i),i))}):e(new Xo(Fl(t),t))}),$w=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(Rw(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function oi(t,e,r,n,i,a){return en(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(r,$w(e,n,i,a)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>Dw(o,c,n))})})}function Ca(t,e,r,n){return en(this,void 0,void 0,function*(){return oi(t,"GET",e,r,n)})}function Ht(t,e,r,n,i){return en(this,void 0,void 0,function*(){return oi(t,"POST",e,n,i,r)})}function tc(t,e,r,n,i){return en(this,void 0,void 0,function*(){return oi(t,"PUT",e,n,i,r)})}function Ow(t,e,r,n){return en(this,void 0,void 0,function*(){return oi(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $p(t,e,r,n,i){return en(this,void 0,void 0,function*(){return oi(t,"DELETE",e,n,i,r)})}var Be=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};const zw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uw{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Dp(i)}uploadOrUpdate(e,r,n,i){return Be(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},gh),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=yield(e=="PUT"?tc:Ht)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}upload(e,r,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Be(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:gh.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const m=yield tc(this.fetch,c.toString(),o,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(o){if(_e(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,r){return Be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new pu("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}update(e,r,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Be(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Be(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ht(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Be(this,void 0,void 0,function*(){try{const i=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}download(e,r){return Be(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Ca(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(_e(c))return{data:null,error:c};throw c}})}info(e){return Be(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ca(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ec(n),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}exists(e){return Be(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ow(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(_e(n)&&n instanceof Xo){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(e){return Be(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}list(e,r,n){return Be(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zw),r),{prefix:e||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ww="2.10.5",Fw={"X-Client-Info":`storage-js/${Ww}`};var rn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};class Bw{constructor(e,r={},n,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Fw),r),this.fetch=Dp(n)}listBuckets(){return rn(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return rn(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return rn(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}deleteBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}}class Hw extends Bw{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Uw(this.url,this.headers,e,this.fetch)}}const Vw="2.55.0";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const Kw={"X-Client-Info":`supabase-js-${gs}/${Vw}`},Gw={headers:Kw},qw={schema:"public"},Jw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zw={};var Qw=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};const Yw=t=>{let e;return t?e=t:typeof fetch>"u"?e=jp:e=fetch,(...r)=>e(...r)},Xw=()=>typeof Headers>"u"?Np:Headers,e1=(t,e,r)=>{const n=Yw(r),i=Xw();return(a,l)=>Qw(void 0,void 0,void 0,function*(){var c;const o=(c=yield e())!==null&&c!==void 0?c:t;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var t1=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};function r1(t){return t.endsWith("/")?t:t+"/"}function n1(t,e){var r,n;const{db:i,auth:a,realtime:l,global:c}=t,{db:o,auth:u,realtime:h,global:m}=e,d={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>t1(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Op="2.71.1",on=30*1e3,rc=3,Bl=rc*on,s1="http://localhost:9999",i1="supabase.auth.token",a1={"X-Client-Info":`gotrue-js/${Op}`},nc="X-Supabase-Api-Version",zp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o1=10*60*1e3;class gu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class c1 extends gu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function u1(t){return K(t)&&t.name==="AuthApiError"}class Up extends gu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Tr extends gu{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class ar extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d1(t){return K(t)&&t.name==="AuthSessionMissingError"}class Ri extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Di extends Tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $i extends Tr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h1(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class xh extends Tr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sc extends Tr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hl(t){return K(t)&&t.name==="AuthRetryableFetchError"}class yh extends Tr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ic extends Tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vh=` 	
\r=`.split(""),m1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vh.length;e+=1)t[vh[e].charCodeAt(0)]=-2;for(let e=0;e<Ta.length;e+=1)t[Ta[e].charCodeAt(0)]=e;return t})();function bh(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ta[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ta[n]),e.queuedBits-=6}}function Wp(t,e,r){const n=m1[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wh(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{g1(l,n,r)};for(let l=0;l<t.length;l+=1)Wp(t.charCodeAt(l),i,a);return e.join("")}function f1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function p1(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}f1(n,e)}}function g1(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function x1(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Wp(t.charCodeAt(i),r,n);return new Uint8Array(e)}function y1(t){const e=[];return p1(t,r=>e.push(r)),new Uint8Array(e)}function v1(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>bh(i,r,n)),bh(null,r,n),e.join("")}function b1(t){return Math.round(Date.now()/1e3)+t}function w1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},Fp=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function j1(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Bp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ot(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},N1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Mr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ir=async(t,e)=>{await t.removeItem(e)};class il{constructor(){this.promise=new il.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}il.promiseConstructor=Promise;function Vl(t){const e=t.split(".");if(e.length!==3)throw new ic("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!l1.test(e[n]))throw new ic("JWT not in base64url format");return{header:JSON.parse(wh(e[0])),payload:JSON.parse(wh(e[1])),signature:x1(e[2]),raw:{header:e[0],payload:e[1]}}}async function k1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function S1(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){n(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function _1(t){return("0"+t.toString(16)).substr(-2)}function P1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,_1).join("")}async function E1(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function C1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await E1(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nn(t,e,r=!1){const n=P1();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await cn(t,`${e}-code-verifier`,i);const a=await C1(n);return[a,n===a?"plain":"s256"]}const T1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A1(t){const e=t.headers.get(nc);if(!e||!e.match(T1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function I1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function M1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const L1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sn(t){if(!L1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jh(t){return JSON.parse(JSON.stringify(t))}var R1=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Dr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),D1=[502,503,504];async function Nh(t){var e;if(!N1(t))throw new sc(Dr(t),0);if(D1.includes(t.status))throw new sc(Dr(t),t.status);let r;try{r=await t.json()}catch(a){throw new Up(Dr(a),a)}let n;const i=A1(t);if(i&&i.getTime()>=zp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yh(Dr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ar}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new yh(Dr(r),t.status,r.weak_password.reasons);throw new c1(Dr(r),t.status||500,n)}const $1=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Q(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[nc]||(a[nc]=zp["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await O1(t,e,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function O1(t,e,r,n,i,a){const l=$1(e,n,i,a);let c;try{c=await t(r,Object.assign({},l))}catch(o){throw console.error(o),new sc(Dr(o),0)}if(c.ok||await Nh(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await Nh(o)}}function Wt(t){var e;let r=null;F1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=b1(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function kh(t){const e=Wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function dr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function z1(t){return{data:t,error:null}}function U1(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,l=R1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function W1(t){return t}function F1(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gl=["global","local","others"];var B1=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class H1{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Bp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Gl[0]){if(Gl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gl.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:dr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=B1(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:U1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},h=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:W1});if(h.error)throw h.error;const m=await h.json(),d=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(o=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return x.length>0&&(x.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){sn(e);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){sn(e);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:dr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){sn(e);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:dr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){sn(e.userId);try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(e){sn(e.userId),sn(e.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}function Sh(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function V1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const an={debug:!!(globalThis&&Fp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class K1 extends Hp{}async function G1(t,e,r){an.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),an.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){an.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{an.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw an.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new K1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(an.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}V1();const q1={url:s1,storageKey:i1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _h(t,e,r){return await r()}const ln={};class Ys{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ys.nextInstanceID,Ys.nextInstanceID+=1,this.instanceID>0&&bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},q1),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new H1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bp(i.fetch),this.lock=i.lock||_h,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=G1:this.lock=_h,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Fp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=ln[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ln[this.storageKey]=Object.assign(Object.assign({},ln[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ln[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ln[this.storageKey]=Object.assign(Object.assign({},ln[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Op}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=j1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),bt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),h1(a)){const o=(e=a.details)===null||e===void 0?void 0:e.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new Up("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Wt}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:h,password:m,options:d}=e;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await nn(this.storage,this.storageKey)),a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:m,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:x,code_challenge_method:b},xform:Wt})}else if("phone"in e){const{phone:h,password:m,options:d}=e;a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Wt})}else throw new Di("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:l,options:c}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:kh})}else if("phone"in e){const{phone:a,password:l,options:c}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:kh})}else throw new Di("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ri}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,l,c,o,u,h,m,d,x;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:y,wallet:p,statement:f,options:g}=e;let j;if(bt())if(typeof p=="object")j=p;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))j=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const P=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),f?{statement:f}:null));let C;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")C=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)C=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((m=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const P=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:y,error:p}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:v1(w)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Wt});if(p)throw p;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ri}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:p})}catch(y){if(K(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const r=await Mr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Wt});if(await ir(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ri}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(K(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=e,c=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wt}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ri}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,l;try{if("email"in e){const{email:c,options:o}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await nn(this.storage,this.storageKey));const{error:m}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:c,options:o}=e,{data:u,error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Di("You must provide either an email or phone number.")}catch(c){if(K(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Wt});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await nn(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:z1})}catch(a){if(K(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ar;const{error:i}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:l}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:l,error:c}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Di("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Bl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Mr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Kl()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(o,u,h)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,h))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dr}):await this._useSession(async r=>{var n,i,a;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:dr})})}catch(r){if(K(r))return d1(r)&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ar;const l=i.session;let c=null,o=null;this.flowType==="pkce"&&e.email!=null&&([c,o]=await nn(this.storage,this.storageKey));const{data:u,error:h}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:dr});if(h)throw h;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ar;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=Vl(e.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:c,error:o}=await this._callRefreshToken(e.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:o}=await this._getUser(e.access_token);if(o)throw o;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:c}=r;if(c)throw c;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ar;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!bt())throw new $i("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $i(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $i("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xh("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=e;if(!a||!c||!l||!u)throw new $i("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(c);let d=h+m;o&&(d=parseInt(o));const x=d-h;x*1e3<=on&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const b=d-m;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,d,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,d,h);const{data:w,error:y}=await this._getUser(a);if(y)throw y;const p={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:d,refresh_token:l,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Mr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(u1(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=w1(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await nn(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(K(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,c,o,u,h;const{data:m,error:d}=a;if(d)throw d;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await S1(async i=>(i>0&&await k1(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Hl(a)&&Date.now()+l-n<on})}catch(n){if(this._debug(r,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Mr(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await cn(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Kl()}else if(i&&!i.user&&!i.user){const l=await Mr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await ir(this.storage,this.storageKey+"-user"),await cn(this.storage,this.storageKey,i)):i.user=Kl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bl;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Bl}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Hl(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new il;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new ar;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),K(a)){const l={session:null,error:a};return Hl(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(o){a.push(o)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=jh(i);await cn(this.storage,this.storageKey,a)}else{const i=jh(r);await cn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ir(this.storage,this.storageKey),await ir(this.storage,this.storageKey+"-code-verifier"),await ir(this.storage,this.storageKey+"-user"),this.userStorage&&await ir(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),on);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/on);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${on}ms, refresh threshold is ${rc} ticks`),i<=rc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await nn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:c}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Vl(i.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+o1>i)return n;const{data:a,error:l}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return{data:null,error:b};n=x.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:o}}=Vl(n);r!=null&&r.allowExpired||I1(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:i,signature:l},error:null}}const h=M1(i.alg),m=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,y1(`${c}.${o}`)))throw new ic("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}Ys.nextInstanceID=0;const J1=Ys;class Z1 extends J1{constructor(e){super(e)}}var Q1=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(h){try{u(n.next(h))}catch(m){l(m)}}function o(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):i(h.value).then(c,o)}u((n=n.apply(t,e||[])).next())})};class Y1{constructor(e,r,n){var i,a,l;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=r1(e),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:qw,realtime:Zw,auth:Object.assign(Object.assign({},Jw),{storageKey:u}),global:Gw},m=n1(n??{},h);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(d,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=e1(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new fw(new URL("rest/v1",o).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Hw(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Hb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Q1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:l,lock:c,debug:o},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z1({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:c,debug:o,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Aw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vp=(t,e,r)=>new Y1(t,e,r);function X1(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}X1()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ej="https://igffjtzypcgfbytxtgnq.supabase.co",tj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZmZqdHp5cGNnZmJ5dHh0Z25xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODgzNTgsImV4cCI6MjA3MTU2NDM1OH0.MlP7l_foSI30OjfKZmD-tms5cABOHR8KHpLCevo8c-c",rj=()=>Vp(ej,tj,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),$r=rj(),ci=Object.freeze(Object.defineProperty({__proto__:null,supabase:$r},Symbol.toStringTag,{value:"Module"}));class nj{constructor(){this.cache=new Map,this.cacheExpiry=0,this.CACHE_DURATION=5*60*1e3}async syncWithMonday(){try{console.log("🔄 Starting Monday.com sync...");const n=await fetch("https://igffjtzypcgfbytxtgnq.supabase.co/functions/v1/client-sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZmZqdHp5cGNnZmJ5dHh0Z25xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODgzNTgsImV4cCI6MjA3MTU2NDM1OH0.MlP7l_foSI30OjfKZmD-tms5cABOHR8KHpLCevo8c-c"}});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const i=await n.json();if(!i.success)throw new Error(i.error||"Unknown sync error");return this.cache.clear(),this.cacheExpiry=0,{success:!0,message:`✅ Синхронизировано ${i.clientsUpdated||0} клиентов из Monday.com`}}catch(e){return console.error("❌ Error syncing with Monday.com:",e),{success:!1,message:`❌ Ошибка синхронизации: ${e instanceof Error?e.message:"Неизвестная ошибка"}`}}}async getAllProjects(){try{const{data:e,error:r}=await $r.from("crm_projects").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching CRM projects:",r),this.getFallbackData()):e.map(this.mapSupabaseToProject)}catch(e){return console.error("CRM fetch error:",e),this.getFallbackData()}}async getProject(e){try{const{data:r,error:n}=await $r.from("crm_projects").select("*").eq("project_id",e).single();return n||!r?(console.error("Error fetching project:",n),null):this.mapSupabaseToProject(r)}catch(r){return console.error("Error fetching project:",r),null}}async createProject(e){try{const r=this.generateProjectId(),{error:n}=await $r.from("crm_projects").insert({project_id:r,client_email:e.clientEmail,client_name:e.clientName,design_name:e.designName,svg_content:e.svgContent,svg_url:e.svgUrl,notes:e.notes,status:e.status||"draft",expires_at:e.expiresAt});if(n)throw console.error("Error creating project:",n),new Error("Failed to create project");return r}catch(r){throw console.error("Error creating project:",r),r}}async updateProjectStatus(e,r){try{const{error:n}=await $r.from("crm_projects").update({status:r,updated_at:new Date().toISOString()}).eq("project_id",e);return n?(console.error("Error updating project status:",n),!1):!0}catch(n){return console.error("Error updating project status:",n),!1}}async logInteraction(e,r,n){try{const{error:i}=await $r.from("client_interactions").insert({project_id:e,interaction_type:r,ip_address:n==null?void 0:n.ipAddress,user_agent:navigator.userAgent,metadata:n});i&&console.error("Error logging interaction:",i)}catch(i){console.error("Error logging interaction:",i)}}async getProjectInteractions(e){try{const{data:r,error:n}=await $r.from("client_interactions").select("*").eq("project_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching interactions:",n),[]):r.map(i=>({id:i.id,projectId:i.project_id,interactionType:i.interaction_type,ipAddress:i.ip_address,userAgent:i.user_agent,metadata:i.metadata,createdAt:i.created_at}))}catch(r){return console.error("Error fetching interactions:",r),[]}}generateClientLink(e){return`${window.location.origin}/client/${e}`}generateProjectId(){const e=Date.now().toString(36),r=Math.random().toString(36).substr(2,5);return`CRM-${e}-${r}`.toUpperCase()}async sendClientEmail(e,r){try{return await this.logInteraction(e,"email_sent",{clientEmail:r,timestamp:new Date().toISOString()}),await this.updateProjectStatus(e,"sent"),console.log(`Email sent to ${r} for project ${e}`),!0}catch(n){return console.error("Error sending email:",n),!1}}mapSupabaseToProject(e){return{projectId:e.project_id,clientEmail:e.client_email,clientName:e.client_name,designName:e.design_name,svgContent:e.svg_content,svgUrl:e.svg_url,notes:e.notes,createdAt:e.created_at,expiresAt:e.expires_at,status:e.status}}getFallbackData(){return[{projectId:"CRM-001",clientEmail:"kunde@example.com",clientName:"Max Mustermann",designName:"Cafe Berlin Neon",svgContent:`<svg viewBox="0 0 400 100" xmlns="http://www.w3.org/2000/svg">
          <text x="20" y="50" fill="#00ff00" font-family="Arial" font-size="30">CAFE BERLIN</text>
        </svg>`,notes:"Erstes Design für Cafe Berlin",createdAt:new Date().toISOString(),status:"sent"},{projectId:"CRM-002",clientEmail:"info@restaurant-luna.de",clientName:"Restaurant Luna",designName:"Luna Restaurant Sign",svgContent:`<svg viewBox="0 0 300 80" xmlns="http://www.w3.org/2000/svg">
          <text x="10" y="50" fill="#4488ff" font-family="serif" font-size="32">LUNA</text>
        </svg>`,notes:"Blaue Neonfarbe, elegante Schrift",createdAt:new Date().toISOString(),status:"viewed"}]}convertToNeonDesign(e){return{id:e.projectId,name:e.designName,originalWidth:400,originalHeight:100,elements:1,ledLength:3,mockupUrl:e.svgUrl||"",description:e.notes||`Custom design for ${e.clientName}`,svgContent:e.svgContent||`<svg viewBox="0 0 400 100" xmlns="http://www.w3.org/2000/svg">
        <text x="20" y="60" fill="#00ff00" font-family="Arial" font-size="36">${e.clientName}</text>
      </svg>`,svgUrl:e.svgUrl,hasCustomSvg:!!e.svgContent,expiresAt:e.expiresAt,createdAt:e.createdAt}}}const hr=new nj,sj=({configuration:t,selectedDesign:e,onConfigurationChange:r})=>{if(!e)return s.jsx("div",{className:"bg-gray-800 rounded-xl p-6",children:s.jsx("div",{className:"text-gray-400",children:"Design wird geladen..."})});const n=Mv(t),i=Math.floor(200*e.originalWidth/e.originalHeight),a=t.isTwoPart?1e3:Math.min(300,i),l=o=>{const u=qt(e.originalWidth,e.originalHeight,o);!t.isTwoPart&&u>200||r({customWidth:o,calculatedHeight:u})},c=o=>{if(!o&&t.customWidth>300){const u=Math.min(t.customWidth,i),h=qt(e.originalWidth,e.originalHeight,u);r({customWidth:u,calculatedHeight:h,isTwoPart:o})}else r({isTwoPart:o})};return s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(kv,{className:"w-6 h-6 mr-2"}),"Konfiguration"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium",children:[s.jsx(ip,{className:"w-4 h-4 mr-2"}),"Breite"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"range",min:"10",max:a,step:"1",value:t.customWidth,onChange:o=>l(parseInt(o.target.value)),className:"w-32"}),s.jsx("input",{type:"number",min:"10",max:a,value:t.customWidth,onChange:o=>l(parseInt(o.target.value)),className:"w-20 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-sm"}),s.jsx("span",{children:t.isTwoPart?"10m":"3m"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium",children:[s.jsx(ap,{className:"w-4 h-4 mr-2"}),"Höhe (berechnet)"]}),s.jsxs("span",{className:"text-lg md:text-lg font-bold text-gray-800",children:[t.calculatedHeight," cm"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium",children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Mehrteilig (über 3m)"]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.isTwoPart||!1,onChange:o=>c(o.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.isTwoPart&&s.jsxs("div",{className:"text-xs text-yellow-400 bg-yellow-400/10 p-2 rounded",children:[s.jsx(Or,{className:"w-4 h-4 inline mr-1"}),"Mehrteilige Schilder haben einen Aufpreis von 15% und längere Lieferzeiten."]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium",children:[s.jsx(ai,{className:"w-4 h-4 mr-2"}),"Elemente"]}),s.jsx("div",{className:"text-base md:text-lg font-bold text-blue-600",children:e.elements})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"LED-Länge"}),s.jsxs("div",{className:"text-sm text-gray-400",children:[Qs(e.originalWidth,e.originalHeight,e.ledLength,t.customWidth,t.calculatedHeight).toFixed(1),"m"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"Stromverbrauch"}),s.jsxs("div",{className:"text-sm text-gray-400",children:[Math.round(Qs(e.originalWidth,e.originalHeight,e.ledLength,t.customWidth,t.calculatedHeight)*12),"W"]})]}),n.length>0&&s.jsx("div",{className:"space-y-2",children:n.map((o,u)=>s.jsx("div",{className:"text-red-400 text-sm bg-red-400/10 p-2 rounded",children:o},u))})]})]})};let jn=null,ql=0;const ij=5*60*1e3,Kp=async()=>{var t,e;try{const r=Date.now();if(jn&&r-ql<ij)return jn;const n=await ut.getAllPrices(),i={acrylglas:45,led:8,controller:((t=n.get("controller"))==null?void 0:t.value)||25,uvPrint:((e=n.get("uv_print"))==null?void 0:e.value)||50,packaging:8,elementCost:25};return jn=i,ql=r,i}catch(r){console.warn("Using fallback pricing due to error:",r);const n={acrylglas:45,led:8,controller:25,uvPrint:50,packaging:8,elementCost:25};return jn=n,ql=Date.now(),n}},aj=()=>jn||(Kp().catch(console.warn),{acrylglas:45,led:8,controller:25,uvPrint:50,packaging:8,elementCost:25}),Jl=[{minWatt:0,maxWatt:30,price:8},{minWatt:31,maxWatt:60,price:15},{minWatt:61,maxWatt:100,price:25},{minWatt:101,maxWatt:150,price:35},{minWatt:151,maxWatt:200,price:50},{minWatt:201,maxWatt:300,price:75},{minWatt:301,maxWatt:500,price:120},{minWatt:501,maxWatt:750,price:160},{minWatt:751,maxWatt:1e3,price:200}];function lj(t,e,r){const n=r/e;return Math.round(t*n*10)/10}function oj(t){return Math.round(t*12)}function cj(t){const e=Jl.find(r=>t>=r.minWatt&&t<=r.maxWatt);return e?e.price:Jl[Jl.length-1].price}function uj(t,e){return t*e/1e4}function Ph(t,e,r,n=!1,i=!1,a=!1,l=!1,c=!1){if(!t)return 0;const o=aj(),u=uj(e,r),h=lj(t.ledLength,t.originalWidth,e),m=oj(h),d=u*o.acrylglas,x=a?u*o.uvPrint:0,b=h*o.led,w=t.elements*o.elementCost,y=u*o.packaging,p=cj(m),f=l?35:0,g=d+x+b+w+y+p,j=(u*.9+t.elements*.08)*35,N=n?g*.25:0,P=i?g*.15:0,C=c?g*.3:0,I=g*.3,D=g+j+f+N+P+C+I;return Math.round(D*100)/100}Kp().catch(console.warn);const dj=({config:t,onRemoveSign:e,onGoToCart:r})=>{var G,se,Z,re;const[n,i]=q.useState(!1),a=Ph(t.selectedDesign,t.customWidth,t.calculatedHeight,t.isWaterproof,t.isTwoPart||!1,t.hasUvPrint,t.hasHangingSystem||!1,t.expressProduction||!1),[l,c]=q.useState(!1),[o,u]=q.useState("");q.useState(!1);const[h,m]=q.useState(!1),[d,x]=q.useState(null),b=((G=t.signs)==null?void 0:G.map(k=>({...k,price:Ph(k.design,k.width,k.height,k.isWaterproof,k.isTwoPart,k.hasUvPrint,k.hasHangingSystem||!1,k.expressProduction||!1)})))||[],w=((se=t.signs)==null?void 0:se.some(k=>k.design.id===t.selectedDesign.id))||!1,y=b.filter(k=>k.isEnabled).reduce((k,E)=>k+E.price,0)+(w?0:a);console.log("💰 Total calculation:",{signPricesCount:b.length,enabledSigns:b.filter(k=>k.isEnabled).length,enabledSignsTotal:y,currentDesignPrice:a,isCurrentDesignInList:w});const p=Math.max(t.customWidth,t.calculatedHeight),f=t.customerPostalCode?Ye("67433",t.customerPostalCode):{distance:0,cityName:""},g=_s(p,f.distance||void 0),j=((Z=t.selectedShipping)==null?void 0:Z.type)==="pickup"||t.includesInstallation?0:g.cost;let N=0;if(t.includesInstallation&&t.customerPostalCode&&/^\d{5}$/.test(t.customerPostalCode)){const k=Qa(t.customWidth,t.calculatedHeight);N=De.calculateInstallationCost(k,t.customerPostalCode)}const P=0,C=N+j+P,I=y+C,D=I*.19,O=I+D;(()=>{const k=[];return k.push({type:"pickup",name:"Selbstabholung",price:0,description:"Kostenlose Abholung in 67433 Neustadt",selectable:!0}),g.requiresPostalCode&&!t.customerPostalCode?k.push({type:"postal-input",name:g.description,price:g.cost,description:"Längste Seite ab 250cm",selectable:!1}):k.push({type:"automatic",name:`${g.method} - €${g.cost}`,price:g.cost,description:`${g.description} - ${g.days}`,selectable:!1}),k})();const V=()=>{o&&/^\d{5}$/.test(o)&&(x({distance:0,cityName:"Berechne...",travelTime:"Lädt...",postalCode:o,isRealData:!1}),m(!0),Iv(o,"67433").then(k=>{var T;const E=Math.floor(k.duration/60),R=k.duration%60,$=E>0?`${E}h ${R}min`:`${R}min`;x({distance:k.distance,cityName:k.cityName,travelTime:$,postalCode:o,isRealData:!0,route:k.route}),(T=t.onConfigChange)==null||T.call(t,{customerPostalCode:o})}).catch(k=>{var ce;console.error("Real distance failed, using fallback:",k);const E=Ye("67433",o),R=Math.round(E.distance*1.2),$=Math.floor(R/60),T=R%60,S=$>0?`${$}h ${T}min`:`${T}min`;x({distance:E.distance,cityName:E.cityName,travelTime:S,postalCode:o,isRealData:!1}),(ce=t.onConfigChange)==null||ce.call(t,{customerPostalCode:o})}),u(""))};return q.useEffect(()=>{var k;if(g.requiresPostalCode&&t.customerPostalCode&&!t.includesInstallation){Ye("67433",t.customerPostalCode).distance;const E=_s(p);(k=t.onShippingChange)==null||k.call(t,{type:"automatic",name:`${E.method} - €${E.cost}`,price:E.cost,description:E.description})}},[t.customerPostalCode,p,g.requiresPostalCode,t.includesInstallation]),q.useEffect(()=>{var k,E;if(!t.includesInstallation&&t.selectedShipping){t.customerPostalCode&&Ye("67433",t.customerPostalCode).distance;const R=_s(p);p<240&&t.selectedShipping.type==="automatic"?(k=t.onShippingChange)==null||k.call(t,null):t.selectedShipping.type!=="pickup"&&p>=240&&((E=t.onShippingChange)==null||E.call(t,{type:"automatic",name:`${R.method} - €${R.cost}`,price:R.cost,description:R.description}))}},[t.customWidth,t.calculatedHeight,p,t.includesInstallation,t.customerPostalCode]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-xl p-4 lg:p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 mb-4 lg:mb-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg p-2",children:s.jsx(fs,{className:"h-5 lg:h-6 w-5 lg:w-6 text-white"})}),s.jsx("h2",{className:"text-lg lg:text-xl font-bold text-gray-800",children:"Preiskalkulation"}),b.length>0&&s.jsx("div",{className:"ml-auto",children:s.jsxs("button",{onClick:()=>i(!0),className:"relative bg-blue-600 hover:bg-blue-700 text-white p-2 lg:p-3 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl active:scale-95",children:[s.jsx(Tn,{className:"h-5 lg:h-6 w-5 lg:w-6"}),s.jsx("div",{className:"absolute -top-1 lg:-top-2 -right-1 lg:-right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 lg:h-6 w-5 lg:w-6 flex items-center justify-center",children:b.filter(k=>k.isEnabled).length})]})})]}),s.jsxs("div",{className:"mb-4 lg:mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Js,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"text-sm lg:text-base font-semibold text-gray-800",children:"Selbstabholung"})]}),s.jsxs("div",{className:`flex items-center space-x-3 p-3 border-2 rounded-lg transition-all duration-300 cursor-pointer ${t.includesInstallation?"border-gray-200 bg-gray-100 cursor-not-allowed opacity-50":t.selectedShipping&&t.selectedShipping.type==="pickup"?"border-green-500 bg-green-50":"border-gray-200 lg:hover:border-gray-300 lg:hover:bg-gray-50"}`,onClick:()=>{var k,E;t.includesInstallation||(t.selectedShipping&&t.selectedShipping.type==="pickup"?(k=t.onShippingChange)==null||k.call(t,null):(E=t.onShippingChange)==null||E.call(t,{type:"pickup",name:"Selbstabholung",price:0,description:"Kostenlose Abholung in 67433 Neustadt"}))},children:[s.jsx("div",{className:`w-5 lg:w-4 h-5 lg:h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${t.includesInstallation?"border-gray-300 bg-gray-200":t.selectedShipping&&t.selectedShipping.type==="pickup"?"border-green-600 bg-green-600":"border-gray-400 bg-white"}`,children:!t.includesInstallation&&t.selectedShipping&&t.selectedShipping.type==="pickup"&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),s.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${t.includesInstallation?"bg-gray-200 text-gray-400":t.selectedShipping&&t.selectedShipping.type==="pickup"?"bg-green-500 text-white":"bg-gray-100 text-gray-600"}`,children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-800 text-sm truncate pr-2",children:"Selbstabholung"}),s.jsx("span",{className:"font-bold text-sm text-gray-800 flex-shrink-0",children:"Kostenlos"})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1 leading-relaxed",children:"Kostenlose Abholung in 67433 Neustadt"}),s.jsx("button",{onClick:k=>{k.stopPropagation(),c(!0)},className:"mt-2 w-full px-3 py-2 lg:py-1.5 text-xs bg-blue-100 text-blue-700 rounded-md lg:hover:bg-blue-200 transition-colors",children:"Wie weit von mir?"})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 w-full max-w-md mx-auto max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Cn,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-800",children:"Postleitzahl eingeben"})]}),h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-base lg:text-lg font-semibold text-gray-800",children:"Route berechnet"}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${d!=null&&d.isRealData?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:d!=null&&d.isRealData?"🗺️ Echte Daten":"📍 Geschätzt"})]}),s.jsxs("div",{className:`border rounded-lg p-3 ${d!=null&&d.isRealData?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 space-y-1 sm:space-y-0",children:[s.jsxs("span",{className:`font-medium ${d!=null&&d.isRealData?"text-green-800":"text-blue-800"} truncate`,children:["Von: ",d==null?void 0:d.cityName," (",d==null?void 0:d.postalCode,")"]}),s.jsxs("span",{className:`text-sm ${d!=null&&d.isRealData?"text-green-600":"text-blue-600"} font-medium`,children:[d==null?void 0:d.distance," km"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 space-y-1 sm:space-y-0",children:[s.jsx("span",{className:`font-medium ${d!=null&&d.isRealData?"text-green-800":"text-blue-800"} truncate`,children:"Nach: Neustadt a.d. Weinstraße (67433)"}),s.jsxs("span",{className:`text-sm ${d!=null&&d.isRealData?"text-green-600":"text-blue-600"} font-medium`,children:["≈ ",d==null?void 0:d.travelTime]})]}),s.jsx("p",{className:`text-sm ${d!=null&&d.isRealData?"text-green-700":"text-blue-700"}`,children:"Hermann-Wehrle-Str. 10"}),(d==null?void 0:d.isRealData)&&s.jsx("p",{className:"text-xs text-green-600 mt-2 font-medium",children:"✓ Berechnet über OpenStreetMap Routing"})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:`rounded-lg p-4 lg:p-6 min-h-[180px] lg:min-h-[200px] flex flex-col items-center justify-center border-2 border-dashed ${d!=null&&d.isRealData?"bg-gradient-to-br from-green-100 to-emerald-100 border-green-300":"bg-gradient-to-br from-blue-100 to-indigo-100 border-blue-300"}`,children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx(Cn,{className:`h-12 w-12 mx-auto mb-2 ${d!=null&&d.isRealData?"text-green-600":"text-blue-600"}`}),s.jsx("h5",{className:"text-base lg:text-lg font-semibold text-gray-800",children:"Routenübersicht"}),(d==null?void 0:d.cityName)==="Berechne..."&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Berechne echte Route..."})]})]}),(d==null?void 0:d.cityName)!=="Berechne..."&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4 w-full max-w-sm",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mb-1"}),s.jsx("span",{className:"text-xs text-gray-600 text-center truncate max-w-[60px]",children:d==null?void 0:d.cityName}),s.jsx("span",{className:"text-xs text-gray-500",children:d==null?void 0:d.postalCode})]}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:`h-0.5 w-full ${d!=null&&d.isRealData?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-green-500 to-blue-500"}`}),s.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white px-1 lg:px-2 py-1 rounded text-xs font-medium text-gray-700 border whitespace-nowrap",children:[d==null?void 0:d.distance," km"]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-4 h-4 rounded-full mb-1 ${d!=null&&d.isRealData?"bg-emerald-500":"bg-blue-500"}`}),s.jsx("span",{className:"text-xs text-gray-600 text-center truncate max-w-[60px]",children:"Neustadt"}),s.jsx("span",{className:"text-xs text-gray-500",children:"67433"})]})]}),s.jsx("div",{className:"mt-4 bg-white rounded-lg px-4 py-2 border",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${d!=null&&d.isRealData?"bg-green-500":"bg-orange-500"}`}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[d!=null&&d.isRealData?"Fahrzeit":"Geschätzte Fahrzeit",": ",d==null?void 0:d.travelTime]})]})})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsx("button",{onClick:()=>{m(!1),x(null)},className:"flex-1 py-3 bg-gray-300 text-gray-700 rounded-lg lg:hover:bg-gray-400 transition-colors",children:"Neue PLZ"}),s.jsx("button",{onClick:()=>{c(!1),m(!1),u("")},className:"flex-1 py-3 bg-blue-600 text-white rounded-lg lg:hover:bg-blue-700 transition-colors",children:"Schließen"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed",children:"Geben Sie Ihre Postleitzahl ein, um die Entfernung und Kosten zu berechnen."}),s.jsx("input",{type:"text",placeholder:"z.B. 10115",value:o,onChange:k=>u(k.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-lg mb-4",maxLength:5,onKeyPress:k=>{k.key==="Enter"&&V()}}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsx("button",{onClick:V,disabled:!o||!/^\d{5}$/.test(o),className:"flex-1 py-3 bg-blue-600 text-white rounded-lg lg:hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Berechnen"}),s.jsx("button",{onClick:()=>{c(!1),u("")},className:"flex-1 py-3 bg-gray-300 text-gray-700 rounded-lg lg:hover:bg-gray-400 transition-colors",children:"Abbrechen"})]})]})]})})]}),b.filter(k=>k.isEnabled).length>0&&!t.includesInstallation&&s.jsxs("div",{className:"mb-4 lg:mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Za,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-sm lg:text-base font-semibold text-gray-800",children:"Versandkosten-Information"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 lg:p-4",children:[g.requiresPostalCode&&!t.customerPostalCode?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-blue-800 font-medium text-sm lg:text-base",children:"PLZ erforderlich: €0"}),s.jsx("span",{className:"text-blue-600 text-sm",children:"()"})]}),s.jsxs("p",{className:"text-blue-700 text-sm mb-3 leading-relaxed",children:["Längste Seite: ",p,"cm (≥240cm) → Postleitzahl eingeben für Kostenberechnung"]}),s.jsx("button",{onClick:()=>c(!0),className:"w-full py-3 bg-blue-600 text-white rounded-lg lg:hover:bg-blue-700 transition-colors",children:"Postleitzahl eingeben"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-blue-800 font-medium text-sm lg:text-base truncate pr-2",children:[g.method,": €",g.cost]}),s.jsxs("span",{className:"text-blue-600 text-sm",children:["(",g.days,")"]})]}),s.jsxs("p",{className:"text-blue-700 text-sm leading-relaxed",children:["Längste Seite: ",p,"cm → ",g.description]}),t.customerPostalCode&&s.jsxs("div",{className:"mt-3 bg-white rounded-lg p-3 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cn,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Lieferadresse:"})]}),s.jsx("button",{onClick:()=>c(!0),className:"text-xs text-blue-600 lg:hover:text-blue-800 underline",children:"Ändern"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-1 sm:space-y-0",children:[s.jsxs("div",{className:"text-sm text-gray-800",children:[s.jsx("span",{className:"font-medium",children:f.cityName}),s.jsxs("span",{className:"text-gray-500 ml-1",children:["(",t.customerPostalCode,")"]})]}),s.jsxs("div",{className:"text-sm font-medium text-blue-600",children:[f.distance," km"]})]})]})]}),((re=t.selectedShipping)==null?void 0:re.type)==="pickup"&&s.jsx("p",{className:"text-green-700 text-sm font-medium mt-2",children:"✓ Bei Selbstabholung entfallen die Versandkosten"})]})]}),(t.isWaterproof||N>0||j>0||P>0)&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm lg:text-base font-semibold text-gray-800 mb-3",children:"Zusatzkosten"}),s.jsxs("div",{className:"space-y-2 bg-gray-50 rounded-lg p-3",children:[t.isWaterproof&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Wasserdicht (IP65)"}),s.jsx("div",{className:"text-sm text-gray-500",children:"+25% Aufpreis"})]}),s.jsxs("span",{className:"font-semibold text-gray-800 text-sm lg:text-base",children:["€",(y*.25).toFixed(2)]})]}),P>0,N>0&&t.customerPostalCode&&/^\d{5}$/.test(t.customerPostalCode)&&s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Montage-Service"}),s.jsxs("div",{className:"text-sm text-gray-500 leading-relaxed",children:["Montage + Anfahrt",s.jsxs("span",{className:"font-medium text-blue-600",children:[" ","(",f.distance," km)"]})]})]}),s.jsxs("span",{className:"font-semibold text-gray-800 text-sm lg:text-base",children:["€",N.toFixed(2)]})]}),j>0&&s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Versand"}),s.jsxs("div",{className:"text-sm text-gray-500 leading-relaxed",children:[g.method==="Lokale Zustellung"?`Lokale Zustellung (${f.distance} km × €3,00)`:g.method,t.customerPostalCode&&g.requiresPostalCode&&s.jsxs("span",{className:"font-medium text-blue-600",children:[" ","(",f.distance," km)"]})]})]}),s.jsxs("span",{className:"font-semibold text-gray-800 text-sm lg:text-base",children:["€",j.toFixed(2)]})]}),t.includesInstallation&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-green-800 font-medium text-sm",children:"Versandkostenfrei"})]}),s.jsx("p",{className:"text-green-700 text-xs",children:"Bei Montage-Service entfallen alle Versandkosten"})]})]})]}),(b.length>0||!w)&&s.jsxs("div",{className:"border-t pt-3 space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm lg:text-base text-gray-700",children:[s.jsx("span",{children:w?"Ausgewählte Schilder:":"Aktuelles Design:"}),s.jsxs("span",{className:"font-semibold",children:["€",y.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm lg:text-base text-gray-700",children:[s.jsx("span",{children:"Zusatzkosten:"}),s.jsxs("span",{className:"font-semibold",children:["€",C.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm lg:text-base text-gray-700",children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{className:"font-semibold",children:["€",I.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm lg:text-base text-gray-700",children:[s.jsx("span",{children:"MwSt. (19%):"}),s.jsxs("span",{className:"font-semibold",children:["€",D.toFixed(2)]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 mb-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg lg:text-xl font-bold text-gray-800",children:"Gesamtpreis:"}),s.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["€",O.toFixed(2)]})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600 leading-relaxed",children:[w?`${b.filter(k=>k.isEnabled).length} Schild(er) ausgewählt`:`Aktuelles Design: ${t.selectedDesign.name}`,t.customerPostalCode&&s.jsxs("span",{children:[" ","• Entfernung: ",f.distance," km nach ",f.cityName]})]})]}),b.filter(k=>k.isEnabled).length>0&&!t.includesInstallation&&j>0&&p>120&&s.jsx("div",{className:"bg-green-100 border border-green-300 rounded-lg p-3 mb-3",children:s.jsxs("p",{className:"text-green-800 font-medium text-xs text-center",children:["💰 Sie können €",j.toFixed(2)," ersparen bei Selbstabholung!"]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:r,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 rounded-lg lg:hover:from-blue-700 lg:hover:to-purple-700 transition duration-300 lg:transform lg:hover:scale-105 shadow-lg lg:hover:shadow-xl flex items-center justify-center space-x-2 lg:space-x-3 disabled:opacity-50 disabled:cursor-not-allowed lg:disabled:transform-none active:scale-95",disabled:b.filter(k=>k.isEnabled).length===0&&w,children:[s.jsx($t,{className:"h-5 w-5"}),s.jsxs("span",{className:"text-sm lg:text-base",children:["Warenkorb - €",O.toFixed(2)]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 lg:p-2 border",children:[s.jsx("div",{className:"flex items-center justify-center space-x-2 mb-1",children:s.jsx("span",{className:"text-xs text-gray-600",children:"Sichere Zahlung:"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-1 lg:space-x-2 flex-wrap gap-1",children:[s.jsx("div",{className:"bg-white rounded px-2 lg:px-1.5 py-1 lg:py-0.5 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 bg-blue-600 rounded-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"V"})})}),s.jsx("div",{className:"bg-white rounded px-2 lg:px-1.5 py-1 lg:py-0.5 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 flex items-center justify-center",children:s.jsxs("div",{className:"flex space-x-0.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full -ml-0.5"})]})})}),s.jsx("div",{className:"bg-white rounded px-2 lg:px-1.5 py-1 lg:py-0.5 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 flex items-center justify-center",children:s.jsxs("div",{className:"flex space-x-0.5",children:[s.jsx("div",{className:"w-1 h-2 bg-blue-600 rounded-full"}),s.jsx("div",{className:"w-1 h-2 bg-blue-400 rounded-full"})]})})}),s.jsx("div",{className:"bg-white rounded px-2 lg:px-1.5 py-1 lg:py-0.5 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 bg-green-600 rounded-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"€"})})}),s.jsx("div",{className:"bg-white rounded px-2 lg:px-1.5 py-1 lg:py-0.5 shadow-sm border flex items-center",children:s.jsx("div",{className:"w-6 h-3 bg-red-600 rounded-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"G"})})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-2 leading-relaxed",children:"Powered by Stripe • 14 Tage Widerrufsrecht • Käuferschutz"})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 lg:p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-auto max-h-[95vh] lg:max-h-[90vh] overflow-hidden flex flex-col lg:flex-row",children:[s.jsxs("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"bg-blue-600 rounded-lg p-2",children:s.jsx(Tn,{className:"h-5 lg:h-6 w-5 lg:w-6 text-white"})}),s.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-gray-800",children:"Warenkorb"}),s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[b.filter(k=>k.isEnabled).length," Artikel"]})]}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 lg:hover:text-gray-600 lg:hover:bg-gray-100 rounded-full p-2 transition-colors",children:s.jsx(Wn,{className:"h-5 lg:h-6 w-5 lg:w-6"})})]}),b.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"Keine Schilder ausgewählt"}),s.jsx("p",{className:"text-sm mt-2",children:"Wählen Sie ein Design aus und fügen Sie es zur Liste hinzu"})]}):s.jsx("div",{className:"space-y-3",children:b.map((k,E)=>{var R;return s.jsx("div",{className:`border rounded-lg p-3 md:p-4 transition-all duration-300 ${k.isEnabled?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50 opacity-75"}`,children:s.jsxs("div",{className:"flex items-start space-x-3 lg:space-x-4",children:[s.jsx(SVGPreview,{design:k.design,width:k.width,height:k.height,className:"w-16 lg:w-20 h-16 lg:h-20"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 text-sm lg:text-base truncate",children:k.design.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Design ",((R=t.signs)==null?void 0:R.findIndex($=>$.design.id===k.design.id))+1," • ",k.width,"×",k.height,"cm"]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"text-lg lg:text-xl font-bold text-gray-800",children:["€",k.price.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:"pro Stück"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:space-x-4 mb-3",children:[k.isWaterproof&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Wasserdicht (IP65)"}),k.isTwoPart&&s.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:"Mehrteilig"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>{var $;return($=t.onSignToggle)==null?void 0:$.call(t,k.id,!k.isEnabled)},className:`flex items-center space-x-2 px-3 py-2 lg:py-1.5 rounded-md text-sm font-medium transition-all duration-300 ${k.isEnabled?"bg-green-500 text-white lg:hover:bg-green-600":"bg-gray-300 text-gray-700 lg:hover:bg-gray-400"}`,children:k.isEnabled?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"h-4 w-4"}),s.jsx("span",{children:"Aktiv"})]}):s.jsxs(s.Fragment,{children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx("span",{children:"Inaktiv"})]})})}),s.jsxs("button",{onClick:()=>e==null?void 0:e(k.id),className:"flex items-center space-x-1 px-3 py-2 lg:py-1.5 text-red-600 lg:hover:text-red-800 lg:hover:bg-red-50 rounded-md transition-all duration-300 text-sm font-medium",children:[s.jsx(Wn,{className:"h-4 w-4"}),s.jsx("span",{children:"Entfernen"})]})]})]})]})},k.id)})}),b.length===0&&s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx(Tn,{className:"h-12 lg:h-16 w-12 lg:w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-base lg:text-lg font-medium text-gray-500 mb-2",children:"Warenkorb ist leer"}),s.jsx("p",{className:"text-gray-400",children:"Fügen Sie Designs zu Ihrem Warenkorb hinzu"})]})]}),s.jsxs("div",{className:"w-full lg:w-80 bg-gray-50 p-4 lg:p-6 border-t lg:border-t-0 lg:border-l",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-800 mb-4",children:"Zusammenfassung"}),s.jsx("div",{className:"space-y-2 lg:space-y-3 mb-4 lg:mb-6",children:b.filter(k=>k.isEnabled).map((k,E)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 truncate pr-2",children:["Schild ",b.indexOf(k)+1," (",k.width,"×",k.height,"cm)"]}),s.jsxs("span",{className:"font-medium text-gray-800 flex-shrink-0",children:["€",k.price.toFixed(2)]})]},k.id))}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between text-base lg:text-lg font-bold text-gray-800",children:[s.jsx("span",{children:"Zwischensumme:"}),s.jsxs("span",{children:["€",b.filter(k=>k.isEnabled).reduce((k,E)=>k+E.price,0).toFixed(2)]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"zzgl. Versand und MwSt."})]}),s.jsxs("div",{className:"mt-4 lg:mt-6 space-y-2 lg:space-y-3",children:[s.jsx("button",{onClick:()=>i(!1),className:"w-full py-3 bg-blue-600 lg:hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:"Weiter konfigurieren"}),s.jsx("button",{className:"w-full py-3 lg:py-2 bg-gray-200 lg:hover:bg-gray-300 text-gray-800 font-semibold rounded-lg transition-colors",children:"Warenkorb leeren"})]})]})]})})]})})};function hj(){const{projectId:t}=ly(),e=zt(),[r,n]=v.useState(null),[i,a]=v.useState(null),[l,c]=v.useState(!0),[o,u]=v.useState(null),[h,m]=v.useState({customWidth:100,calculatedHeight:20,isWaterproof:!1,hasUvPrint:!0,isTwoPart:!1,hasHangingSystem:!1,includesInstallation:!1,expressProduction:!1,customerPostalCode:"",selectedShipping:null,signs:[]});v.useEffect(()=>{(async()=>{if(t){c(!0);try{const y=await hr.getProject(t);if(!y){u("Projekt nicht gefunden oder abgelaufen");return}n(y);const p=hr.convertToNeonDesign(y);a(p),m({selectedDesign:p,customWidth:p.originalWidth,calculatedHeight:p.originalHeight,isWaterproof:!1,hasUvPrint:!0,isTwoPart:!1,hasHangingSystem:!1,includesInstallation:!1,expressProduction:!1,customerPostalCode:"",selectedShipping:null,signs:[]})}catch(y){u("Fehler beim Laden des Projekts"),console.error("Error loading project:",y)}finally{c(!1)}}})()},[t]);const d=w=>new Intl.DateTimeFormat("de-DE").format(new Date(w)),x=w=>w?new Date(w)<new Date:!1,b=async()=>{if(!r)return;await hr.updateProjectStatus(r.projectId,"approved")&&e("/cart-checkout",{state:{design:i,configuration:h,projectId:r.projectId}})};return l?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Projekt wird geladen..."})}):o||!r||!i?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-400 text-xl mb-4",children:o||"Projekt nicht gefunden"}),s.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Zurück zur Startseite"})]})}):x(r.expiresAt)?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-400 text-xl mb-4",children:"Dieses Projekt ist abgelaufen"}),s.jsxs("div",{className:"text-gray-400 mb-6",children:["Ablaufdatum: ",d(r.expiresAt)]}),s.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Neues Projekt starten"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[s.jsx("div",{className:"bg-gray-800 border-b border-gray-700 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Ihr Neon-Design"}),s.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[s.jsx(On,{className:"w-5 h-5"}),s.jsx("span",{children:"Projekt aktiv"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Un,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Kunde:"}),s.jsx("span",{children:r.clientName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ja,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Email:"}),s.jsx("span",{className:"truncate",children:r.clientEmail})]}),r.expiresAt&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Gültig bis:"}),s.jsx("span",{children:d(r.expiresAt)})]})]}),r.notes&&s.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:[s.jsx("strong",{children:"Hinweise:"})," ",r.notes]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Design-Vorschau"}),s.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg flex items-center justify-center mb-4",children:i.svgContent?s.jsx("div",{className:"w-full h-full",dangerouslySetInnerHTML:{__html:i.svgContent}}):i.svgUrl?s.jsx("img",{src:i.svgUrl,alt:i.name,className:"max-w-full max-h-full object-contain"}):s.jsxs("div",{className:"text-gray-400 text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:"🎨"}),s.jsx("div",{children:"Design wird geladen..."})]})}),s.jsx("h3",{className:"text-lg font-medium",children:i.name}),s.jsx("p",{className:"text-gray-400",children:i.description})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(sj,{configuration:h,selectedDesign:i,onConfigurationChange:m}),s.jsx(dj,{config:{selectedDesign:i,customWidth:h.customWidth||100,calculatedHeight:h.calculatedHeight||20,isWaterproof:h.isWaterproof||!1,isTwoPart:h.isTwoPart||!1,hasUvPrint:h.hasUvPrint||!0,hasHangingSystem:h.hasHangingSystem||!1,includesInstallation:h.includesInstallation||!1,expressProduction:h.expressProduction||!1,customerPostalCode:h.customerPostalCode||"",selectedShipping:h.selectedShipping||null,signs:h.signs||[]}}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:b,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Design genehmigen und bestellen"}),s.jsx("button",{onClick:()=>e("/"),className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Änderungen anfordern"})]})]})]})})]})}function mj(){const[t,e]=v.useState(null),[r,n]=v.useState(new Map),[i,a]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{o(),u()},[]);const o=()=>{const d=ut.getConnectionStatus();e(d)},u=async()=>{a(!0),c(null);try{if(await ut.testConnection()){const x=await ut.getAllPrices();n(x),o()}else c("Verbindung zu Monday.com fehlgeschlagen")}catch(d){c(d instanceof Error?d.message:"Unbekannter Fehler")}finally{a(!1)}},h=async()=>{a(!0);try{const d=await ut.forceRefresh();n(d),o()}catch(d){c(d instanceof Error?d.message:"Fehler beim Laden der Daten")}finally{a(!1)}},m=d=>d?new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(d):"Nie";return s.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Monday.com API Test"}),s.jsx("p",{className:"text-gray-400",children:"Testen Sie die Verbindung zu Monday.com und laden Sie Preisdaten"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t!=null&&t.isConnected?s.jsx(Zd,{className:"w-5 h-5 text-green-400"}):s.jsx(Nv,{className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"font-medium",children:"Verbindung"})]}),s.jsx("div",{className:`text-sm ${t!=null&&t.isConnected?"text-green-400":"text-red-400"}`,children:t!=null&&t.isConnected?"Verbunden":"Getrennt"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vr,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"font-medium",children:"Board ID"})]}),s.jsx("div",{className:"text-sm text-gray-300",children:(t==null?void 0:t.boardId)||"Nicht gesetzt"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qs,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"font-medium",children:"Letzter Abruf"})]}),s.jsx("div",{className:"text-sm text-gray-300",children:m(t==null?void 0:t.lastFetch)})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vr,{className:"w-5 h-5 text-purple-400"}),s.jsx("span",{className:"font-medium",children:"Cache"})]}),s.jsxs("div",{className:"text-sm text-gray-300",children:[(t==null?void 0:t.cacheSize)||0," Einträge"]})]})]}),s.jsxs("div",{className:"flex gap-4 mb-8",children:[s.jsxs("button",{onClick:u,disabled:i,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Zd,{className:"w-4 h-4"}),i?"Teste...":"Verbindung testen"]}),s.jsxs("button",{onClick:h,disabled:i,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 px-4 py-2 rounded-lg transition-colors",children:[s.jsx(ou,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Daten aktualisieren"]})]}),l&&s.jsxs("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 mb-8",children:[s.jsx("h3",{className:"font-medium text-red-300 mb-2",children:"Fehler"}),s.jsx("p",{className:"text-red-200",children:l})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-700",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Preisdaten aus Monday.com"}),s.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[r.size," Einträge geladen • ",t!=null&&t.isConnected?"Live-Daten":"Mock-Daten"]})]}),r.size>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-300",children:"ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-300",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-300",children:"Wert"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-300",children:"Monday Item ID"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700",children:Array.from(r.entries()).map(([d,x])=>s.jsxs("tr",{className:"hover:bg-gray-750",children:[s.jsx("td",{className:"px-6 py-3 text-sm font-mono text-blue-300",children:x.id}),s.jsx("td",{className:"px-6 py-3 text-sm",children:x.name}),s.jsxs("td",{className:"px-6 py-3 text-sm font-medium",children:["€",x.value.toFixed(2),x.unit&&s.jsxs("span",{className:"text-gray-400 ml-1",children:["/",x.unit]})]}),s.jsx("td",{className:"px-6 py-3 text-sm font-mono text-gray-400",children:x.itemId})]},d))})]})}):s.jsxs("div",{className:"p-12 text-center text-gray-400",children:[s.jsx(Vr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Keine Preisdaten verfügbar"}),s.jsx("p",{className:"text-sm mt-2",children:'Klicken Sie auf "Verbindung testen" um Daten zu laden'})]})]}),s.jsxs("div",{className:"mt-8 bg-gray-800 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Konfiguration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"API Token:"}),s.jsx("span",{className:"ml-2 font-mono",children:t!=null&&t.hasToken?"✅ Konfiguriert":"❌ Fehlt"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Board ID:"}),s.jsx("span",{className:"ml-2 font-mono",children:(t==null?void 0:t.boardId)||"Nicht gesetzt"})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded text-xs font-mono",children:[s.jsx("div",{className:"text-gray-400 mb-1",children:"Umgebungsvariablen:"}),s.jsxs("div",{children:["VITE_MONDAY_API_TOKEN=",t!=null&&t.hasToken?"[GESETZT]":"[FEHLT]"]}),s.jsxs("div",{children:["VITE_MONDAY_BOARD_ID=",(t==null?void 0:t.boardId)||"[FEHLT]"]})]})]})]})})}function fj({config:t,selectedDesign:e}){var w;const[r,n]=v.useState(new Map),[i,a]=v.useState(!0),[l,c]=v.useState(null),[o,u]=v.useState(null);v.useEffect(()=>{h()},[]),v.useEffect(()=>{r.size>0&&d()},[r,t,e]);const h=async()=>{a(!0),c(null);try{const y=await ut.getAllPrices();n(y),console.log("💰 Prices loaded for calculator:",y.size,"items")}catch(y){c("Fehler beim Laden der Preise"),console.error("Error loading prices:",y)}finally{a(!1)}},m=y=>{const p=r.get(y);return(p==null?void 0:p.value)||0},d=()=>{if(!e||r.size===0)return;const y=t.customWidth||e.originalWidth||100,p=t.calculatedHeight||e.originalHeight||20,f=y/100*(p/100),g=e.elements||1;e.ledLength;const j=m("verwaltungskosten")||m("administrative_costs"),N=m("wasserdichtigkeit")||m("waterproofing"),P=m("mehrteilig")||m("multi_part"),C=m("zeit_pro_m²")||m("time_per_m2"),I=m("zeit_pro_element")||m("time_per_element"),D=m("hourly_wage")||45,O=m("controller"),J=m("hanging_system"),V=m("uv_print"),G=f*150,se=t.isWaterproof?N:0,Z=t.hasUvPrint?V*f:0,re=t.isTwoPart?P:0,E=(C*f+I*g)*D,R=g>0?O:0,$=t.hasHangingSystem?J:0,T=x(y,p),S=G+se+Z+re+E+j+R+$+T;u({basePrice:G,waterproofing:se,uvPrint:Z,multiPart:re,laborCost:E,administrativeCosts:j,controller:R,hangingSystem:$,shipping:T,total:S})},x=(y,p)=>{const f=Math.max(y,p);return f<=20?m("dhl_klein_20cm"):f<=60?m("dhl_mittel_60cm"):f<=100?m("dhl_gross_100cm"):f<=120?m("spedition_120cm"):m("gutertransport_240cm")},b=y=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(y);return i?s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(fs,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Preiskalkulation"})]}),s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(mv,{className:"w-6 h-6 animate-spin text-blue-400"}),s.jsx("span",{className:"ml-2 text-gray-400",children:"Preise werden geladen..."})]})]}):l?s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(fs,{className:"w-5 h-5 text-red-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Preiskalkulation"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(np,{className:"w-5 h-5"}),s.jsx("span",{children:l})]}),s.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:"Erneut versuchen"})]}):o?s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(fs,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Preiskalkulation"}),s.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-green-400",children:[s.jsx(On,{className:"w-3 h-3"}),s.jsx("span",{children:"Live-Preise"})]})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Konfiguration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Größe:"}),s.jsxs("span",{className:"ml-2",children:[t.customWidth||(e==null?void 0:e.originalWidth)||100," × ",t.calculatedHeight||(e==null?void 0:e.originalHeight)||20," cm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Fläche:"}),s.jsxs("span",{className:"ml-2",children:[((t.customWidth||(e==null?void 0:e.originalWidth)||100)*(t.calculatedHeight||(e==null?void 0:e.originalHeight)||20)/1e4).toFixed(2)," m²"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Elemente:"}),s.jsx("span",{className:"ml-2",children:(e==null?void 0:e.elements)||1})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"LED-Länge:"}),s.jsxs("span",{className:"ml-2",children:[(e==null?void 0:e.ledLength)||3," m"]})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.isWaterproof&&s.jsx("span",{className:"px-2 py-1 bg-blue-600 text-blue-100 text-xs rounded",children:"Wasserdicht"}),t.hasUvPrint&&s.jsx("span",{className:"px-2 py-1 bg-purple-600 text-purple-100 text-xs rounded",children:"UV-Druck"}),t.isTwoPart&&s.jsx("span",{className:"px-2 py-1 bg-orange-600 text-orange-100 text-xs rounded",children:"Mehrteilig"}),t.hasHangingSystem&&s.jsx("span",{className:"px-2 py-1 bg-green-600 text-green-100 text-xs rounded",children:"Aufhängesystem"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Grundpreis (Acrylglas + LED)"}),s.jsx("span",{className:"font-medium",children:b(o.basePrice)})]}),o.waterproofing>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Wasserdichtigkeit"}),s.jsx("span",{className:"font-medium",children:b(o.waterproofing)})]}),o.uvPrint>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"UV-Druck"}),s.jsx("span",{className:"font-medium",children:b(o.uvPrint)})]}),o.multiPart>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Mehrteilig"}),s.jsx("span",{className:"font-medium",children:b(o.multiPart)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Arbeitskosten"}),s.jsx("span",{className:"font-medium",children:b(o.laborCost)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Verwaltungskosten"}),s.jsx("span",{className:"font-medium",children:b(o.administrativeCosts)})]}),o.controller>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Controller"}),s.jsx("span",{className:"font-medium",children:b(o.controller)})]}),o.hangingSystem>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Aufhängesystem"}),s.jsx("span",{className:"font-medium",children:b(o.hangingSystem)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Versand"}),s.jsx("span",{className:"font-medium",children:b(o.shipping)})]}),s.jsx("div",{className:"border-t border-gray-600 pt-3 mt-4",children:s.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[s.jsx("span",{children:"Gesamtpreis"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dv,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-400",children:b(o.total)})]})]})})]}),s.jsxs("div",{className:"mt-6 p-3 bg-gray-700 rounded text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(On,{className:"w-3 h-3 text-green-400"}),s.jsxs("span",{children:["Preise aus Monday.com Board (ID: ",ut.getConnectionStatus().boardId,")"]})]}),s.jsxs("div",{className:"text-gray-500 mt-1",children:["Letzter Abruf: ",((w=ut.getConnectionStatus().lastFetch)==null?void 0:w.toLocaleTimeString("de-DE"))||"Unbekannt"]}),s.jsxs("div",{className:"text-gray-500 mt-1",children:["Cache gültig: ",ut.getConnectionStatus().cacheValid?"✅":"❌"," • API Calls heute: ",ut.getConnectionStatus().dailyRequestCount,"/",ut.getConnectionStatus().dailyLimit]})]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(fs,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Preiskalkulation"})]}),s.jsx("div",{className:"text-gray-400 text-center py-4",children:"Wählen Sie ein Design aus, um den Preis zu berechnen"})]})}function pj(){const[t]=v.useState(ps[0]),[e,r]=v.useState({selectedDesign:t,customWidth:100,calculatedHeight:20,isWaterproof:!1,isTwoPart:!1,hasUvPrint:!1,hasHangingSystem:!1,includesInstallation:!1,expressProduction:!1,customerPostalCode:"",selectedShipping:null,signs:[]}),n=i=>{r(a=>({...a,...i}))};return s.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Preiskalkulator Test"}),s.jsx("p",{className:"text-gray-400",children:"Testen Sie den neuen Kalkulatro mit echten Monday.com Preisen"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Konfiguration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Breite (cm)"}),s.jsx("input",{type:"number",value:e.customWidth,onChange:i=>n({customWidth:parseInt(i.target.value)||100}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",min:"10",max:"500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Höhe (cm)"}),s.jsx("input",{type:"number",value:e.calculatedHeight,onChange:i=>n({calculatedHeight:parseInt(i.target.value)||20}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",min:"5",max:"200"})]})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:e.isWaterproof,onChange:i=>n({isWaterproof:i.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded"}),s.jsx("span",{children:"Wasserdicht"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:e.hasUvPrint||!1,onChange:i=>n({hasUvPrint:i.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded"}),s.jsx("span",{children:"UV-Druck"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:e.isTwoPart||!1,onChange:i=>n({isTwoPart:i.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded"}),s.jsx("span",{children:"Mehrteilig"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:e.hasHangingSystem||!1,onChange:i=>n({hasHangingSystem:i.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded"}),s.jsx("span",{children:"Aufhängesystem"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ausgewähltes Design"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"🎨"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:t.name}),s.jsx("p",{className:"text-sm text-gray-400",children:t.description}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.elements," Elemente • ",t.ledLength,"m LED"]})]})]})]})]}),s.jsx("div",{children:s.jsx(fj,{config:e,selectedDesign:t})})]}),s.jsxs("div",{className:"mt-8 bg-gray-800 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test-Konfigurationen"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>n({customWidth:50,calculatedHeight:10,isWaterproof:!1,hasUvPrint:!1,isTwoPart:!1,hasHangingSystem:!1}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",children:[s.jsx("div",{className:"font-medium",children:"Klein & Einfach"}),s.jsx("div",{className:"text-sm text-gray-400",children:"50×10cm, Basic"})]}),s.jsxs("button",{onClick:()=>n({customWidth:150,calculatedHeight:30,isWaterproof:!0,hasUvPrint:!0,isTwoPart:!1,hasHangingSystem:!0}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",children:[s.jsx("div",{className:"font-medium",children:"Mittel & Premium"}),s.jsx("div",{className:"text-sm text-gray-400",children:"150×30cm, Wasserdicht, UV-Druck"})]}),s.jsxs("button",{onClick:()=>n({customWidth:300,calculatedHeight:50,isWaterproof:!0,hasUvPrint:!0,isTwoPart:!0,hasHangingSystem:!0}),className:"p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",children:[s.jsx("div",{className:"font-medium",children:"Groß & Vollausstattung"}),s.jsx("div",{className:"text-sm text-gray-400",children:"300×50cm, Alle Optionen"})]})]})]})]})})}function gj(){const[t,e]=v.useState([]),[r,n]=v.useState(!0),[i,a]=v.useState(null),[l,c]=v.useState(!1),[o,u]=v.useState("");v.useEffect(()=>{h()},[]);const h=async()=>{n(!0);try{console.log("🔄 Loading CRM projects from Supabase...");const p=await hr.getAllProjects();console.log("✅ Loaded projects:",p.length,"projects"),e(p)}catch(p){console.error("❌ Error loading projects:",p)}finally{n(!1)}},m=async()=>{c(!0),u("🔄 Синхронизация с Monday.com...");try{const p=await hr.syncWithMonday();u(p.message),p.success&&setTimeout(()=>{h(),u("")},2e3)}catch(p){u(`❌ Ошибка: ${p instanceof Error?p.message:"Неизвестная ошибка"}`)}finally{c(!1)}},d=async p=>{const f=hr.generateClientLink(p);await navigator.clipboard.writeText(f),a(p),setTimeout(()=>a(null),2e3)},x=async(p,f)=>{try{await hr.sendClientEmail(p,f)?(alert(`Email an ${f} erfolgreich gesendet!`),h()):alert("Fehler beim Senden der Email")}catch(g){console.error("Error sending email:",g),alert("Fehler beim Senden der Email")}},b=async()=>{try{const p={clientEmail:`test-${Date.now()}@example.com`,clientName:`Test Kunde ${new Date().toLocaleTimeString()}`,designName:`Test Design ${Math.floor(Math.random()*1e3)}`,svgContent:`<svg viewBox="0 0 300 60" xmlns="http://www.w3.org/2000/svg">
          <text x="15" y="35" fill="#ff6600" font-family="Arial" font-size="24">TEST NEON</text>
        </svg>`,notes:`Neues Test-Projekt erstellt um ${new Date().toLocaleString()}`,status:"draft"},f=await hr.createProject(p);console.log("✅ Test project created:",f),alert(`Test-Projekt ${f} erfolgreich erstellt!`),h()}catch(p){console.error("❌ Error creating test project:",p),alert("Fehler beim Erstellen des Test-Projekts")}},w=p=>new Intl.DateTimeFormat("de-DE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(p)),y=p=>{const g={draft:{color:"gray",text:"Entwurf"},sent:{color:"blue",text:"Gesendet"},viewed:{color:"yellow",text:"Angesehen"},approved:{color:"green",text:"Genehmigt"},completed:{color:"green",text:"Abgeschlossen"}}[p];return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium 
        ${g.color==="gray"?"bg-gray-600 text-gray-200":""}
        ${g.color==="blue"?"bg-blue-600 text-blue-200":""}
        ${g.color==="yellow"?"bg-yellow-600 text-yellow-200":""}
        ${g.color==="green"?"bg-green-600 text-green-200":""}
      `,children:g.text})};return r?s.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-xl",children:"Projekte werden geladen..."})})})}):s.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"CRM Projekte"}),s.jsx("p",{className:"text-gray-400",children:"Verwalten Sie Kundenprojekte und generieren Sie Client-Links"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:m,disabled:l,className:`${l?"bg-gray-600":"bg-purple-600 hover:bg-purple-700"} text-white px-4 py-2 rounded-lg flex items-center space-x-2`,children:[s.jsx("span",{children:"🔄"}),s.jsx("span",{children:l?"Синхронизация...":"Синхронизация с Monday.com"})]}),s.jsxs("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[s.jsx(Un,{className:"w-4 h-4"}),s.jsx("span",{children:"Test-Projekt erstellen"})]})]})]}),o&&s.jsx("div",{className:`mt-4 p-3 rounded-lg ${o.includes("✅")?"bg-green-800 text-green-200":o.includes("❌")?"bg-red-800 text-red-200":"bg-blue-800 text-blue-200"}`,children:o})]}),t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-lg",children:"Keine Projekte gefunden"}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Erstellen Sie ein neues Projekt im CRM System"})]}):s.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left",children:"Projekt"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Kunde"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Erstellt"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Aktionen"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700",children:t.map(p=>s.jsxs("tr",{className:"hover:bg-gray-750",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:p.designName}),s.jsx("div",{className:"text-sm text-gray-400",children:p.projectId}),p.notes&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:p.notes})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Un,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:p.clientName})]}),s.jsx("div",{className:"text-sm text-gray-400",children:p.clientEmail})]}),s.jsx("td",{className:"px-6 py-4",children:y(p.status)}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(qs,{className:"w-4 h-4"}),w(p.createdAt)]}),p.expiresAt&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Läuft ab: ",w(p.expiresAt)]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>d(p.projectId),className:"flex items-center gap-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm transition-colors",title:"Client-Link kopieren",children:[s.jsx(cv,{className:"w-3 h-3"}),i===p.projectId?"Kopiert!":"Link"]}),s.jsxs("button",{onClick:()=>x(p.projectId,p.clientEmail),className:"flex items-center gap-1 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition-colors",title:"Email senden",children:[s.jsx(Ja,{className:"w-3 h-3"}),"Email"]}),p.status==="viewed"&&s.jsxs("div",{className:"flex items-center gap-1 text-green-400 text-sm",children:[s.jsx(Sr,{className:"w-3 h-3"}),s.jsx("span",{children:"Gesehen"})]}),p.status==="approved"&&s.jsxs("div",{className:"flex items-center gap-1 text-green-400 text-sm",children:[s.jsx(On,{className:"w-3 h-3"}),s.jsx("span",{children:"Genehmigt"})]})]})})]},p.projectId))})]})})}),s.jsxs("div",{className:"mt-8 p-6 bg-gray-800 rounded-xl",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Entwicklungs-Hinweise"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[s.jsx("p",{children:"• Testdaten verfügbar: CRM-001, CRM-002"}),s.jsxs("p",{children:["• Client-Links: ",s.jsx("code",{className:"text-blue-400",children:"/client/CRM-001"})]}),s.jsx("p",{children:"• Status wird automatisch aktualisiert wenn Kunden die Links öffnen"}),s.jsx("p",{children:"• Email-Versand ist simuliert (siehe Console-Log)"})]})]})]})})}class xj{constructor(){this.cache=new Map,this.lastCacheLoad=null,this.CACHE_DURATION=30*60*1e3}async initialize(){await this.loadPricesFromSupabase()}async loadPricesFromSupabase(){try{console.log("🔄 Loading prices from Supabase...");const e=await fetch("https://igffjtzypcgfbytxtgnq.supabase.co/rest/v1/pricing_cache?select=price_key,price_value,unit,last_updated",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZmZqdHp5cGNnZmJ5dHh0Z25xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODgzNTgsImV4cCI6MjA3MTU2NDM1OH0.MlP7l_foSI30OjfKZmD-tms5cABOHR8KHpLCevo8c-c",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZmZqdHp5cGNnZmJ5dHh0Z25xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODgzNTgsImV4cCI6MjA3MTU2NDM1OH0.MlP7l_foSI30OjfKZmD-tms5cABOHR8KHpLCevo8c-c"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();this.cache.clear(),r.forEach(n=>{this.cache.set(n.price_key,{price_key:n.price_key,price_value:n.price_value,unit:n.unit,last_updated:n.last_updated})}),this.lastCacheLoad=new Date,console.log("✅ Loaded",r.length,"prices from Supabase")}catch(e){console.error("❌ Error loading from Supabase:",e),this.loadFallbackPrices()}}async getAllPrices(){return this.isCacheValid()?this.cache:(await this.loadPricesFromSupabase(),this.cache)}async getPrice(e){const n=(await this.getAllPrices()).get(e);return(n==null?void 0:n.price_value)||0}async getPricingComponents(){var r,n,i,a,l,c;const e=await this.getAllPrices();return{acrylglas:45,led:8,controller:((r=e.get("controller"))==null?void 0:r.price_value)||25,uvPrint:((n=e.get("uv_print"))==null?void 0:n.price_value)||50,packaging:8,elementCost:25,waterproofSurcharge:(((i=e.get("wasserdichtigkeit"))==null?void 0:i.price_value)||25)/100,multiPartSurcharge:(((a=e.get("mehrteilig"))==null?void 0:a.price_value)||15)/100,adminCosts:(((l=e.get("verwaltungskosten"))==null?void 0:l.price_value)||30)/100,hangingSystem:((c=e.get("hanging_system"))==null?void 0:c.price_value)||35}}async getShippingPrices(){var r,n,i,a,l;const e=await this.getAllPrices();return{dhl_klein:((r=e.get("dhl_klein_20cm"))==null?void 0:r.price_value)||7.49,dhl_mittel:((n=e.get("dhl_mittel_60cm"))==null?void 0:n.price_value)||12.99,dhl_gross:((i=e.get("dhl_gross_100cm"))==null?void 0:i.price_value)||19.99,spedition:((a=e.get("spedition_120cm"))==null?void 0:a.price_value)||45,gutertransport:((l=e.get("gutertransport_240cm"))==null?void 0:l.price_value)||89}}isCacheValid(){return this.lastCacheLoad!==null&&this.cache.size>0&&Date.now()-this.lastCacheLoad.getTime()<this.CACHE_DURATION}loadFallbackPrices(){console.log("⚠️ Loading fallback prices");const e=[{key:"verwaltungskosten",value:30,unit:"percent"},{key:"wasserdichtigkeit",value:25,unit:"percent"},{key:"mehrteilig",value:15,unit:"percent"},{key:"controller",value:25,unit:"eur"},{key:"hanging_system",value:35,unit:"eur"},{key:"uv_print",value:50,unit:"eur_per_m2"},{key:"dhl_klein_20cm",value:7.49,unit:"eur"},{key:"dhl_mittel_60cm",value:12.99,unit:"eur"},{key:"dhl_gross_100cm",value:19.99,unit:"eur"},{key:"spedition_120cm",value:45,unit:"eur"},{key:"gutertransport_240cm",value:89,unit:"eur"}];this.cache.clear(),e.forEach(r=>{this.cache.set(r.key,{price_key:r.key,price_value:r.value,unit:r.unit,last_updated:new Date().toISOString()})}),this.lastCacheLoad=new Date}async forceRefresh(){this.lastCacheLoad=null,await this.loadPricesFromSupabase()}getStatus(){return{isConnected:this.cache.size>0,cacheValid:this.isCacheValid(),lastFetch:this.lastCacheLoad,cacheSize:this.cache.size,source:"Supabase Database (cached)"}}}const Xi=new xj;Xi.initialize().catch(console.error);const yj=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(new Map),[i,a]=v.useState(!1),[l,c]=v.useState("");v.useEffect(()=>{o(),u()},[]);const o=()=>{const m=Xi.getStatus();e(m)},u=async()=>{try{const m=await Xi.getAllPrices();n(m)}catch(m){console.error("Error loading prices:",m)}},h=async()=>{a(!0),c("");try{await Xi.forceRefresh(),await u(),o(),c("✅ Prices refreshed successfully!")}catch(m){c(`❌ Error: ${m instanceof Error?m.message:"Unknown error"}`)}finally{a(!1)}};return s.jsx("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(cu,{className:"h-6 w-6 text-blue-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pricing Administration"})]}),s.jsxs("button",{onClick:h,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[s.jsx(ou,{className:`h-4 w-4 ${i?"animate-spin":""}`}),s.jsx("span",{children:i?"Refreshing...":"Refresh Prices"})]})]}),l&&s.jsx("div",{className:`p-4 rounded-lg mb-6 ${l.includes("✅")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:l}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Database"})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t!=null&&t.isConnected?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t!=null&&t.isConnected?s.jsxs(s.Fragment,{children:[s.jsx(On,{className:"h-3 w-3 mr-1"}),"Connected"]}):s.jsxs(s.Fragment,{children:[s.jsx(np,{className:"h-3 w-3 mr-1"}),"Disconnected"]})})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Cache Status"})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t!=null&&t.cacheValid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t!=null&&t.cacheValid?"Valid":"Expired"})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Items Count"})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"text-lg font-bold text-gray-900",children:(t==null?void 0:t.cacheSize)||0})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Update"})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"text-sm text-gray-700",children:t!=null&&t.lastFetch?new Date(t.lastFetch).toLocaleString("de-DE"):"Never"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border",children:[s.jsxs("div",{className:"px-6 py-4 border-b",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Prices"}),s.jsx("p",{className:"text-sm text-gray-600",children:"These prices are loaded from Supabase database cache"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price Key"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from(r.entries()).map(([m,d])=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.price_key}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.price_value.toFixed(2)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.unit||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.last_updated).toLocaleString("de-DE")})]},m))})]})})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"🎯 Optimal Architecture"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"📦 Client Side (This App):"}),s.jsxs("ul",{className:"space-y-1 ml-4",children:[s.jsx("li",{children:"• Loads prices from Supabase database"}),s.jsx("li",{children:"• 30-minute local cache"}),s.jsx("li",{children:"• No Monday.com API calls from users"}),s.jsx("li",{children:"• Fast response times"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"⚡ Server Side (Supabase):"}),s.jsxs("ul",{className:"space-y-1 ml-4",children:[s.jsx("li",{children:"• Daily automated sync from Monday.com"}),s.jsx("li",{children:"• Edge Function handles API limits"}),s.jsx("li",{children:"• Database caching for all users"}),s.jsx("li",{children:"• Manual sync option available"})]})]})]})]})]})})},vj=()=>{const[t,e]=v.useState("connecting"),[r,n]=v.useState("");return v.useEffect(()=>{(async()=>{try{const a="https://igffjtzypcgfbytxtgnq.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnZmZqdHp5cGNnZmJ5dHh0Z25xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODgzNTgsImV4cCI6MjA3MTU2NDM1OH0.MlP7l_foSI30OjfKZmD-tms5cABOHR8KHpLCevo8c-c",c=Vp(a,l),{data:o,error:u}=await c.from("pricing_cache").select("*").limit(1);u?(e("error"),n(`❌ Database error: ${u.message}`)):(e("connected"),n(`✅ Successfully connected to Supabase! Found ${(o==null?void 0:o.length)||0} pricing records.`))}catch(a){e("error"),n(`❌ Connection error: ${a instanceof Error?a.message:"Unknown error"}`)}})()},[]),s.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"🔌 Supabase Connection Test"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`p-4 rounded-lg ${t==="connecting"?"bg-yellow-50 border border-yellow-200":t==="connected"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[t==="connecting"&&s.jsx("span",{className:"animate-spin",children:"⏳"}),t==="connected"&&s.jsx("span",{children:"✅"}),t==="error"&&s.jsx("span",{children:"❌"}),s.jsxs("span",{className:"font-medium",children:[t==="connecting"&&"Connecting to Supabase...",t==="connected"&&"Connected Successfully!",t==="error"&&"Connection Failed"]})]}),s.jsx("p",{className:"mt-2 text-sm",children:r})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("h3",{className:"font-medium mb-2",children:"🔧 Setup Requirements:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[s.jsxs("li",{children:["Create Supabase project at ",s.jsx("a",{href:"https://supabase.com",className:"text-blue-600 underline",children:"supabase.com"})]}),s.jsxs("li",{children:["Update ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".env.local"})," with your Supabase URL and keys"]}),s.jsx("li",{children:"Run database migrations to create pricing_cache table"}),s.jsx("li",{children:"Deploy the daily-price-sync Edge Function"})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("strong",{children:"Environment Variables Expected:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1",children:[s.jsx("li",{children:s.jsx("code",{children:"VITE_SUPABASE_URL"})}),s.jsx("li",{children:s.jsx("code",{children:"VITE_SUPABASE_ANON_KEY"})})]})]})]})]})},bj=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(!1),[i,a]=v.useState(""),l=async()=>{n(!0),a("");try{const c="eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjQzMjIyMTM2MywiYWFpIjoxMSwidWlkIjo2ODEzNTQzMywiaWFkIjoiMjAyNC0xMS0wNFQyMDozNzoxMC4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MjYzMjE0MzksInJnbiI6ImV1YzEifQ.ADRAxBZMWGvsUQnFPijj3_A0QOhOs3QGATPGDXiw8YM",h=await fetch("https://api.monday.com/v2",{method:"POST",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({query:`
        query {
          boards(ids: [1923600883]) {
            name
            description
            columns {
              id
              title
              type
              settings_str
            }
            items_page(limit: 10) {
              items {
                id
                name
                column_values {
                  id
                  title
                  text
                  value
                  type
                }
              }
            }
          }
        }
      `})});if(!h.ok)throw new Error(`Monday.com API ошибка: ${h.status}`);const m=await h.json();if(m.errors)throw new Error(`Monday.com GraphQL ошибки: ${JSON.stringify(m.errors)}`);const d=m.data.boards[0];e(d)}catch(c){a(c instanceof Error?c.message:"Неизвестная ошибка")}finally{n(!1)}};return s.jsx("div",{className:"p-6 bg-gray-900 text-white min-h-screen",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[s.jsx(yv,{className:"w-8 h-8 mr-3"}),"Monday.com Board Analyzer"]}),s.jsx("p",{className:"text-gray-400",children:"Анализ структуры доски клиентов (ID: 1923600883)"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("button",{onClick:l,disabled:r,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-6 py-3 rounded-lg flex items-center space-x-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),s.jsx("span",{children:"Анализирую..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Vr,{className:"w-4 h-4"}),s.jsx("span",{children:"Анализировать доску"})]})})}),i&&s.jsxs("div",{className:"bg-red-900 border border-red-600 text-red-200 p-4 rounded-lg mb-6",children:[s.jsx("strong",{children:"Ошибка:"})," ",i]}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Информация о доске"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-gray-400 text-sm",children:"Название:"}),s.jsx("p",{className:"font-medium",children:t.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-gray-400 text-sm",children:"Всего колонок:"}),s.jsx("p",{className:"font-medium",children:t.columns.length})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Структура колонок"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-2",children:"ID"}),s.jsx("th",{className:"text-left py-2",children:"Название"}),s.jsx("th",{className:"text-left py-2",children:"Тип"})]})}),s.jsx("tbody",{children:t.columns.map(c=>s.jsxs("tr",{className:"border-b border-gray-700/50",children:[s.jsx("td",{className:"py-2 font-mono text-blue-300",children:c.id}),s.jsx("td",{className:"py-2",children:c.title}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-xs",children:c.type})})]},c.id))})]})})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Образцы данных (первые 10 записей)"}),s.jsx("div",{className:"space-y-4",children:t.items_page.items.map(c=>s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Sr,{className:"w-4 h-4 mr-2"}),s.jsx("strong",{children:c.name}),s.jsxs("span",{className:"ml-2 text-gray-400 font-mono text-sm",children:["(ID: ",c.id,")"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm",children:c.column_values.filter(o=>o.text).map(o=>s.jsxs("div",{className:"bg-gray-600 p-2 rounded",children:[s.jsxs("div",{className:"text-gray-300 text-xs",children:[o.title,":"]}),s.jsx("div",{className:"font-medium",children:o.text})]},o.id))})]},c.id))})]}),s.jsxs("div",{className:"bg-blue-900 border border-blue-600 text-blue-200 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold mb-2",children:"📋 Следующие шаги:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[s.jsx("li",{children:"Определите какие колонки содержат: email клиента, имя, название проекта, статус"}),s.jsx("li",{children:"Скопируйте ID нужных колонок из таблицы выше"}),s.jsx("li",{children:"Настройте маппинг колонок в CRM сервисе"}),s.jsx("li",{children:"Протестируйте синхронизацию данных"})]})]})]})]})})},wj=()=>{const t=zt(),e=[{title:"CRM Admin Panel",description:"Управление клиентами и проектами",path:"/admin/crm",icon:jv,color:"bg-blue-500 hover:bg-blue-600"},{title:"Pricing Admin Panel",description:"Управление ценами и калькуляциями",path:"/admin/pricing",icon:uv,color:"bg-green-500 hover:bg-green-600"},{title:"Monday Test Panel",description:"Тестирование интеграции с Monday.com",path:"/admin/monday",icon:iv,color:"bg-purple-500 hover:bg-purple-600"},{title:"Supabase Connection Test",description:"Проверка подключения к базе данных",path:"/admin/supabase-test",icon:Vr,color:"bg-cyan-500 hover:bg-cyan-600"},{title:"Monday Board Analyzer",description:"Анализ досок Monday.com",path:"/admin/board-analyzer",icon:nv,color:"bg-indigo-500 hover:bg-indigo-600"}],r=[{title:"Pricing Test Page",description:"Тестирование системы ценообразования",path:"/test/pricing",icon:bv,color:"bg-orange-500 hover:bg-orange-600"},{title:"Stripe Test Page",description:"Тестирование платежной системы",path:"/test/stripe",icon:$t,color:"bg-pink-500 hover:bg-pink-600"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Панель управления и тестирования системы"})]}),s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors",children:[s.jsx(Js,{size:18}),"На главную"]})]})}),s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(cu,{className:"text-gray-700",size:24}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Административные панели"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,i)=>{const a=n.icon;return s.jsx(Sa,{to:n.path,className:"group block p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${n.color} transition-colors`,children:s.jsx(a,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:n.title}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm leading-relaxed",children:n.description})]})]})},i)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(hv,{className:"text-gray-700",size:24}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Тестовые страницы"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((n,i)=>{const a=n.icon;return s.jsx(Sa,{to:n.path,className:"group block p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${n.color} transition-colors`,children:s.jsx(a,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:n.title}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm leading-relaxed",children:n.description})]})]})},i)})})]}),s.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Быстрая статистика"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Админ панелей"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Тестовых страниц"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length+r.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Всего инструментов"})]})]})]})]})})};function jj(){const[t,e]=v.useState(null),[r,n]=v.useState(!0),[i,a]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const c=await Ot(()=>Promise.resolve().then(()=>ci),void 0);a(c.supabase)}catch{console.warn("Supabase not configured, running in demo mode"),n(!1)}})()},[]),v.useEffect(()=>{if(i){i.auth.getSession().then(({data:c})=>{var o;e(((o=c.session)==null?void 0:o.user)??null),n(!1)});const{data:{subscription:l}}=i.auth.onAuthStateChange((c,o)=>{e((o==null?void 0:o.user)??null)});return()=>l.unsubscribe()}else i===null&&n(!1)},[i]),r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s.jsx(Vy,{children:s.jsxs(jy,{children:[s.jsx(we,{path:"/login",element:t?s.jsx(qd,{to:"/products"}):s.jsx(jb,{})}),s.jsx(we,{path:"/signup",element:t?s.jsx(qd,{to:"/products"}):s.jsx(Nb,{})}),s.jsx(we,{path:"/products",element:s.jsx(kb,{})}),s.jsx(we,{path:"/success",element:s.jsx(Sb,{})}),s.jsx(we,{path:"/widerrufsrecht",element:s.jsx(Pb,{})}),s.jsx(we,{path:"/datenschutz",element:s.jsx(Eb,{})}),s.jsx(we,{path:"/agb",element:s.jsx(Cb,{})}),s.jsx(we,{path:"/zahlung-versand",element:s.jsx(Tb,{})}),s.jsx(we,{path:"/impressum",element:s.jsx(Ab,{})}),s.jsx(we,{path:"/admin",element:s.jsx(wj,{})}),s.jsx(we,{path:"/admin/crm",element:s.jsx(gj,{})}),s.jsx(we,{path:"/admin/monday",element:s.jsx(mj,{})}),s.jsx(we,{path:"/admin/pricing",element:s.jsx(yj,{})}),s.jsx(we,{path:"/admin/supabase-test",element:s.jsx(vj,{})}),s.jsx(we,{path:"/admin/board-analyzer",element:s.jsx(bj,{})}),s.jsx(we,{path:"/test/pricing",element:s.jsx(pj,{})}),s.jsx(we,{path:"/test/stripe",element:s.jsx(_b,{})}),s.jsx(we,{path:"/client/:projectId",element:s.jsx(hj,{})}),s.jsx(we,{path:"/",element:s.jsx(Nj,{})})]})})}function Nj(){const[t,e]=v.useState(!0),[r,n]=v.useState(!1),i=v.useRef(null),[a,l]=v.useState({selectedDesign:ps[0],customWidth:200,calculatedHeight:100,isWaterproof:!1,hasUvPrint:!0,hasHangingSystem:!1,includesInstallation:!1,customerPostalCode:"",selectedShipping:null,signs:[]}),[c,o]=v.useState(ps),[u,h]=v.useState(!0),[m,d]=v.useState(!1);v.useState(!1);const[x,b]=v.useState("design"),[w,y]=v.useState(!1),[p,f]=v.useState({}),[g,j]=v.useState({});v.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]),v.useEffect(()=>{(async()=>{try{await De.fetchPrices();const U=De.getDesigns();U.length>0?(console.log("🎨 Monday.com Designs geladen:",U.length),o(U),U[0]&&l(F=>({...F,selectedDesign:U[0]}))):(console.log("📦 Verwende Mock-Designs als Fallback"),o(ps))}catch(U){console.error("❌ Fehler beim Laden der Designs:",U),o(ps)}finally{h(!1)}})()},[]),v.useEffect(()=>{const A=qt(a.selectedDesign.originalWidth,a.selectedDesign.originalHeight,a.customWidth);l(U=>({...U,calculatedHeight:A}))},[a.selectedDesign,a.customWidth]),v.useEffect(()=>{a.selectedDesign&&!g[a.selectedDesign.id]&&j(A=>({...A,[a.selectedDesign.id]:{customWidth:a.customWidth,isWaterproof:a.isWaterproof,isTwoPart:a.isTwoPart,hasUvPrint:a.hasUvPrint,hasHangingSystem:a.hasHangingSystem,expressProduction:a.expressProduction}}))},[a.selectedDesign,g]);const N=A=>{console.log("🔧 Config change:",A),(A.customWidth!==void 0||A.calculatedHeight!==void 0||A.isWaterproof!==void 0||A.isTwoPart!==void 0)&&t&&(e(!1),n(!0),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{e(!0),n(!1)},600)),l(U=>{const F={...U,...A};if(A.includesInstallation===!0&&(F.selectedShipping=null),A.isWaterproof!==void 0||A.isTwoPart!==void 0||A.hasUvPrint!==void 0||A.hasHangingSystem!==void 0){const ue=F.signs.map(gt=>({...gt,isWaterproof:A.isWaterproof!==void 0?A.isWaterproof:F.isWaterproof,isTwoPart:A.isTwoPart!==void 0?A.isTwoPart:F.isTwoPart,hasUvPrint:A.hasUvPrint!==void 0?A.hasUvPrint:F.hasUvPrint,hasHangingSystem:A.hasHangingSystem!==void 0?A.hasHangingSystem:F.hasHangingSystem}));F.signs=ue}if(A.customWidth!==void 0||A.calculatedHeight!==void 0){const ue=F.signs.map(gt=>gt.design.id===F.selectedDesign.id?{...gt,width:A.customWidth!==void 0?A.customWidth:F.customWidth,height:A.calculatedHeight!==void 0?A.calculatedHeight:F.calculatedHeight,hasUvPrint:A.hasUvPrint!==void 0?A.hasUvPrint:F.hasUvPrint,hasHangingSystem:A.hasHangingSystem!==void 0?A.hasHangingSystem:F.hasHangingSystem}:gt);F.signs=ue}return console.log("🔧 New config after update:",F),(A.customWidth!==void 0||A.isWaterproof!==void 0||A.isTwoPart!==void 0||A.hasUvPrint!==void 0||A.hasHangingSystem!==void 0||A.expressProduction!==void 0)&&j(ue=>({...ue,[F.selectedDesign.id]:{customWidth:F.customWidth,isWaterproof:F.isWaterproof,isTwoPart:F.isTwoPart,hasUvPrint:F.hasUvPrint,hasHangingSystem:F.hasHangingSystem,expressProduction:F.expressProduction}})),F})},P=()=>{j(A=>({...A,[a.selectedDesign.id]:{customWidth:a.customWidth,isWaterproof:a.isWaterproof,isTwoPart:a.isTwoPart,hasUvPrint:a.hasUvPrint,hasHangingSystem:a.hasHangingSystem,expressProduction:a.expressProduction}}))},C=A=>g[A]||{customWidth:107,isWaterproof:!1,isTwoPart:!1,hasUvPrint:!0,hasHangingSystem:!1,expressProduction:!1},I=A=>{P();const U=C(A.id),F=qt(A.originalWidth,A.originalHeight,U.customWidth);l(ue=>({...ue,selectedDesign:A,customWidth:U.customWidth,calculatedHeight:F,isWaterproof:U.isWaterproof,isTwoPart:U.isTwoPart,hasUvPrint:U.hasUvPrint,hasHangingSystem:U.hasHangingSystem,expressProduction:U.expressProduction})),console.log("🔄 Design changed to:",A.name,"with settings:",U)},D=(A,U)=>{d(!0);const F=p[A.id]||null,ue={id:`sign-${A.id}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,design:A,width:a.customWidth,height:qt(A.originalWidth,A.originalHeight,a.customWidth),isEnabled:!0,isWaterproof:a.isWaterproof,isTwoPart:a.isTwoPart,hasUvPrint:a.hasUvPrint??!0,hasHangingSystem:a.hasHangingSystem??!1,uploadedSvgContent:F};console.log("➕ Adding new sign with hasUvPrint:",ue.hasUvPrint,"uploadedSvg for design",A.id,":",!!F),l(gt=>({...gt,signs:[...gt.signs,ue]})),setTimeout(()=>{d(!1)},1e3)},O=(A,U)=>{l(F=>({...F,signs:F.signs.map(ue=>ue.id===A?{...ue,isEnabled:U}:ue)}))},J=A=>{l(U=>({...U,signs:U.signs.filter(F=>F.id!==A)}))},V=A=>{l(U=>({...U,selectedShipping:A}))},G=a.signs.filter(A=>A.design.id===a.selectedDesign.id).length,se={name:"Müller GmbH & Co. KG",logo:"/Logo Long White.png",orderToken:"neon-order-8f4e2d1a-b3c5-4d6e-7f8g-9h0i1j2k3l4m"},Z=q.useMemo(()=>(console.log("📱 Mobile cart price calculation with hasUvPrint:",a.hasUvPrint,"hasHangingSystem:",a.hasHangingSystem),Pa(a.selectedDesign,a.customWidth,a.calculatedHeight,a.isWaterproof,a.isTwoPart||!1,a.hasUvPrint,a.hasHangingSystem||!1,a.expressProduction||!1)),[a.selectedDesign,a.customWidth,a.calculatedHeight,a.isWaterproof,a.isTwoPart,a.hasUvPrint,a.hasHangingSystem,a.expressProduction]),re=a.signs.filter(A=>A.isEnabled).length,k=q.useMemo(()=>Math.floor(200*a.selectedDesign.originalWidth/a.selectedDesign.originalHeight),[a.selectedDesign.originalWidth,a.selectedDesign.originalHeight]),E=q.useMemo(()=>a.isTwoPart?1e3:Math.min(300,k),[a.isTwoPart,k]),R=A=>{t&&(e(!1),n(!0)),i.current&&clearTimeout(i.current);const U=qt(a.selectedDesign.originalWidth,a.selectedDesign.originalHeight,A);U>200&&!a.isTwoPart||(N({customWidth:A,calculatedHeight:U}),i.current=setTimeout(()=>{e(!0),n(!1)},800))},$=()=>{b("cart")},T=()=>{b("design")},S=()=>{y(!0)},ce=()=>{y(!1)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 overflow-x-hidden relative",children:[!w&&s.jsx(Sv,{customerName:se.name,customerLogo:se.logo,orderToken:se.orderToken}),w&&s.jsx(Ub,{config:a,onConfigChange:N,onClose:ce,onSignToggle:O,onRemoveSign:J}),!w&&s.jsxs(s.Fragment,{children:[s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-0 pb-20 lg:pb-12",children:[x==="cart"&&s.jsx("div",{className:"mb-6 pt-20",children:s.jsxs("button",{onClick:T,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium",children:[s.jsx(Xr,{className:"h-5 w-5"}),s.jsx("span",{children:"Zurück zur Konfiguration"})]})}),s.jsxs("div",{className:`${x==="cart"?"hidden":""}`,children:[s.jsxs("div",{className:"mb-4 sm:mb-6 lg:mb-8 -mx-4 sm:-mx-6 lg:-mx-8 -mt-6 md:-mt-12",children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 h-[400px] sm:h-[500px] lg:h-[600px] pt-16 sm:pt-20 flex items-center justify-center w-full border-4 border-gradient-to-r from-blue-500/30 via-purple-500/30 to-pink-500/30 shadow-2xl overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-blue-500/10 before:via-purple-500/10 before:to-pink-500/10 before:animate-pulse before:pointer-events-none after:absolute after:inset-0 after:border-2 after:border-gradient-to-r after:from-cyan-400/20 after:via-purple-400/20 after:to-pink-400/20 after:rounded-lg after:animate-pulse after:pointer-events-none",children:[s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 sm:w-8 sm:h-8 border-l-3 border-t-3 border-blue-400/60 rounded-tl-xl z-10"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 sm:w-8 sm:h-8 border-r-3 border-t-3 border-purple-400/60 rounded-tr-xl z-10"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 sm:w-8 sm:h-8 border-l-3 border-b-3 border-pink-400/60 rounded-bl-xl z-10"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 sm:w-8 sm:h-8 border-r-3 border-b-3 border-cyan-400/60 rounded-br-xl z-10"}),s.jsx("div",{className:"absolute inset-2 rounded-xl bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5 animate-pulse pointer-events-none z-10"}),s.jsx(zb,{lengthCm:a.customWidth,waterproof:a.isWaterproof,uvOn:!!a.hasUvPrint,neonOn:t&&!r,currentSvgContent:p[a.selectedDesign.id]||null,onSvgUpload:A=>{f(A?U=>({...U,[a.selectedDesign.id]:A}):U=>{const F={...U};return delete F[a.selectedDesign.id],F})}}),s.jsx("button",{onClick:()=>{const A=c.findIndex(F=>F.id===a.selectedDesign.id),U=A>0?A-1:c.length-1;I(c[U])},className:"absolute left-2 sm:left-6 top-1/2 transform -translate-y-1/2 transition-all duration-300",children:s.jsx(lv,{className:"h-8 w-4 sm:h-12 sm:w-6 text-white drop-shadow-lg"})}),s.jsx("button",{onClick:()=>{const A=c.findIndex(F=>F.id===a.selectedDesign.id),U=A<c.length-1?A+1:0;I(c[U])},className:"absolute right-2 sm:right-6 top-1/2 transform -translate-y-1/2 transition-all duration-300",children:s.jsx(ov,{className:"h-8 w-4 sm:h-12 sm:w-6 text-white drop-shadow-lg"})}),s.jsx("div",{className:"absolute bottom-4 sm:bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2 sm:space-x-3",children:c.map((A,U)=>s.jsx("button",{onClick:()=>I(c[U]),className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full transition-all duration-300 border-2 border-white/50 ${U===c.findIndex(F=>F.id===a.selectedDesign.id)?"bg-white shadow-lg shadow-white/50 scale-125":"bg-white/30 hover:bg-white/60 backdrop-blur-sm"}`},U))})]}),s.jsx("div",{className:"mx-4 sm:mx-6 lg:mx-8 -mt-1",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between text-xs py-3 px-4 sm:px-6 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-100 space-y-2 sm:space-y-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-xs font-bold text-green-800",children:"Technische Daten"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Elemente:"}),s.jsx("span",{className:"font-bold text-green-600 ml-1",children:a.selectedDesign.elements})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"LED-Länge:"}),s.jsxs("span",{className:"font-bold text-green-600 ml-1",children:[Qs(a.selectedDesign.originalWidth,a.selectedDesign.originalHeight,a.selectedDesign.ledLength,a.customWidth,a.calculatedHeight),"m"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Verbrauch:"}),s.jsxs("span",{className:"font-bold text-green-600 ml-1",children:[Math.round(Qs(a.selectedDesign.originalWidth,a.selectedDesign.originalHeight,a.selectedDesign.ledLength,a.customWidth,a.calculatedHeight)*8*1.25),"W"]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-xs font-bold text-blue-800",children:"Originale Daten"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Breite:"}),s.jsxs("span",{className:"font-bold text-blue-600 ml-1",children:[a.selectedDesign.originalWidth,"cm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Höhe:"}),s.jsxs("span",{className:"font-bold text-blue-600 ml-1",children:[a.selectedDesign.originalHeight,"cm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"LED-Länge:"}),s.jsxs("span",{className:"font-bold text-blue-600 ml-1",children:[a.selectedDesign.ledLength,"m"]})]})]})]})]})})]}),s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 space-y-4 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-2",children:s.jsx(ip,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Konfiguration"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[m?s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 animate-pulse justify-center",children:[s.jsx("div",{className:"bg-green-500 rounded-full p-0.5",children:s.jsx("svg",{className:"w-4 h-4 text-white animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"text-green-800 font-bold text-sm sm:text-base animate-pulse",children:"Im Warenkorb"}),s.jsxs("div",{className:"text-sm sm:text-base font-bold text-green-800",children:["€",Z.toFixed(2)]})]})}):s.jsxs("button",{onClick:()=>D(a.selectedDesign),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-xl hover:shadow-2xl flex items-center justify-center space-x-2 sm:space-x-3 text-sm sm:text-lg group relative overflow-hidden z-20",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 opacity-0 group-hover:opacity-20 transition-opacity duration-300 animate-pulse"}),s.jsx("div",{className:"bg-white/20 rounded-full p-0.5",children:s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("span",{className:"font-bold relative z-10",children:G>0?"Weitere hinzufügen":"Hinzufügen"}),s.jsxs("div",{className:"bg-white/20 rounded-full px-2 sm:px-3 py-1 text-sm sm:text-base font-bold",children:["€",Z.toFixed(2)]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:S,className:"relative bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-3 sm:py-4 px-4 sm:px-8 rounded-xl transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-xl hover:shadow-2xl flex items-center justify-center space-x-2 sm:space-x-3 font-bold text-sm sm:text-lg group z-10 overflow-hidden w-full sm:w-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-500 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-out"}),s.jsx(Za,{className:"h-5 w-5 sm:h-6 sm:w-6 relative z-10 group-hover:animate-bounce"}),s.jsx("span",{className:"font-bold relative z-10",children:"Versand berechnen"})]}),re>0&&s.jsx("div",{className:"absolute -top-2 -right-2 sm:-top-3 sm:-right-3 bg-red-500 text-white text-xs sm:text-sm font-bold rounded-full h-6 w-6 sm:h-8 sm:w-8 flex items-center justify-center animate-bounce shadow-xl border-2 sm:border-3 border-white z-30",children:re})]})]})]}),s.jsx("div",{className:"space-y-3 mb-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Breite"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("input",{type:"number",min:"30",max:E,value:a.customWidth,onChange:A=>R(Number(A.target.value)),className:"flex-1 px-2 py-1 border border-gray-300 rounded-lg text-center font-medium focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs px-1 py-0.5 rounded animate-pulse",children:"⚡"}),s.jsx("span",{className:"text-gray-600 font-medium text-sm",children:"cm"})]}),s.jsx("input",{type:"range",min:"30",max:a.isTwoPart?1e3:300,value:a.customWidth,onChange:A=>N({customWidth:Number(A.target.value)}),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"30cm"}),s.jsx("span",{children:a.isTwoPart?"10m":"3m"})]}),a.customWidth>=300&&s.jsx("div",{className:"mt-3 animate-fade-in",children:s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:a.isTwoPart||!1,onChange:A=>N({isTwoPart:A.target.checked}),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 rounded"}),s.jsx(ap,{className:"h-4 w-4 text-orange-600"}),s.jsxs("div",{className:"flex items-center space-x-1 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Mehrteilig (+15%)"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Or,{className:"h-4 w-4 text-orange-500 hover:text-orange-700 cursor-help transition-colors"}),s.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:["Das Schild wird aus mehreren Teilen gefertigt und muss vor Ort zusammengesetzt werden",s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),s.jsx("div",{className:"text-xs text-orange-600",children:"Erforderlich ab 300cm"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Höhe"}),s.jsx("div",{className:"bg-gray-100 px-2 py-2 rounded-lg text-center mb-1",children:s.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[a.calculatedHeight," cm"]})}),s.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Automatisch berechnet"}),s.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:"Max: 200cm"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 overflow-visible",style:{position:"relative",zIndex:1},children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{onClick:()=>N({isWaterproof:!a.isWaterproof}),className:`flex flex-col items-center justify-center p-3 sm:p-4 rounded-md border-2 transition-all duration-300 hover:scale-105 w-full ${a.isWaterproof?"bg-blue-500 border-blue-500 text-white shadow-lg":"bg-white border-gray-200 text-gray-700 hover:border-blue-300 hover:bg-blue-50"}`,children:[s.jsx(ai,{className:"h-4 w-4 sm:h-5 sm:w-5 mb-1"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight text-center",children:"Wasserdicht"}),s.jsx(Or,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-400 hover:text-blue-600 cursor-help transition-colors"})]}),s.jsx("span",{className:"text-xs opacity-75 leading-tight",children:"+25%"})]}),s.jsxs("div",{className:"absolute -top-12 sm:-top-10 left-1/2 transform -translate-x-1/2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-[9999] border border-gray-700",children:["Für Außenbereich geeignet • UV-Schutz & Wasserschutz (IP65)",s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]}),s.jsxs("button",{onClick:()=>N({hasUvPrint:!a.hasUvPrint}),className:`flex flex-col items-center justify-center p-3 sm:p-4 rounded-md border-2 transition-all duration-300 hover:scale-105 relative ${a.hasUvPrint?"bg-purple-500 border-purple-500 text-white shadow-lg":"bg-white border-gray-200 text-gray-700 hover:border-purple-300 hover:bg-purple-50"}`,children:[s.jsx(sp,{className:"h-4 w-4 sm:h-5 sm:w-5 mb-1"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight text-center",children:"UV-Druck"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Or,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-400 hover:text-purple-600 cursor-help transition-colors"}),s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-20 min-w-max",children:["Hochwertige UV-Farben im Hintergrund",s.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),s.jsx("span",{className:"text-xs opacity-75 leading-tight",children:"Empfohlen"})]}),s.jsxs("button",{onClick:()=>N({hasHangingSystem:!a.hasHangingSystem}),className:`flex flex-col items-center justify-center p-3 sm:p-4 rounded-md border-2 transition-all duration-300 hover:scale-105 ${a.hasHangingSystem?"bg-green-500 border-green-500 text-white shadow-lg":"bg-white border-gray-200 text-gray-700 hover:border-green-300 hover:bg-green-50"}`,children:[s.jsx("div",{className:"text-green-600 text-base sm:text-lg mb-1",children:"🔗"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight text-center",children:"Hängesystem"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Or,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-400 hover:text-green-600 cursor-help transition-colors"}),s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-20 min-w-max",children:["Spezielle Aufhängevorrichtung für die Montage an Stahlseilen. Ohne diese Option erhalten Sie Standard-Wandhalterungen.",s.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),s.jsx("span",{className:"text-xs opacity-75 leading-tight",children:"Optional"})]}),s.jsxs("button",{onClick:()=>N({expressProduction:!a.expressProduction}),className:`flex flex-col items-center justify-center p-3 sm:p-4 rounded-md border-2 transition-all duration-300 hover:scale-105 ${a.expressProduction?"bg-orange-500 border-orange-500 text-white shadow-lg":"bg-white border-gray-200 text-gray-700 hover:border-orange-300 hover:bg-orange-50"}`,children:[s.jsx("div",{className:"text-orange-600 text-base sm:text-lg mb-1",children:"⚡"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight text-center",children:"Express"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Or,{className:"h-3 w-3 sm:h-4 sm:w-4 text-orange-400 hover:text-orange-600 cursor-help transition-colors"}),s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-20 min-w-max",children:["5 Tage anstatt 2-3 Wochen Produktionszeit",s.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),s.jsx("span",{className:"text-xs opacity-75 leading-tight",children:"+30%"})]})]})]})})]}),x==="cart"&&s.jsx("div",{className:"pt-20 lg:pt-0",children:s.jsx(wb,{config:a,onConfigChange:N,onShippingChange:V,onSignToggle:O,onRemoveSign:J,onBackToDesign:()=>b("design")})})]}),s.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 shadow-lg px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[re," Artikel • €",Z.toFixed(2)]}),s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Gesamt: €",(Z*1.19).toFixed(2)]})]}),s.jsx("button",{onClick:$,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Warenkorb"})]})}),s.jsx("div",{className:"mt-8 mb-4",children:s.jsx(Rv,{})}),s.jsx("footer",{className:"text-gray-500 py-4 px-4 border-t border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-2 text-xs",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"© 2025, Nontel Alle Rechte vorbehalten"}),s.jsx("a",{href:"/widerrufsrecht",className:"hover:text-blue-600 transition-colors font-medium",children:"Widerrufsrecht"}),s.jsx("span",{className:"text-gray-300",children:"•"}),s.jsx("a",{href:"/datenschutz",className:"hover:text-blue-600 transition-colors font-medium",children:"Datenschutzerklärung"}),s.jsx("span",{className:"text-gray-300",children:"•"}),s.jsx("a",{href:"/agb",className:"hover:text-blue-600 transition-colors font-medium",children:"AGB"}),s.jsx("span",{className:"text-gray-300",children:"•"}),s.jsx("a",{href:"/zahlung-versand",className:"hover:text-blue-600 transition-colors font-medium",children:"Zahlung und Versand"}),s.jsx("span",{className:"text-gray-300",children:"•"}),s.jsx("a",{href:"/impressum",className:"hover:text-blue-600 transition-colors font-medium",children:"Impressum"})]})})})})]})]})}Ff(document.getElementById("root")).render(s.jsx(v.StrictMode,{children:s.jsx(jj,{})}));
